(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function u(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(o){if(o.ep)return;o.ep=!0;const f=u(o);fetch(o.href,f)}})();function L1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Nc={exports:{}},gu={};var Rm;function X1(){if(Rm)return gu;Rm=1;var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function u(s,o,f){var d=null;if(f!==void 0&&(d=""+f),o.key!==void 0&&(d=""+o.key),"key"in o){f={};for(var y in o)y!=="key"&&(f[y]=o[y])}else f=o;return o=f.ref,{$$typeof:n,type:s,key:d,ref:o!==void 0?o:null,props:f}}return gu.Fragment=a,gu.jsx=u,gu.jsxs=u,gu}var Cm;function V1(){return Cm||(Cm=1,Nc.exports=X1()),Nc.exports}var Ct=V1(),Hc={exports:{}},At={};var zm;function Q1(){if(zm)return At;zm=1;var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),p=Symbol.iterator;function M(C){return C===null||typeof C!="object"?null:(C=p&&C[p]||C["@@iterator"],typeof C=="function"?C:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,x={};function w(C,j,nt){this.props=C,this.context=j,this.refs=x,this.updater=nt||E}w.prototype.isReactComponent={},w.prototype.setState=function(C,j){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,j,"setState")},w.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function U(){}U.prototype=w.prototype;function V(C,j,nt){this.props=C,this.context=j,this.refs=x,this.updater=nt||E}var P=V.prototype=new U;P.constructor=V,D(P,w.prototype),P.isPureReactComponent=!0;var G=Array.isArray;function O(){}var R={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function K(C,j,nt){var it=nt.ref;return{$$typeof:n,type:C,key:j,ref:it!==void 0?it:null,props:nt}}function tt(C,j){return K(C.type,j,C.props)}function et(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function ut(C){var j={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(nt){return j[nt]})}var vt=/\/+/g;function pt(C,j){return typeof C=="object"&&C!==null&&C.key!=null?ut(""+C.key):j.toString(36)}function yt(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(O,O):(C.status="pending",C.then(function(j){C.status==="pending"&&(C.status="fulfilled",C.value=j)},function(j){C.status==="pending"&&(C.status="rejected",C.reason=j)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function N(C,j,nt,it,mt){var bt=typeof C;(bt==="undefined"||bt==="boolean")&&(C=null);var Ot=!1;if(C===null)Ot=!0;else switch(bt){case"bigint":case"string":case"number":Ot=!0;break;case"object":switch(C.$$typeof){case n:case a:Ot=!0;break;case b:return Ot=C._init,N(Ot(C._payload),j,nt,it,mt)}}if(Ot)return mt=mt(C),Ot=it===""?"."+pt(C,0):it,G(mt)?(nt="",Ot!=null&&(nt=Ot.replace(vt,"$&/")+"/"),N(mt,j,nt,"",function(rn){return rn})):mt!=null&&(et(mt)&&(mt=tt(mt,nt+(mt.key==null||C&&C.key===mt.key?"":(""+mt.key).replace(vt,"$&/")+"/")+Ot)),j.push(mt)),1;Ot=0;var re=it===""?".":it+":";if(G(C))for(var Zt=0;Zt<C.length;Zt++)it=C[Zt],bt=re+pt(it,Zt),Ot+=N(it,j,nt,bt,mt);else if(Zt=M(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!(it=C.next()).done;)it=it.value,bt=re+pt(it,Zt++),Ot+=N(it,j,nt,bt,mt);else if(bt==="object"){if(typeof C.then=="function")return N(yt(C),j,nt,it,mt);throw j=String(C),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return Ot}function k(C,j,nt){if(C==null)return C;var it=[],mt=0;return N(C,it,"","",function(bt){return j.call(nt,bt,mt++)}),it}function lt(C){if(C._status===-1){var j=C._result;j=j(),j.then(function(nt){(C._status===0||C._status===-1)&&(C._status=1,C._result=nt)},function(nt){(C._status===0||C._status===-1)&&(C._status=2,C._result=nt)}),C._status===-1&&(C._status=0,C._result=j)}if(C._status===1)return C._result.default;throw C._result}var rt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},ft={map:k,forEach:function(C,j,nt){k(C,function(){j.apply(this,arguments)},nt)},count:function(C){var j=0;return k(C,function(){j++}),j},toArray:function(C){return k(C,function(j){return j})||[]},only:function(C){if(!et(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return At.Activity=S,At.Children=ft,At.Component=w,At.Fragment=u,At.Profiler=o,At.PureComponent=V,At.StrictMode=s,At.Suspense=m,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,At.__COMPILER_RUNTIME={__proto__:null,c:function(C){return R.H.useMemoCache(C)}},At.cache=function(C){return function(){return C.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(C,j,nt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var it=D({},C.props),mt=C.key;if(j!=null)for(bt in j.key!==void 0&&(mt=""+j.key),j)!X.call(j,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&j.ref===void 0||(it[bt]=j[bt]);var bt=arguments.length-2;if(bt===1)it.children=nt;else if(1<bt){for(var Ot=Array(bt),re=0;re<bt;re++)Ot[re]=arguments[re+2];it.children=Ot}return K(C.type,mt,it)},At.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},At.createElement=function(C,j,nt){var it,mt={},bt=null;if(j!=null)for(it in j.key!==void 0&&(bt=""+j.key),j)X.call(j,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(mt[it]=j[it]);var Ot=arguments.length-2;if(Ot===1)mt.children=nt;else if(1<Ot){for(var re=Array(Ot),Zt=0;Zt<Ot;Zt++)re[Zt]=arguments[Zt+2];mt.children=re}if(C&&C.defaultProps)for(it in Ot=C.defaultProps,Ot)mt[it]===void 0&&(mt[it]=Ot[it]);return K(C,bt,mt)},At.createRef=function(){return{current:null}},At.forwardRef=function(C){return{$$typeof:y,render:C}},At.isValidElement=et,At.lazy=function(C){return{$$typeof:b,_payload:{_status:-1,_result:C},_init:lt}},At.memo=function(C,j){return{$$typeof:h,type:C,compare:j===void 0?null:j}},At.startTransition=function(C){var j=R.T,nt={};R.T=nt;try{var it=C(),mt=R.S;mt!==null&&mt(nt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(O,rt)}catch(bt){rt(bt)}finally{j!==null&&nt.types!==null&&(j.types=nt.types),R.T=j}},At.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},At.use=function(C){return R.H.use(C)},At.useActionState=function(C,j,nt){return R.H.useActionState(C,j,nt)},At.useCallback=function(C,j){return R.H.useCallback(C,j)},At.useContext=function(C){return R.H.useContext(C)},At.useDebugValue=function(){},At.useDeferredValue=function(C,j){return R.H.useDeferredValue(C,j)},At.useEffect=function(C,j){return R.H.useEffect(C,j)},At.useEffectEvent=function(C){return R.H.useEffectEvent(C)},At.useId=function(){return R.H.useId()},At.useImperativeHandle=function(C,j,nt){return R.H.useImperativeHandle(C,j,nt)},At.useInsertionEffect=function(C,j){return R.H.useInsertionEffect(C,j)},At.useLayoutEffect=function(C,j){return R.H.useLayoutEffect(C,j)},At.useMemo=function(C,j){return R.H.useMemo(C,j)},At.useOptimistic=function(C,j){return R.H.useOptimistic(C,j)},At.useReducer=function(C,j,nt){return R.H.useReducer(C,j,nt)},At.useRef=function(C){return R.H.useRef(C)},At.useState=function(C){return R.H.useState(C)},At.useSyncExternalStore=function(C,j,nt){return R.H.useSyncExternalStore(C,j,nt)},At.useTransition=function(){return R.H.useTransition()},At.version="19.2.4",At}var Bm;function pf(){return Bm||(Bm=1,Hc.exports=Q1()),Hc.exports}var Un=pf();const Z1=L1(Un);var _c={exports:{}},mu={},jc={exports:{}},Gc={};var Um;function K1(){return Um||(Um=1,(function(n){function a(N,k){var lt=N.length;N.push(k);t:for(;0<lt;){var rt=lt-1>>>1,ft=N[rt];if(0<o(ft,k))N[rt]=k,N[lt]=ft,lt=rt;else break t}}function u(N){return N.length===0?null:N[0]}function s(N){if(N.length===0)return null;var k=N[0],lt=N.pop();if(lt!==k){N[0]=lt;t:for(var rt=0,ft=N.length,C=ft>>>1;rt<C;){var j=2*(rt+1)-1,nt=N[j],it=j+1,mt=N[it];if(0>o(nt,lt))it<ft&&0>o(mt,nt)?(N[rt]=mt,N[it]=lt,rt=it):(N[rt]=nt,N[j]=lt,rt=j);else if(it<ft&&0>o(mt,lt))N[rt]=mt,N[it]=lt,rt=it;else break t}}return k}function o(N,k){var lt=N.sortIndex-k.sortIndex;return lt!==0?lt:N.id-k.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var d=Date,y=d.now();n.unstable_now=function(){return d.now()-y}}var m=[],h=[],b=1,S=null,p=3,M=!1,E=!1,D=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function P(N){for(var k=u(h);k!==null;){if(k.callback===null)s(h);else if(k.startTime<=N)s(h),k.sortIndex=k.expirationTime,a(m,k);else break;k=u(h)}}function G(N){if(D=!1,P(N),!E)if(u(m)!==null)E=!0,O||(O=!0,ut());else{var k=u(h);k!==null&&yt(G,k.startTime-N)}}var O=!1,R=-1,X=5,K=-1;function tt(){return x?!0:!(n.unstable_now()-K<X)}function et(){if(x=!1,O){var N=n.unstable_now();K=N;var k=!0;try{t:{E=!1,D&&(D=!1,U(R),R=-1),M=!0;var lt=p;try{e:{for(P(N),S=u(m);S!==null&&!(S.expirationTime>N&&tt());){var rt=S.callback;if(typeof rt=="function"){S.callback=null,p=S.priorityLevel;var ft=rt(S.expirationTime<=N);if(N=n.unstable_now(),typeof ft=="function"){S.callback=ft,P(N),k=!0;break e}S===u(m)&&s(m),P(N)}else s(m);S=u(m)}if(S!==null)k=!0;else{var C=u(h);C!==null&&yt(G,C.startTime-N),k=!1}}break t}finally{S=null,p=lt,M=!1}k=void 0}}finally{k?ut():O=!1}}}var ut;if(typeof V=="function")ut=function(){V(et)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,pt=vt.port2;vt.port1.onmessage=et,ut=function(){pt.postMessage(null)}}else ut=function(){w(et,0)};function yt(N,k){R=w(function(){N(n.unstable_now())},k)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_next=function(N){switch(p){case 1:case 2:case 3:var k=3;break;default:k=p}var lt=p;p=k;try{return N()}finally{p=lt}},n.unstable_requestPaint=function(){x=!0},n.unstable_runWithPriority=function(N,k){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var lt=p;p=N;try{return k()}finally{p=lt}},n.unstable_scheduleCallback=function(N,k,lt){var rt=n.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?rt+lt:rt):lt=rt,N){case 1:var ft=-1;break;case 2:ft=250;break;case 5:ft=1073741823;break;case 4:ft=1e4;break;default:ft=5e3}return ft=lt+ft,N={id:b++,callback:k,priorityLevel:N,startTime:lt,expirationTime:ft,sortIndex:-1},lt>rt?(N.sortIndex=lt,a(h,N),u(m)===null&&N===u(h)&&(D?(U(R),R=-1):D=!0,yt(G,lt-rt))):(N.sortIndex=ft,a(m,N),E||M||(E=!0,O||(O=!0,ut()))),N},n.unstable_shouldYield=tt,n.unstable_wrapCallback=function(N){var k=p;return function(){var lt=p;p=k;try{return N.apply(this,arguments)}finally{p=lt}}}})(Gc)),Gc}var Nm;function J1(){return Nm||(Nm=1,jc.exports=K1()),jc.exports}var Yc={exports:{}},Te={};var Hm;function F1(){if(Hm)return Te;Hm=1;var n=pf();function a(m){var h="https://react.dev/errors/"+m;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)h+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+m+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(){}var s={d:{f:u,r:function(){throw Error(a(522))},D:u,C:u,L:u,m:u,X:u,S:u,M:u},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(m,h,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:m,containerInfo:h,implementation:b}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(m,h){if(m==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Te.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Te.createPortal=function(m,h){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(a(299));return f(m,h,null,b)},Te.flushSync=function(m){var h=d.T,b=s.p;try{if(d.T=null,s.p=2,m)return m()}finally{d.T=h,s.p=b,s.d.f()}},Te.preconnect=function(m,h){typeof m=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(m,h))},Te.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Te.preinit=function(m,h){if(typeof m=="string"&&h&&typeof h.as=="string"){var b=h.as,S=y(b,h.crossOrigin),p=typeof h.integrity=="string"?h.integrity:void 0,M=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;b==="style"?s.d.S(m,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:S,integrity:p,fetchPriority:M}):b==="script"&&s.d.X(m,{crossOrigin:S,integrity:p,fetchPriority:M,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Te.preinitModule=function(m,h){if(typeof m=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var b=y(h.as,h.crossOrigin);s.d.M(m,{crossOrigin:b,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(m)},Te.preload=function(m,h){if(typeof m=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var b=h.as,S=y(b,h.crossOrigin);s.d.L(m,b,{crossOrigin:S,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Te.preloadModule=function(m,h){if(typeof m=="string")if(h){var b=y(h.as,h.crossOrigin);s.d.m(m,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:b,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(m)},Te.requestFormReset=function(m){s.d.r(m)},Te.unstable_batchedUpdates=function(m,h){return m(h)},Te.useFormState=function(m,h,b){return d.H.useFormState(m,h,b)},Te.useFormStatus=function(){return d.H.useHostTransitionStatus()},Te.version="19.2.4",Te}var _m;function k1(){if(_m)return Yc.exports;_m=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),Yc.exports=F1(),Yc.exports}var jm;function W1(){if(jm)return mu;jm=1;var n=J1(),a=pf(),u=k1();function s(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)e+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var e=t,l=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(l=e.return),t=e.return;while(t)}return e.tag===3?l:null}function d(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function m(t){if(f(t)!==t)throw Error(s(188))}function h(t){var e=t.alternate;if(!e){if(e=f(t),e===null)throw Error(s(188));return e!==t?null:t}for(var l=t,i=e;;){var r=l.return;if(r===null)break;var c=r.alternate;if(c===null){if(i=r.return,i!==null){l=i;continue}break}if(r.child===c.child){for(c=r.child;c;){if(c===l)return m(r),t;if(c===i)return m(r),e;c=c.sibling}throw Error(s(188))}if(l.return!==i.return)l=r,i=c;else{for(var g=!1,A=r.child;A;){if(A===l){g=!0,l=r,i=c;break}if(A===i){g=!0,i=r,l=c;break}A=A.sibling}if(!g){for(A=c.child;A;){if(A===l){g=!0,l=c,i=r;break}if(A===i){g=!0,i=c,l=r;break}A=A.sibling}if(!g)throw Error(s(189))}}if(l.alternate!==i)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?t:e}function b(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=b(t),e!==null)return e;t=t.sibling}return null}var S=Object.assign,p=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),V=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),tt=Symbol.for("react.memo_cache_sentinel"),et=Symbol.iterator;function ut(t){return t===null||typeof t!="object"?null:(t=et&&t[et]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Symbol.for("react.client.reference");function pt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===vt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case w:return"Profiler";case x:return"StrictMode";case G:return"Suspense";case O:return"SuspenseList";case K:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case E:return"Portal";case V:return t.displayName||"Context";case U:return(t._context.displayName||"Context")+".Consumer";case P:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return e=t.displayName||null,e!==null?e:pt(t.type)||"Memo";case X:e=t._payload,t=t._init;try{return pt(t(e))}catch{}}return null}var yt=Array.isArray,N=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},rt=[],ft=-1;function C(t){return{current:t}}function j(t){0>ft||(t.current=rt[ft],rt[ft]=null,ft--)}function nt(t,e){ft++,rt[ft]=t.current,t.current=e}var it=C(null),mt=C(null),bt=C(null),Ot=C(null);function re(t,e){switch(nt(bt,e),nt(mt,t),nt(it,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?$g(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=$g(e),t=tm(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}j(it),nt(it,t)}function Zt(){j(it),j(mt),j(bt)}function rn(t){t.memoizedState!==null&&nt(Ot,t);var e=it.current,l=tm(e,t.type);e!==l&&(nt(mt,t),nt(it,l))}function De(t){mt.current===t&&(j(it),j(mt)),Ot.current===t&&(j(Ot),cu._currentValue=lt)}var ga,ct;function gt(t){if(ga===void 0)try{throw Error()}catch(l){var e=l.stack.trim().match(/\n( *(at )?)/);ga=e&&e[1]||"",ct=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ga+t+ct}var xt=!1;function Yt(t,e){if(!t||xt)return"";xt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(Z){var Y=Z}Reflect.construct(t,[],I)}else{try{I.call()}catch(Z){Y=Z}t.call(I.prototype)}}else{try{throw Error()}catch(Z){Y=Z}(I=t())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(Z){if(Z&&Y&&typeof Z.stack=="string")return[Z.stack,Y.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=i.DetermineComponentFrameRoot(),g=c[0],A=c[1];if(g&&A){var q=g.split(`
`),_=A.split(`
`);for(r=i=0;i<q.length&&!q[i].includes("DetermineComponentFrameRoot");)i++;for(;r<_.length&&!_[r].includes("DetermineComponentFrameRoot");)r++;if(i===q.length||r===_.length)for(i=q.length-1,r=_.length-1;1<=i&&0<=r&&q[i]!==_[r];)r--;for(;1<=i&&0<=r;i--,r--)if(q[i]!==_[r]){if(i!==1||r!==1)do if(i--,r--,0>r||q[i]!==_[r]){var J=`
`+q[i].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=i&&0<=r);break}}}finally{xt=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?gt(l):""}function oe(t,e){switch(t.tag){case 26:case 27:case 5:return gt(t.type);case 16:return gt("Lazy");case 13:return t.child!==e&&e!==null?gt("Suspense Fallback"):gt("Suspense");case 19:return gt("SuspenseList");case 0:case 15:return Yt(t.type,!1);case 11:return Yt(t.type.render,!1);case 1:return Yt(t.type,!0);case 31:return gt("Activity");default:return""}}function zt(t){try{var e="",l=null;do e+=oe(t,l),l=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var ge=Object.prototype.hasOwnProperty,on=n.unstable_scheduleCallback,Fa=n.unstable_cancelCallback,xi=n.unstable_shouldYield,Si=n.unstable_requestPaint,ye=n.unstable_now,ql=n.unstable_getCurrentPriorityLevel,Je=n.unstable_ImmediatePriority,Tn=n.unstable_UserBlockingPriority,Vn=n.unstable_NormalPriority,Oe=n.unstable_LowPriority,ma=n.unstable_IdlePriority,qn=n.log,Dl=n.unstable_setDisableYieldValue,ka=null,Re=null;function Dn(t){if(typeof qn=="function"&&Dl(t),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(ka,t)}catch{}}var Ce=Math.clz32?Math.clz32:Ei,Er=Math.log,ze=Math.LN2;function Ei(t){return t>>>=0,t===0?32:31-(Er(t)/ze|0)|0}var Qn=256,Wa=262144,Ia=4194304;function Zn(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Pa(t,e,l){var i=t.pendingLanes;if(i===0)return 0;var r=0,c=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var A=i&134217727;return A!==0?(i=A&~c,i!==0?r=Zn(i):(g&=A,g!==0?r=Zn(g):l||(l=A&~t,l!==0&&(r=Zn(l))))):(A=i&~c,A!==0?r=Zn(A):g!==0?r=Zn(g):l||(l=i&~t,l!==0&&(r=Zn(l)))),r===0?0:e!==0&&e!==r&&(e&c)===0&&(c=r&-r,l=e&-e,c>=l||c===32&&(l&4194048)!==0)?e:r}function pa(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function T(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q(){var t=Ia;return Ia<<=1,(Ia&62914560)===0&&(Ia=4194304),t}function $(t){for(var e=[],l=0;31>l;l++)e.push(t);return e}function at(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Nt(t,e,l,i,r,c){var g=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var A=t.entanglements,q=t.expirationTimes,_=t.hiddenUpdates;for(l=g&~l;0<l;){var J=31-Ce(l),I=1<<J;A[J]=0,q[J]=-1;var Y=_[J];if(Y!==null)for(_[J]=null,J=0;J<Y.length;J++){var Z=Y[J];Z!==null&&(Z.lane&=-536870913)}l&=~I}i!==0&&Kt(t,i,0),c!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=c&~(g&~e))}function Kt(t,e,l){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-Ce(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|l&261930}function Be(t,e){var l=t.entangledLanes|=e;for(t=t.entanglements;l;){var i=31-Ce(l),r=1<<i;r&e|t[i]&e&&(t[i]|=e),l&=~r}}function Kn(t,e){var l=e&-e;return l=(l&42)!==0?1:Fe(l),(l&(t.suspendedLanes|e))!==0?0:l}function Fe(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function On(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ol(){var t=k.p;return t!==0?t:(t=window.event,t===void 0?32:Sm(t.type))}function Gf(t,e){var l=k.p;try{return k.p=t,e()}finally{k.p=l}}var ya=Math.random().toString(36).slice(2),ve="__reactFiber$"+ya,He="__reactProps$"+ya,Rl="__reactContainer$"+ya,Mr="__reactEvents$"+ya,R0="__reactListeners$"+ya,C0="__reactHandles$"+ya,Yf="__reactResources$"+ya,Mi="__reactMarker$"+ya;function Tr(t){delete t[ve],delete t[He],delete t[Mr],delete t[R0],delete t[C0]}function Cl(t){var e=t[ve];if(e)return e;for(var l=t.parentNode;l;){if(e=l[Rl]||l[ve]){if(l=e.alternate,e.child!==null||l!==null&&l.child!==null)for(t=sm(t);t!==null;){if(l=t[ve])return l;t=sm(t)}return e}t=l,l=t.parentNode}return null}function zl(t){if(t=t[ve]||t[Rl]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Ti(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(s(33))}function Bl(t){var e=t[Yf];return e||(e=t[Yf]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function me(t){t[Mi]=!0}var Lf=new Set,Xf={};function $a(t,e){Ul(t,e),Ul(t+"Capture",e)}function Ul(t,e){for(Xf[t]=e,t=0;t<e.length;t++)Lf.add(e[t])}var z0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vf={},Qf={};function B0(t){return ge.call(Qf,t)?!0:ge.call(Vf,t)?!1:z0.test(t)?Qf[t]=!0:(Vf[t]=!0,!1)}function Gu(t,e,l){if(B0(e))if(l===null)t.removeAttribute(e);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+l)}}function Yu(t,e,l){if(l===null)t.removeAttribute(e);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+l)}}function Jn(t,e,l,i){if(i===null)t.removeAttribute(l);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(e,l,""+i)}}function cn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function U0(t,e,l){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,c=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(g){l=""+g,c.call(this,g)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qr(t){if(!t._valueTracker){var e=Zf(t)?"checked":"value";t._valueTracker=U0(t,e,""+t[e])}}function Kf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var l=e.getValue(),i="";return t&&(i=Zf(t)?t.checked?"true":"false":t.value),t=i,t!==l?(e.setValue(t),!0):!1}function Lu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var N0=/[\n"\\]/g;function fn(t){return t.replace(N0,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Dr(t,e,l,i,r,c,g,A){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),e!=null?g==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+cn(e)):t.value!==""+cn(e)&&(t.value=""+cn(e)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),e!=null?Or(t,g,cn(e)):l!=null?Or(t,g,cn(l)):i!=null&&t.removeAttribute("value"),r==null&&c!=null&&(t.defaultChecked=!!c),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+cn(A):t.removeAttribute("name")}function Jf(t,e,l,i,r,c,g,A){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(t.type=c),e!=null||l!=null){if(!(c!=="submit"&&c!=="reset"||e!=null)){qr(t);return}l=l!=null?""+cn(l):"",e=e!=null?""+cn(e):l,A||e===t.value||(t.value=e),t.defaultValue=e}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=A?t.checked:!!i,t.defaultChecked=!!i,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),qr(t)}function Or(t,e,l){e==="number"&&Lu(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function Nl(t,e,l,i){if(t=t.options,e){e={};for(var r=0;r<l.length;r++)e["$"+l[r]]=!0;for(l=0;l<t.length;l++)r=e.hasOwnProperty("$"+t[l].value),t[l].selected!==r&&(t[l].selected=r),r&&i&&(t[l].defaultSelected=!0)}else{for(l=""+cn(l),e=null,r=0;r<t.length;r++){if(t[r].value===l){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Ff(t,e,l){if(e!=null&&(e=""+cn(e),e!==t.value&&(t.value=e),l==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=l!=null?""+cn(l):""}function kf(t,e,l,i){if(e==null){if(i!=null){if(l!=null)throw Error(s(92));if(yt(i)){if(1<i.length)throw Error(s(93));i=i[0]}l=i}l==null&&(l=""),e=l}l=cn(e),t.defaultValue=l,i=t.textContent,i===l&&i!==""&&i!==null&&(t.value=i),qr(t)}function Hl(t,e){if(e){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=e;return}}t.textContent=e}var H0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wf(t,e,l){var i=e.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,l):typeof l!="number"||l===0||H0.has(e)?e==="float"?t.cssFloat=l:t[e]=(""+l).trim():t[e]=l+"px"}function If(t,e,l){if(e!=null&&typeof e!="object")throw Error(s(62));if(t=t.style,l!=null){for(var i in l)!l.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var r in e)i=e[r],e.hasOwnProperty(r)&&l[r]!==i&&Wf(t,r,i)}else for(var c in e)e.hasOwnProperty(c)&&Wf(t,c,e[c])}function Rr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),j0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xu(t){return j0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Fn(){}var Cr=null;function zr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _l=null,jl=null;function Pf(t){var e=zl(t);if(e&&(t=e.stateNode)){var l=t[He]||null;t:switch(t=e.stateNode,e.type){case"input":if(Dr(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),e=l.name,l.type==="radio"&&e!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+fn(""+e)+'"][type="radio"]'),e=0;e<l.length;e++){var i=l[e];if(i!==t&&i.form===t.form){var r=i[He]||null;if(!r)throw Error(s(90));Dr(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<l.length;e++)i=l[e],i.form===t.form&&Kf(i)}break t;case"textarea":Ff(t,l.value,l.defaultValue);break t;case"select":e=l.value,e!=null&&Nl(t,!!l.multiple,e,!1)}}}var Br=!1;function $f(t,e,l){if(Br)return t(e,l);Br=!0;try{var i=t(e);return i}finally{if(Br=!1,(_l!==null||jl!==null)&&(Os(),_l&&(e=_l,t=jl,jl=_l=null,Pf(e),t)))for(e=0;e<t.length;e++)Pf(t[e])}}function qi(t,e){var l=t.stateNode;if(l===null)return null;var i=l[He]||null;if(i===null)return null;l=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break t;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(s(231,e,typeof l));return l}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ur=!1;if(kn)try{var Di={};Object.defineProperty(Di,"passive",{get:function(){Ur=!0}}),window.addEventListener("test",Di,Di),window.removeEventListener("test",Di,Di)}catch{Ur=!1}var va=null,Nr=null,Vu=null;function th(){if(Vu)return Vu;var t,e=Nr,l=e.length,i,r="value"in va?va.value:va.textContent,c=r.length;for(t=0;t<l&&e[t]===r[t];t++);var g=l-t;for(i=1;i<=g&&e[l-i]===r[c-i];i++);return Vu=r.slice(t,1<i?1-i:void 0)}function Qu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zu(){return!0}function eh(){return!1}function _e(t){function e(l,i,r,c,g){this._reactName=l,this._targetInst=r,this.type=i,this.nativeEvent=c,this.target=g,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(l=t[A],this[A]=l?l(c):c[A]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Zu:eh,this.isPropagationStopped=eh,this}return S(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Zu)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Zu)},persist:function(){},isPersistent:Zu}),e}var tl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ku=_e(tl),Oi=S({},tl,{view:0,detail:0}),G0=_e(Oi),Hr,_r,Ri,Ju=S({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ri&&(Ri&&t.type==="mousemove"?(Hr=t.screenX-Ri.screenX,_r=t.screenY-Ri.screenY):_r=Hr=0,Ri=t),Hr)},movementY:function(t){return"movementY"in t?t.movementY:_r}}),nh=_e(Ju),Y0=S({},Ju,{dataTransfer:0}),L0=_e(Y0),X0=S({},Oi,{relatedTarget:0}),jr=_e(X0),V0=S({},tl,{animationName:0,elapsedTime:0,pseudoElement:0}),Q0=_e(V0),Z0=S({},tl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),K0=_e(Z0),J0=S({},tl,{data:0}),ah=_e(J0),F0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},k0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=W0[t])?!!e[t]:!1}function Gr(){return I0}var P0=S({},Oi,{key:function(t){if(t.key){var e=F0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?k0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gr,charCode:function(t){return t.type==="keypress"?Qu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$0=_e(P0),ty=S({},Ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lh=_e(ty),ey=S({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gr}),ny=_e(ey),ay=S({},tl,{propertyName:0,elapsedTime:0,pseudoElement:0}),ly=_e(ay),iy=S({},Ju,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uy=_e(iy),sy=S({},tl,{newState:0,oldState:0}),ry=_e(sy),oy=[9,13,27,32],Yr=kn&&"CompositionEvent"in window,Ci=null;kn&&"documentMode"in document&&(Ci=document.documentMode);var cy=kn&&"TextEvent"in window&&!Ci,ih=kn&&(!Yr||Ci&&8<Ci&&11>=Ci),uh=" ",sh=!1;function rh(t,e){switch(t){case"keyup":return oy.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gl=!1;function fy(t,e){switch(t){case"compositionend":return oh(e);case"keypress":return e.which!==32?null:(sh=!0,uh);case"textInput":return t=e.data,t===uh&&sh?null:t;default:return null}}function hy(t,e){if(Gl)return t==="compositionend"||!Yr&&rh(t,e)?(t=th(),Vu=Nr=va=null,Gl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ih&&e.locale!=="ko"?null:e.data;default:return null}}var dy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ch(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dy[t.type]:e==="textarea"}function fh(t,e,l,i){_l?jl?jl.push(i):jl=[i]:_l=i,e=Hs(e,"onChange"),0<e.length&&(l=new Ku("onChange","change",null,l,i),t.push({event:l,listeners:e}))}var zi=null,Bi=null;function gy(t){Jg(t,0)}function Fu(t){var e=Ti(t);if(Kf(e))return t}function hh(t,e){if(t==="change")return e}var dh=!1;if(kn){var Lr;if(kn){var Xr="oninput"in document;if(!Xr){var gh=document.createElement("div");gh.setAttribute("oninput","return;"),Xr=typeof gh.oninput=="function"}Lr=Xr}else Lr=!1;dh=Lr&&(!document.documentMode||9<document.documentMode)}function mh(){zi&&(zi.detachEvent("onpropertychange",ph),Bi=zi=null)}function ph(t){if(t.propertyName==="value"&&Fu(Bi)){var e=[];fh(e,Bi,t,zr(t)),$f(gy,e)}}function my(t,e,l){t==="focusin"?(mh(),zi=e,Bi=l,zi.attachEvent("onpropertychange",ph)):t==="focusout"&&mh()}function py(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fu(Bi)}function yy(t,e){if(t==="click")return Fu(e)}function vy(t,e){if(t==="input"||t==="change")return Fu(e)}function Ay(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ke=typeof Object.is=="function"?Object.is:Ay;function Ui(t,e){if(ke(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var l=Object.keys(t),i=Object.keys(e);if(l.length!==i.length)return!1;for(i=0;i<l.length;i++){var r=l[i];if(!ge.call(e,r)||!ke(t[r],e[r]))return!1}return!0}function yh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vh(t,e){var l=yh(t);t=0;for(var i;l;){if(l.nodeType===3){if(i=t+l.textContent.length,t<=e&&i>=e)return{node:l,offset:e-t};t=i}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=yh(l)}}function Ah(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ah(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Lu(t.document);e instanceof t.HTMLIFrameElement;){try{var l=typeof e.contentWindow.location.href=="string"}catch{l=!1}if(l)t=e.contentWindow;else break;e=Lu(t.document)}return e}function Vr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var by=kn&&"documentMode"in document&&11>=document.documentMode,Yl=null,Qr=null,Ni=null,Zr=!1;function wh(t,e,l){var i=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Zr||Yl==null||Yl!==Lu(i)||(i=Yl,"selectionStart"in i&&Vr(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ni&&Ui(Ni,i)||(Ni=i,i=Hs(Qr,"onSelect"),0<i.length&&(e=new Ku("onSelect","select",null,e,l),t.push({event:e,listeners:i}),e.target=Yl)))}function el(t,e){var l={};return l[t.toLowerCase()]=e.toLowerCase(),l["Webkit"+t]="webkit"+e,l["Moz"+t]="moz"+e,l}var Ll={animationend:el("Animation","AnimationEnd"),animationiteration:el("Animation","AnimationIteration"),animationstart:el("Animation","AnimationStart"),transitionrun:el("Transition","TransitionRun"),transitionstart:el("Transition","TransitionStart"),transitioncancel:el("Transition","TransitionCancel"),transitionend:el("Transition","TransitionEnd")},Kr={},xh={};kn&&(xh=document.createElement("div").style,"AnimationEvent"in window||(delete Ll.animationend.animation,delete Ll.animationiteration.animation,delete Ll.animationstart.animation),"TransitionEvent"in window||delete Ll.transitionend.transition);function nl(t){if(Kr[t])return Kr[t];if(!Ll[t])return t;var e=Ll[t],l;for(l in e)if(e.hasOwnProperty(l)&&l in xh)return Kr[t]=e[l];return t}var Sh=nl("animationend"),Eh=nl("animationiteration"),Mh=nl("animationstart"),wy=nl("transitionrun"),xy=nl("transitionstart"),Sy=nl("transitioncancel"),Th=nl("transitionend"),qh=new Map,Jr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jr.push("scrollEnd");function Rn(t,e){qh.set(t,e),$a(e,[t])}var ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},hn=[],Xl=0,Fr=0;function Wu(){for(var t=Xl,e=Fr=Xl=0;e<t;){var l=hn[e];hn[e++]=null;var i=hn[e];hn[e++]=null;var r=hn[e];hn[e++]=null;var c=hn[e];if(hn[e++]=null,i!==null&&r!==null){var g=i.pending;g===null?r.next=r:(r.next=g.next,g.next=r),i.pending=r}c!==0&&Dh(l,r,c)}}function Iu(t,e,l,i){hn[Xl++]=t,hn[Xl++]=e,hn[Xl++]=l,hn[Xl++]=i,Fr|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function kr(t,e,l,i){return Iu(t,e,l,i),Pu(t)}function al(t,e){return Iu(t,null,null,e),Pu(t)}function Dh(t,e,l){t.lanes|=l;var i=t.alternate;i!==null&&(i.lanes|=l);for(var r=!1,c=t.return;c!==null;)c.childLanes|=l,i=c.alternate,i!==null&&(i.childLanes|=l),c.tag===22&&(t=c.stateNode,t===null||t._visibility&1||(r=!0)),t=c,c=c.return;return t.tag===3?(c=t.stateNode,r&&e!==null&&(r=31-Ce(l),t=c.hiddenUpdates,i=t[r],i===null?t[r]=[e]:i.push(e),e.lane=l|536870912),c):null}function Pu(t){if(50<au)throw au=0,ic=null,Error(s(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Vl={};function Ey(t,e,l,i){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function We(t,e,l,i){return new Ey(t,e,l,i)}function Wr(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wn(t,e){var l=t.alternate;return l===null?(l=We(t.tag,e,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=e,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,e=t.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function Oh(t,e){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,e=l.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function $u(t,e,l,i,r,c){var g=0;if(i=t,typeof t=="function")Wr(t)&&(g=1);else if(typeof t=="string")g=O1(t,l,it.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case K:return t=We(31,l,e,r),t.elementType=K,t.lanes=c,t;case D:return ll(l.children,r,c,e);case x:g=8,r|=24;break;case w:return t=We(12,l,e,r|2),t.elementType=w,t.lanes=c,t;case G:return t=We(13,l,e,r),t.elementType=G,t.lanes=c,t;case O:return t=We(19,l,e,r),t.elementType=O,t.lanes=c,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case V:g=10;break t;case U:g=9;break t;case P:g=11;break t;case R:g=14;break t;case X:g=16,i=null;break t}g=29,l=Error(s(130,t===null?"null":typeof t,"")),i=null}return e=We(g,l,e,r),e.elementType=t,e.type=i,e.lanes=c,e}function ll(t,e,l,i){return t=We(7,t,i,e),t.lanes=l,t}function Ir(t,e,l){return t=We(6,t,null,e),t.lanes=l,t}function Rh(t){var e=We(18,null,null,0);return e.stateNode=t,e}function Pr(t,e,l){return e=We(4,t.children!==null?t.children:[],t.key,e),e.lanes=l,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Ch=new WeakMap;function dn(t,e){if(typeof t=="object"&&t!==null){var l=Ch.get(t);return l!==void 0?l:(e={value:t,source:e,stack:zt(e)},Ch.set(t,e),e)}return{value:t,source:e,stack:zt(e)}}var Ql=[],Zl=0,ts=null,Hi=0,gn=[],mn=0,Aa=null,Nn=1,Hn="";function In(t,e){Ql[Zl++]=Hi,Ql[Zl++]=ts,ts=t,Hi=e}function zh(t,e,l){gn[mn++]=Nn,gn[mn++]=Hn,gn[mn++]=Aa,Aa=t;var i=Nn;t=Hn;var r=32-Ce(i)-1;i&=~(1<<r),l+=1;var c=32-Ce(e)+r;if(30<c){var g=r-r%5;c=(i&(1<<g)-1).toString(32),i>>=g,r-=g,Nn=1<<32-Ce(e)+r|l<<r|i,Hn=c+t}else Nn=1<<c|l<<r|i,Hn=t}function $r(t){t.return!==null&&(In(t,1),zh(t,1,0))}function to(t){for(;t===ts;)ts=Ql[--Zl],Ql[Zl]=null,Hi=Ql[--Zl],Ql[Zl]=null;for(;t===Aa;)Aa=gn[--mn],gn[mn]=null,Hn=gn[--mn],gn[mn]=null,Nn=gn[--mn],gn[mn]=null}function Bh(t,e){gn[mn++]=Nn,gn[mn++]=Hn,gn[mn++]=Aa,Nn=e.id,Hn=e.overflow,Aa=t}var Ae=null,Jt=null,Rt=!1,ba=null,pn=!1,eo=Error(s(519));function wa(t){var e=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _i(dn(e,t)),eo}function Uh(t){var e=t.stateNode,l=t.type,i=t.memoizedProps;switch(e[ve]=t,e[He]=i,l){case"dialog":Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":case"embed":Mt("load",e);break;case"video":case"audio":for(l=0;l<iu.length;l++)Mt(iu[l],e);break;case"source":Mt("error",e);break;case"img":case"image":case"link":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"input":Mt("invalid",e),Jf(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":Mt("invalid",e);break;case"textarea":Mt("invalid",e),kf(e,i.value,i.defaultValue,i.children)}l=i.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||e.textContent===""+l||i.suppressHydrationWarning===!0||Ig(e.textContent,l)?(i.popover!=null&&(Mt("beforetoggle",e),Mt("toggle",e)),i.onScroll!=null&&Mt("scroll",e),i.onScrollEnd!=null&&Mt("scrollend",e),i.onClick!=null&&(e.onclick=Fn),e=!0):e=!1,e||wa(t,!0)}function Nh(t){for(Ae=t.return;Ae;)switch(Ae.tag){case 5:case 31:case 13:pn=!1;return;case 27:case 3:pn=!0;return;default:Ae=Ae.return}}function Kl(t){if(t!==Ae)return!1;if(!Rt)return Nh(t),Rt=!0,!1;var e=t.tag,l;if((l=e!==3&&e!==27)&&((l=e===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||bc(t.type,t.memoizedProps)),l=!l),l&&Jt&&wa(t),Nh(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Jt=um(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Jt=um(t)}else e===27?(e=Jt,Na(t.type)?(t=Mc,Mc=null,Jt=t):Jt=e):Jt=Ae?vn(t.stateNode.nextSibling):null;return!0}function il(){Jt=Ae=null,Rt=!1}function no(){var t=ba;return t!==null&&(Le===null?Le=t:Le.push.apply(Le,t),ba=null),t}function _i(t){ba===null?ba=[t]:ba.push(t)}var ao=C(null),ul=null,Pn=null;function xa(t,e,l){nt(ao,e._currentValue),e._currentValue=l}function $n(t){t._currentValue=ao.current,j(ao)}function lo(t,e,l){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===l)break;t=t.return}}function io(t,e,l,i){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var c=r.dependencies;if(c!==null){var g=r.child;c=c.firstContext;t:for(;c!==null;){var A=c;c=r;for(var q=0;q<e.length;q++)if(A.context===e[q]){c.lanes|=l,A=c.alternate,A!==null&&(A.lanes|=l),lo(c.return,l,t),i||(g=null);break t}c=A.next}}else if(r.tag===18){if(g=r.return,g===null)throw Error(s(341));g.lanes|=l,c=g.alternate,c!==null&&(c.lanes|=l),lo(g,l,t),g=null}else g=r.child;if(g!==null)g.return=r;else for(g=r;g!==null;){if(g===t){g=null;break}if(r=g.sibling,r!==null){r.return=g.return,g=r;break}g=g.return}r=g}}function Jl(t,e,l,i){t=null;for(var r=e,c=!1;r!==null;){if(!c){if((r.flags&524288)!==0)c=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var g=r.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var A=r.type;ke(r.pendingProps.value,g.value)||(t!==null?t.push(A):t=[A])}}else if(r===Ot.current){if(g=r.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(cu):t=[cu])}r=r.return}t!==null&&io(e,t,l,i),e.flags|=262144}function es(t){for(t=t.firstContext;t!==null;){if(!ke(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function sl(t){ul=t,Pn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function be(t){return Hh(ul,t)}function ns(t,e){return ul===null&&sl(t),Hh(t,e)}function Hh(t,e){var l=e._currentValue;if(e={context:e,memoizedValue:l,next:null},Pn===null){if(t===null)throw Error(s(308));Pn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Pn=Pn.next=e;return l}var My=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(l,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(l){return l()})}},Ty=n.unstable_scheduleCallback,qy=n.unstable_NormalPriority,le={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uo(){return{controller:new My,data:new Map,refCount:0}}function ji(t){t.refCount--,t.refCount===0&&Ty(qy,function(){t.controller.abort()})}var Gi=null,so=0,Fl=0,kl=null;function Dy(t,e){if(Gi===null){var l=Gi=[];so=0,Fl=fc(),kl={status:"pending",value:void 0,then:function(i){l.push(i)}}}return so++,e.then(_h,_h),e}function _h(){if(--so===0&&Gi!==null){kl!==null&&(kl.status="fulfilled");var t=Gi;Gi=null,Fl=0,kl=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Oy(t,e){var l=[],i={status:"pending",value:null,reason:null,then:function(r){l.push(r)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var r=0;r<l.length;r++)(0,l[r])(e)},function(r){for(i.status="rejected",i.reason=r,r=0;r<l.length;r++)(0,l[r])(void 0)}),i}var jh=N.S;N.S=function(t,e){wg=ye(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&Dy(t,e),jh!==null&&jh(t,e)};var rl=C(null);function ro(){var t=rl.current;return t!==null?t:Qt.pooledCache}function as(t,e){e===null?nt(rl,rl.current):nt(rl,e.pool)}function Gh(){var t=ro();return t===null?null:{parent:le._currentValue,pool:t}}var Wl=Error(s(460)),oo=Error(s(474)),ls=Error(s(542)),is={then:function(){}};function Yh(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Lh(t,e,l){switch(l=t[l],l===void 0?t.push(e):l!==e&&(e.then(Fn,Fn),e=l),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Vh(t),t;default:if(typeof e.status=="string")e.then(Fn,Fn);else{if(t=Qt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=i}},function(i){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Vh(t),t}throw cl=e,Wl}}function ol(t){try{var e=t._init;return e(t._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(cl=l,Wl):l}}var cl=null;function Xh(){if(cl===null)throw Error(s(459));var t=cl;return cl=null,t}function Vh(t){if(t===Wl||t===ls)throw Error(s(483))}var Il=null,Yi=0;function us(t){var e=Yi;return Yi+=1,Il===null&&(Il=[]),Lh(Il,t,e)}function Li(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function ss(t,e){throw e.$$typeof===p?Error(s(525)):(t=Object.prototype.toString.call(e),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Qh(t){function e(B,z){if(t){var H=B.deletions;H===null?(B.deletions=[z],B.flags|=16):H.push(z)}}function l(B,z){if(!t)return null;for(;z!==null;)e(B,z),z=z.sibling;return null}function i(B){for(var z=new Map;B!==null;)B.key!==null?z.set(B.key,B):z.set(B.index,B),B=B.sibling;return z}function r(B,z){return B=Wn(B,z),B.index=0,B.sibling=null,B}function c(B,z,H){return B.index=H,t?(H=B.alternate,H!==null?(H=H.index,H<z?(B.flags|=67108866,z):H):(B.flags|=67108866,z)):(B.flags|=1048576,z)}function g(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function A(B,z,H,W){return z===null||z.tag!==6?(z=Ir(H,B.mode,W),z.return=B,z):(z=r(z,H),z.return=B,z)}function q(B,z,H,W){var ht=H.type;return ht===D?J(B,z,H.props.children,W,H.key):z!==null&&(z.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===X&&ol(ht)===z.type)?(z=r(z,H.props),Li(z,H),z.return=B,z):(z=$u(H.type,H.key,H.props,null,B.mode,W),Li(z,H),z.return=B,z)}function _(B,z,H,W){return z===null||z.tag!==4||z.stateNode.containerInfo!==H.containerInfo||z.stateNode.implementation!==H.implementation?(z=Pr(H,B.mode,W),z.return=B,z):(z=r(z,H.children||[]),z.return=B,z)}function J(B,z,H,W,ht){return z===null||z.tag!==7?(z=ll(H,B.mode,W,ht),z.return=B,z):(z=r(z,H),z.return=B,z)}function I(B,z,H){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Ir(""+z,B.mode,H),z.return=B,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case M:return H=$u(z.type,z.key,z.props,null,B.mode,H),Li(H,z),H.return=B,H;case E:return z=Pr(z,B.mode,H),z.return=B,z;case X:return z=ol(z),I(B,z,H)}if(yt(z)||ut(z))return z=ll(z,B.mode,H,null),z.return=B,z;if(typeof z.then=="function")return I(B,us(z),H);if(z.$$typeof===V)return I(B,ns(B,z),H);ss(B,z)}return null}function Y(B,z,H,W){var ht=z!==null?z.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ht!==null?null:A(B,z,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case M:return H.key===ht?q(B,z,H,W):null;case E:return H.key===ht?_(B,z,H,W):null;case X:return H=ol(H),Y(B,z,H,W)}if(yt(H)||ut(H))return ht!==null?null:J(B,z,H,W,null);if(typeof H.then=="function")return Y(B,z,us(H),W);if(H.$$typeof===V)return Y(B,z,ns(B,H),W);ss(B,H)}return null}function Z(B,z,H,W,ht){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return B=B.get(H)||null,A(z,B,""+W,ht);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case M:return B=B.get(W.key===null?H:W.key)||null,q(z,B,W,ht);case E:return B=B.get(W.key===null?H:W.key)||null,_(z,B,W,ht);case X:return W=ol(W),Z(B,z,H,W,ht)}if(yt(W)||ut(W))return B=B.get(H)||null,J(z,B,W,ht,null);if(typeof W.then=="function")return Z(B,z,H,us(W),ht);if(W.$$typeof===V)return Z(B,z,H,ns(z,W),ht);ss(z,W)}return null}function st(B,z,H,W){for(var ht=null,Bt=null,ot=z,St=z=0,qt=null;ot!==null&&St<H.length;St++){ot.index>St?(qt=ot,ot=null):qt=ot.sibling;var Ut=Y(B,ot,H[St],W);if(Ut===null){ot===null&&(ot=qt);break}t&&ot&&Ut.alternate===null&&e(B,ot),z=c(Ut,z,St),Bt===null?ht=Ut:Bt.sibling=Ut,Bt=Ut,ot=qt}if(St===H.length)return l(B,ot),Rt&&In(B,St),ht;if(ot===null){for(;St<H.length;St++)ot=I(B,H[St],W),ot!==null&&(z=c(ot,z,St),Bt===null?ht=ot:Bt.sibling=ot,Bt=ot);return Rt&&In(B,St),ht}for(ot=i(ot);St<H.length;St++)qt=Z(ot,B,St,H[St],W),qt!==null&&(t&&qt.alternate!==null&&ot.delete(qt.key===null?St:qt.key),z=c(qt,z,St),Bt===null?ht=qt:Bt.sibling=qt,Bt=qt);return t&&ot.forEach(function(Ya){return e(B,Ya)}),Rt&&In(B,St),ht}function dt(B,z,H,W){if(H==null)throw Error(s(151));for(var ht=null,Bt=null,ot=z,St=z=0,qt=null,Ut=H.next();ot!==null&&!Ut.done;St++,Ut=H.next()){ot.index>St?(qt=ot,ot=null):qt=ot.sibling;var Ya=Y(B,ot,Ut.value,W);if(Ya===null){ot===null&&(ot=qt);break}t&&ot&&Ya.alternate===null&&e(B,ot),z=c(Ya,z,St),Bt===null?ht=Ya:Bt.sibling=Ya,Bt=Ya,ot=qt}if(Ut.done)return l(B,ot),Rt&&In(B,St),ht;if(ot===null){for(;!Ut.done;St++,Ut=H.next())Ut=I(B,Ut.value,W),Ut!==null&&(z=c(Ut,z,St),Bt===null?ht=Ut:Bt.sibling=Ut,Bt=Ut);return Rt&&In(B,St),ht}for(ot=i(ot);!Ut.done;St++,Ut=H.next())Ut=Z(ot,B,St,Ut.value,W),Ut!==null&&(t&&Ut.alternate!==null&&ot.delete(Ut.key===null?St:Ut.key),z=c(Ut,z,St),Bt===null?ht=Ut:Bt.sibling=Ut,Bt=Ut);return t&&ot.forEach(function(Y1){return e(B,Y1)}),Rt&&In(B,St),ht}function Vt(B,z,H,W){if(typeof H=="object"&&H!==null&&H.type===D&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case M:t:{for(var ht=H.key;z!==null;){if(z.key===ht){if(ht=H.type,ht===D){if(z.tag===7){l(B,z.sibling),W=r(z,H.props.children),W.return=B,B=W;break t}}else if(z.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===X&&ol(ht)===z.type){l(B,z.sibling),W=r(z,H.props),Li(W,H),W.return=B,B=W;break t}l(B,z);break}else e(B,z);z=z.sibling}H.type===D?(W=ll(H.props.children,B.mode,W,H.key),W.return=B,B=W):(W=$u(H.type,H.key,H.props,null,B.mode,W),Li(W,H),W.return=B,B=W)}return g(B);case E:t:{for(ht=H.key;z!==null;){if(z.key===ht)if(z.tag===4&&z.stateNode.containerInfo===H.containerInfo&&z.stateNode.implementation===H.implementation){l(B,z.sibling),W=r(z,H.children||[]),W.return=B,B=W;break t}else{l(B,z);break}else e(B,z);z=z.sibling}W=Pr(H,B.mode,W),W.return=B,B=W}return g(B);case X:return H=ol(H),Vt(B,z,H,W)}if(yt(H))return st(B,z,H,W);if(ut(H)){if(ht=ut(H),typeof ht!="function")throw Error(s(150));return H=ht.call(H),dt(B,z,H,W)}if(typeof H.then=="function")return Vt(B,z,us(H),W);if(H.$$typeof===V)return Vt(B,z,ns(B,H),W);ss(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,z!==null&&z.tag===6?(l(B,z.sibling),W=r(z,H),W.return=B,B=W):(l(B,z),W=Ir(H,B.mode,W),W.return=B,B=W),g(B)):l(B,z)}return function(B,z,H,W){try{Yi=0;var ht=Vt(B,z,H,W);return Il=null,ht}catch(ot){if(ot===Wl||ot===ls)throw ot;var Bt=We(29,ot,null,B.mode);return Bt.lanes=W,Bt.return=B,Bt}}}var fl=Qh(!0),Zh=Qh(!1),Sa=!1;function co(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ea(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ma(t,e,l){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,(Ht&2)!==0){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,e=Pu(t),Dh(t,null,l),e}return Iu(t,i,e,l),Pu(t)}function Xi(t,e,l){if(e=e.updateQueue,e!==null&&(e=e.shared,(l&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,l|=i,e.lanes=l,Be(t,l)}}function ho(t,e){var l=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,l===i)){var r=null,c=null;if(l=l.firstBaseUpdate,l!==null){do{var g={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};c===null?r=c=g:c=c.next=g,l=l.next}while(l!==null);c===null?r=c=e:c=c.next=e}else r=c=e;l={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:c,shared:i.shared,callbacks:i.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=e:t.next=e,l.lastBaseUpdate=e}var go=!1;function Vi(){if(go){var t=kl;if(t!==null)throw t}}function Qi(t,e,l,i){go=!1;var r=t.updateQueue;Sa=!1;var c=r.firstBaseUpdate,g=r.lastBaseUpdate,A=r.shared.pending;if(A!==null){r.shared.pending=null;var q=A,_=q.next;q.next=null,g===null?c=_:g.next=_,g=q;var J=t.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==g&&(A===null?J.firstBaseUpdate=_:A.next=_,J.lastBaseUpdate=q))}if(c!==null){var I=r.baseState;g=0,J=_=q=null,A=c;do{var Y=A.lane&-536870913,Z=Y!==A.lane;if(Z?(Tt&Y)===Y:(i&Y)===Y){Y!==0&&Y===Fl&&(go=!0),J!==null&&(J=J.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var st=t,dt=A;Y=e;var Vt=l;switch(dt.tag){case 1:if(st=dt.payload,typeof st=="function"){I=st.call(Vt,I,Y);break t}I=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=dt.payload,Y=typeof st=="function"?st.call(Vt,I,Y):st,Y==null)break t;I=S({},I,Y);break t;case 2:Sa=!0}}Y=A.callback,Y!==null&&(t.flags|=64,Z&&(t.flags|=8192),Z=r.callbacks,Z===null?r.callbacks=[Y]:Z.push(Y))}else Z={lane:Y,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?(_=J=Z,q=I):J=J.next=Z,g|=Y;if(A=A.next,A===null){if(A=r.shared.pending,A===null)break;Z=A,A=Z.next,Z.next=null,r.lastBaseUpdate=Z,r.shared.pending=null}}while(!0);J===null&&(q=I),r.baseState=q,r.firstBaseUpdate=_,r.lastBaseUpdate=J,c===null&&(r.shared.lanes=0),Ra|=g,t.lanes=g,t.memoizedState=I}}function Kh(t,e){if(typeof t!="function")throw Error(s(191,t));t.call(e)}function Jh(t,e){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)Kh(l[t],e)}var Pl=C(null),rs=C(0);function Fh(t,e){t=ra,nt(rs,t),nt(Pl,e),ra=t|e.baseLanes}function mo(){nt(rs,ra),nt(Pl,Pl.current)}function po(){ra=rs.current,j(Pl),j(rs)}var Ie=C(null),yn=null;function Ta(t){var e=t.alternate;nt(ee,ee.current&1),nt(Ie,t),yn===null&&(e===null||Pl.current!==null||e.memoizedState!==null)&&(yn=t)}function yo(t){nt(ee,ee.current),nt(Ie,t),yn===null&&(yn=t)}function kh(t){t.tag===22?(nt(ee,ee.current),nt(Ie,t),yn===null&&(yn=t)):qa()}function qa(){nt(ee,ee.current),nt(Ie,Ie.current)}function Pe(t){j(Ie),yn===t&&(yn=null),j(ee)}var ee=C(0);function os(t){for(var e=t;e!==null;){if(e.tag===13){var l=e.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Sc(l)||Ec(l)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ta=0,wt=null,Lt=null,ie=null,cs=!1,$l=!1,hl=!1,fs=0,Zi=0,ti=null,Ry=0;function Pt(){throw Error(s(321))}function vo(t,e){if(e===null)return!1;for(var l=0;l<e.length&&l<t.length;l++)if(!ke(t[l],e[l]))return!1;return!0}function Ao(t,e,l,i,r,c){return ta=c,wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,N.H=t===null||t.memoizedState===null?zd:Uo,hl=!1,c=l(i,r),hl=!1,$l&&(c=Ih(e,l,i,r)),Wh(t),c}function Wh(t){N.H=Fi;var e=Lt!==null&&Lt.next!==null;if(ta=0,ie=Lt=wt=null,cs=!1,Zi=0,ti=null,e)throw Error(s(300));t===null||ue||(t=t.dependencies,t!==null&&es(t)&&(ue=!0))}function Ih(t,e,l,i){wt=t;var r=0;do{if($l&&(ti=null),Zi=0,$l=!1,25<=r)throw Error(s(301));if(r+=1,ie=Lt=null,t.updateQueue!=null){var c=t.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}N.H=Bd,c=e(l,i)}while($l);return c}function Cy(){var t=N.H,e=t.useState()[0];return e=typeof e.then=="function"?Ki(e):e,t=t.useState()[0],(Lt!==null?Lt.memoizedState:null)!==t&&(wt.flags|=1024),e}function bo(){var t=fs!==0;return fs=0,t}function wo(t,e,l){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~l}function xo(t){if(cs){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}cs=!1}ta=0,ie=Lt=wt=null,$l=!1,Zi=fs=0,ti=null}function Ue(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?wt.memoizedState=ie=t:ie=ie.next=t,ie}function ne(){if(Lt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Lt.next;var e=ie===null?wt.memoizedState:ie.next;if(e!==null)ie=e,Lt=t;else{if(t===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Lt=t,t={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},ie===null?wt.memoizedState=ie=t:ie=ie.next=t}return ie}function hs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ki(t){var e=Zi;return Zi+=1,ti===null&&(ti=[]),t=Lh(ti,t,e),e=wt,(ie===null?e.memoizedState:ie.next)===null&&(e=e.alternate,N.H=e===null||e.memoizedState===null?zd:Uo),t}function ds(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ki(t);if(t.$$typeof===V)return be(t)}throw Error(s(438,String(t)))}function So(t){var e=null,l=wt.updateQueue;if(l!==null&&(e=l.memoCache),e==null){var i=wt.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),l===null&&(l=hs(),wt.updateQueue=l),l.memoCache=e,l=e.data[e.index],l===void 0)for(l=e.data[e.index]=Array(t),i=0;i<t;i++)l[i]=tt;return e.index++,l}function ea(t,e){return typeof e=="function"?e(t):e}function gs(t){var e=ne();return Eo(e,Lt,t)}function Eo(t,e,l){var i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=l;var r=t.baseQueue,c=i.pending;if(c!==null){if(r!==null){var g=r.next;r.next=c.next,c.next=g}e.baseQueue=r=c,i.pending=null}if(c=t.baseState,r===null)t.memoizedState=c;else{e=r.next;var A=g=null,q=null,_=e,J=!1;do{var I=_.lane&-536870913;if(I!==_.lane?(Tt&I)===I:(ta&I)===I){var Y=_.revertLane;if(Y===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),I===Fl&&(J=!0);else if((ta&Y)===Y){_=_.next,Y===Fl&&(J=!0);continue}else I={lane:0,revertLane:_.revertLane,gesture:null,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null},q===null?(A=q=I,g=c):q=q.next=I,wt.lanes|=Y,Ra|=Y;I=_.action,hl&&l(c,I),c=_.hasEagerState?_.eagerState:l(c,I)}else Y={lane:I,revertLane:_.revertLane,gesture:_.gesture,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null},q===null?(A=q=Y,g=c):q=q.next=Y,wt.lanes|=I,Ra|=I;_=_.next}while(_!==null&&_!==e);if(q===null?g=c:q.next=A,!ke(c,t.memoizedState)&&(ue=!0,J&&(l=kl,l!==null)))throw l;t.memoizedState=c,t.baseState=g,t.baseQueue=q,i.lastRenderedState=c}return r===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Mo(t){var e=ne(),l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=t;var i=l.dispatch,r=l.pending,c=e.memoizedState;if(r!==null){l.pending=null;var g=r=r.next;do c=t(c,g.action),g=g.next;while(g!==r);ke(c,e.memoizedState)||(ue=!0),e.memoizedState=c,e.baseQueue===null&&(e.baseState=c),l.lastRenderedState=c}return[c,i]}function Ph(t,e,l){var i=wt,r=ne(),c=Rt;if(c){if(l===void 0)throw Error(s(407));l=l()}else l=e();var g=!ke((Lt||r).memoizedState,l);if(g&&(r.memoizedState=l,ue=!0),r=r.queue,Do(ed.bind(null,i,r,t),[t]),r.getSnapshot!==e||g||ie!==null&&ie.memoizedState.tag&1){if(i.flags|=2048,ei(9,{destroy:void 0},td.bind(null,i,r,l,e),null),Qt===null)throw Error(s(349));c||(ta&127)!==0||$h(i,e,l)}return l}function $h(t,e,l){t.flags|=16384,t={getSnapshot:e,value:l},e=wt.updateQueue,e===null?(e=hs(),wt.updateQueue=e,e.stores=[t]):(l=e.stores,l===null?e.stores=[t]:l.push(t))}function td(t,e,l,i){e.value=l,e.getSnapshot=i,nd(e)&&ad(t)}function ed(t,e,l){return l(function(){nd(e)&&ad(t)})}function nd(t){var e=t.getSnapshot;t=t.value;try{var l=e();return!ke(t,l)}catch{return!0}}function ad(t){var e=al(t,2);e!==null&&Xe(e,t,2)}function To(t){var e=Ue();if(typeof t=="function"){var l=t;if(t=l(),hl){Dn(!0);try{l()}finally{Dn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:t},e}function ld(t,e,l,i){return t.baseState=l,Eo(t,Lt,typeof i=="function"?i:ea)}function zy(t,e,l,i,r){if(ys(t))throw Error(s(485));if(t=e.action,t!==null){var c={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){c.listeners.push(g)}};N.T!==null?l(!0):c.isTransition=!1,i(c),l=e.pending,l===null?(c.next=e.pending=c,id(e,c)):(c.next=l.next,e.pending=l.next=c)}}function id(t,e){var l=e.action,i=e.payload,r=t.state;if(e.isTransition){var c=N.T,g={};N.T=g;try{var A=l(r,i),q=N.S;q!==null&&q(g,A),ud(t,e,A)}catch(_){qo(t,e,_)}finally{c!==null&&g.types!==null&&(c.types=g.types),N.T=c}}else try{c=l(r,i),ud(t,e,c)}catch(_){qo(t,e,_)}}function ud(t,e,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(i){sd(t,e,i)},function(i){return qo(t,e,i)}):sd(t,e,l)}function sd(t,e,l){e.status="fulfilled",e.value=l,rd(e),t.state=l,e=t.pending,e!==null&&(l=e.next,l===e?t.pending=null:(l=l.next,e.next=l,id(t,l)))}function qo(t,e,l){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=l,rd(e),e=e.next;while(e!==i)}t.action=null}function rd(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function od(t,e){return e}function cd(t,e){if(Rt){var l=Qt.formState;if(l!==null){t:{var i=wt;if(Rt){if(Jt){e:{for(var r=Jt,c=pn;r.nodeType!==8;){if(!c){r=null;break e}if(r=vn(r.nextSibling),r===null){r=null;break e}}c=r.data,r=c==="F!"||c==="F"?r:null}if(r){Jt=vn(r.nextSibling),i=r.data==="F!";break t}}wa(i)}i=!1}i&&(e=l[0])}}return l=Ue(),l.memoizedState=l.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:od,lastRenderedState:e},l.queue=i,l=Od.bind(null,wt,i),i.dispatch=l,i=To(!1),c=Bo.bind(null,wt,!1,i.queue),i=Ue(),r={state:e,dispatch:null,action:t,pending:null},i.queue=r,l=zy.bind(null,wt,r,c,l),r.dispatch=l,i.memoizedState=t,[e,l,!1]}function fd(t){var e=ne();return hd(e,Lt,t)}function hd(t,e,l){if(e=Eo(t,e,od)[0],t=gs(ea)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=Ki(e)}catch(g){throw g===Wl?ls:g}else i=e;e=ne();var r=e.queue,c=r.dispatch;return l!==e.memoizedState&&(wt.flags|=2048,ei(9,{destroy:void 0},By.bind(null,r,l),null)),[i,c,t]}function By(t,e){t.action=e}function dd(t){var e=ne(),l=Lt;if(l!==null)return hd(e,l,t);ne(),e=e.memoizedState,l=ne();var i=l.queue.dispatch;return l.memoizedState=t,[e,i,!1]}function ei(t,e,l,i){return t={tag:t,create:l,deps:i,inst:e,next:null},e=wt.updateQueue,e===null&&(e=hs(),wt.updateQueue=e),l=e.lastEffect,l===null?e.lastEffect=t.next=t:(i=l.next,l.next=t,t.next=i,e.lastEffect=t),t}function gd(){return ne().memoizedState}function ms(t,e,l,i){var r=Ue();wt.flags|=t,r.memoizedState=ei(1|e,{destroy:void 0},l,i===void 0?null:i)}function ps(t,e,l,i){var r=ne();i=i===void 0?null:i;var c=r.memoizedState.inst;Lt!==null&&i!==null&&vo(i,Lt.memoizedState.deps)?r.memoizedState=ei(e,c,l,i):(wt.flags|=t,r.memoizedState=ei(1|e,c,l,i))}function md(t,e){ms(8390656,8,t,e)}function Do(t,e){ps(2048,8,t,e)}function Uy(t){wt.flags|=4;var e=wt.updateQueue;if(e===null)e=hs(),wt.updateQueue=e,e.events=[t];else{var l=e.events;l===null?e.events=[t]:l.push(t)}}function pd(t){var e=ne().memoizedState;return Uy({ref:e,nextImpl:t}),function(){if((Ht&2)!==0)throw Error(s(440));return e.impl.apply(void 0,arguments)}}function yd(t,e){return ps(4,2,t,e)}function vd(t,e){return ps(4,4,t,e)}function Ad(t,e){if(typeof e=="function"){t=t();var l=e(t);return function(){typeof l=="function"?l():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bd(t,e,l){l=l!=null?l.concat([t]):null,ps(4,4,Ad.bind(null,e,t),l)}function Oo(){}function wd(t,e){var l=ne();e=e===void 0?null:e;var i=l.memoizedState;return e!==null&&vo(e,i[1])?i[0]:(l.memoizedState=[t,e],t)}function xd(t,e){var l=ne();e=e===void 0?null:e;var i=l.memoizedState;if(e!==null&&vo(e,i[1]))return i[0];if(i=t(),hl){Dn(!0);try{t()}finally{Dn(!1)}}return l.memoizedState=[i,e],i}function Ro(t,e,l){return l===void 0||(ta&1073741824)!==0&&(Tt&261930)===0?t.memoizedState=e:(t.memoizedState=l,t=Sg(),wt.lanes|=t,Ra|=t,l)}function Sd(t,e,l,i){return ke(l,e)?l:Pl.current!==null?(t=Ro(t,l,i),ke(t,e)||(ue=!0),t):(ta&42)===0||(ta&1073741824)!==0&&(Tt&261930)===0?(ue=!0,t.memoizedState=l):(t=Sg(),wt.lanes|=t,Ra|=t,e)}function Ed(t,e,l,i,r){var c=k.p;k.p=c!==0&&8>c?c:8;var g=N.T,A={};N.T=A,Bo(t,!1,e,l);try{var q=r(),_=N.S;if(_!==null&&_(A,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var J=Oy(q,i);Ji(t,e,J,en(t))}else Ji(t,e,i,en(t))}catch(I){Ji(t,e,{then:function(){},status:"rejected",reason:I},en())}finally{k.p=c,g!==null&&A.types!==null&&(g.types=A.types),N.T=g}}function Ny(){}function Co(t,e,l,i){if(t.tag!==5)throw Error(s(476));var r=Md(t).queue;Ed(t,r,e,lt,l===null?Ny:function(){return Td(t),l(i)})}function Md(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:lt},next:null};var l={};return e.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:l},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Td(t){var e=Md(t);e.next===null&&(e=t.alternate.memoizedState),Ji(t,e.next.queue,{},en())}function zo(){return be(cu)}function qd(){return ne().memoizedState}function Dd(){return ne().memoizedState}function Hy(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var l=en();t=Ea(l);var i=Ma(e,t,l);i!==null&&(Xe(i,e,l),Xi(i,e,l)),e={cache:uo()},t.payload=e;return}e=e.return}}function _y(t,e,l){var i=en();l={lane:i,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ys(t)?Rd(e,l):(l=kr(t,e,l,i),l!==null&&(Xe(l,t,i),Cd(l,e,i)))}function Od(t,e,l){var i=en();Ji(t,e,l,i)}function Ji(t,e,l,i){var r={lane:i,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(ys(t))Rd(e,r);else{var c=t.alternate;if(t.lanes===0&&(c===null||c.lanes===0)&&(c=e.lastRenderedReducer,c!==null))try{var g=e.lastRenderedState,A=c(g,l);if(r.hasEagerState=!0,r.eagerState=A,ke(A,g))return Iu(t,e,r,0),Qt===null&&Wu(),!1}catch{}if(l=kr(t,e,r,i),l!==null)return Xe(l,t,i),Cd(l,e,i),!0}return!1}function Bo(t,e,l,i){if(i={lane:2,revertLane:fc(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ys(t)){if(e)throw Error(s(479))}else e=kr(t,l,i,2),e!==null&&Xe(e,t,2)}function ys(t){var e=t.alternate;return t===wt||e!==null&&e===wt}function Rd(t,e){$l=cs=!0;var l=t.pending;l===null?e.next=e:(e.next=l.next,l.next=e),t.pending=e}function Cd(t,e,l){if((l&4194048)!==0){var i=e.lanes;i&=t.pendingLanes,l|=i,e.lanes=l,Be(t,l)}}var Fi={readContext:be,use:ds,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt};Fi.useEffectEvent=Pt;var zd={readContext:be,use:ds,useCallback:function(t,e){return Ue().memoizedState=[t,e===void 0?null:e],t},useContext:be,useEffect:md,useImperativeHandle:function(t,e,l){l=l!=null?l.concat([t]):null,ms(4194308,4,Ad.bind(null,e,t),l)},useLayoutEffect:function(t,e){return ms(4194308,4,t,e)},useInsertionEffect:function(t,e){ms(4,2,t,e)},useMemo:function(t,e){var l=Ue();e=e===void 0?null:e;var i=t();if(hl){Dn(!0);try{t()}finally{Dn(!1)}}return l.memoizedState=[i,e],i},useReducer:function(t,e,l){var i=Ue();if(l!==void 0){var r=l(e);if(hl){Dn(!0);try{l(e)}finally{Dn(!1)}}}else r=e;return i.memoizedState=i.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},i.queue=t,t=t.dispatch=_y.bind(null,wt,t),[i.memoizedState,t]},useRef:function(t){var e=Ue();return t={current:t},e.memoizedState=t},useState:function(t){t=To(t);var e=t.queue,l=Od.bind(null,wt,e);return e.dispatch=l,[t.memoizedState,l]},useDebugValue:Oo,useDeferredValue:function(t,e){var l=Ue();return Ro(l,t,e)},useTransition:function(){var t=To(!1);return t=Ed.bind(null,wt,t.queue,!0,!1),Ue().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,l){var i=wt,r=Ue();if(Rt){if(l===void 0)throw Error(s(407));l=l()}else{if(l=e(),Qt===null)throw Error(s(349));(Tt&127)!==0||$h(i,e,l)}r.memoizedState=l;var c={value:l,getSnapshot:e};return r.queue=c,md(ed.bind(null,i,c,t),[t]),i.flags|=2048,ei(9,{destroy:void 0},td.bind(null,i,c,l,e),null),l},useId:function(){var t=Ue(),e=Qt.identifierPrefix;if(Rt){var l=Hn,i=Nn;l=(i&~(1<<32-Ce(i)-1)).toString(32)+l,e="_"+e+"R_"+l,l=fs++,0<l&&(e+="H"+l.toString(32)),e+="_"}else l=Ry++,e="_"+e+"r_"+l.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:zo,useFormState:cd,useActionState:cd,useOptimistic:function(t){var e=Ue();e.memoizedState=e.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=l,e=Bo.bind(null,wt,!0,l),l.dispatch=e,[t,e]},useMemoCache:So,useCacheRefresh:function(){return Ue().memoizedState=Hy.bind(null,wt)},useEffectEvent:function(t){var e=Ue(),l={impl:t};return e.memoizedState=l,function(){if((Ht&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},Uo={readContext:be,use:ds,useCallback:wd,useContext:be,useEffect:Do,useImperativeHandle:bd,useInsertionEffect:yd,useLayoutEffect:vd,useMemo:xd,useReducer:gs,useRef:gd,useState:function(){return gs(ea)},useDebugValue:Oo,useDeferredValue:function(t,e){var l=ne();return Sd(l,Lt.memoizedState,t,e)},useTransition:function(){var t=gs(ea)[0],e=ne().memoizedState;return[typeof t=="boolean"?t:Ki(t),e]},useSyncExternalStore:Ph,useId:qd,useHostTransitionStatus:zo,useFormState:fd,useActionState:fd,useOptimistic:function(t,e){var l=ne();return ld(l,Lt,t,e)},useMemoCache:So,useCacheRefresh:Dd};Uo.useEffectEvent=pd;var Bd={readContext:be,use:ds,useCallback:wd,useContext:be,useEffect:Do,useImperativeHandle:bd,useInsertionEffect:yd,useLayoutEffect:vd,useMemo:xd,useReducer:Mo,useRef:gd,useState:function(){return Mo(ea)},useDebugValue:Oo,useDeferredValue:function(t,e){var l=ne();return Lt===null?Ro(l,t,e):Sd(l,Lt.memoizedState,t,e)},useTransition:function(){var t=Mo(ea)[0],e=ne().memoizedState;return[typeof t=="boolean"?t:Ki(t),e]},useSyncExternalStore:Ph,useId:qd,useHostTransitionStatus:zo,useFormState:dd,useActionState:dd,useOptimistic:function(t,e){var l=ne();return Lt!==null?ld(l,Lt,t,e):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:So,useCacheRefresh:Dd};Bd.useEffectEvent=pd;function No(t,e,l,i){e=t.memoizedState,l=l(i,e),l=l==null?e:S({},e,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var Ho={enqueueSetState:function(t,e,l){t=t._reactInternals;var i=en(),r=Ea(i);r.payload=e,l!=null&&(r.callback=l),e=Ma(t,r,i),e!==null&&(Xe(e,t,i),Xi(e,t,i))},enqueueReplaceState:function(t,e,l){t=t._reactInternals;var i=en(),r=Ea(i);r.tag=1,r.payload=e,l!=null&&(r.callback=l),e=Ma(t,r,i),e!==null&&(Xe(e,t,i),Xi(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var l=en(),i=Ea(l);i.tag=2,e!=null&&(i.callback=e),e=Ma(t,i,l),e!==null&&(Xe(e,t,l),Xi(e,t,l))}};function Ud(t,e,l,i,r,c,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,c,g):e.prototype&&e.prototype.isPureReactComponent?!Ui(l,i)||!Ui(r,c):!0}function Nd(t,e,l,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(l,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(l,i),e.state!==t&&Ho.enqueueReplaceState(e,e.state,null)}function dl(t,e){var l=e;if("ref"in e){l={};for(var i in e)i!=="ref"&&(l[i]=e[i])}if(t=t.defaultProps){l===e&&(l=S({},l));for(var r in t)l[r]===void 0&&(l[r]=t[r])}return l}function Hd(t){ku(t)}function _d(t){console.error(t)}function jd(t){ku(t)}function vs(t,e){try{var l=t.onUncaughtError;l(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function Gd(t,e,l){try{var i=t.onCaughtError;i(l.value,{componentStack:l.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function _o(t,e,l){return l=Ea(l),l.tag=3,l.payload={element:null},l.callback=function(){vs(t,e)},l}function Yd(t){return t=Ea(t),t.tag=3,t}function Ld(t,e,l,i){var r=l.type.getDerivedStateFromError;if(typeof r=="function"){var c=i.value;t.payload=function(){return r(c)},t.callback=function(){Gd(e,l,i)}}var g=l.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Gd(e,l,i),typeof r!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var A=i.stack;this.componentDidCatch(i.value,{componentStack:A!==null?A:""})})}function jy(t,e,l,i,r){if(l.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=l.alternate,e!==null&&Jl(e,l,r,!0),l=Ie.current,l!==null){switch(l.tag){case 31:case 13:return yn===null?Rs():l.alternate===null&&$t===0&&($t=3),l.flags&=-257,l.flags|=65536,l.lanes=r,i===is?l.flags|=16384:(e=l.updateQueue,e===null?l.updateQueue=new Set([i]):e.add(i),rc(t,i,r)),!1;case 22:return l.flags|=65536,i===is?l.flags|=16384:(e=l.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},l.updateQueue=e):(l=e.retryQueue,l===null?e.retryQueue=new Set([i]):l.add(i)),rc(t,i,r)),!1}throw Error(s(435,l.tag))}return rc(t,i,r),Rs(),!1}if(Rt)return e=Ie.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=r,i!==eo&&(t=Error(s(422),{cause:i}),_i(dn(t,l)))):(i!==eo&&(e=Error(s(423),{cause:i}),_i(dn(e,l))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,i=dn(i,l),r=_o(t.stateNode,i,r),ho(t,r),$t!==4&&($t=2)),!1;var c=Error(s(520),{cause:i});if(c=dn(c,l),nu===null?nu=[c]:nu.push(c),$t!==4&&($t=2),e===null)return!0;i=dn(i,l),l=e;do{switch(l.tag){case 3:return l.flags|=65536,t=r&-r,l.lanes|=t,t=_o(l.stateNode,i,t),ho(l,t),!1;case 1:if(e=l.type,c=l.stateNode,(l.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Ca===null||!Ca.has(c))))return l.flags|=65536,r&=-r,l.lanes|=r,r=Yd(r),Ld(r,t,l,i),ho(l,r),!1}l=l.return}while(l!==null);return!1}var jo=Error(s(461)),ue=!1;function we(t,e,l,i){e.child=t===null?Zh(e,null,l,i):fl(e,t.child,l,i)}function Xd(t,e,l,i,r){l=l.render;var c=e.ref;if("ref"in i){var g={};for(var A in i)A!=="ref"&&(g[A]=i[A])}else g=i;return sl(e),i=Ao(t,e,l,g,c,r),A=bo(),t!==null&&!ue?(wo(t,e,r),na(t,e,r)):(Rt&&A&&$r(e),e.flags|=1,we(t,e,i,r),e.child)}function Vd(t,e,l,i,r){if(t===null){var c=l.type;return typeof c=="function"&&!Wr(c)&&c.defaultProps===void 0&&l.compare===null?(e.tag=15,e.type=c,Qd(t,e,c,i,r)):(t=$u(l.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(c=t.child,!Ko(t,r)){var g=c.memoizedProps;if(l=l.compare,l=l!==null?l:Ui,l(g,i)&&t.ref===e.ref)return na(t,e,r)}return e.flags|=1,t=Wn(c,i),t.ref=e.ref,t.return=e,e.child=t}function Qd(t,e,l,i,r){if(t!==null){var c=t.memoizedProps;if(Ui(c,i)&&t.ref===e.ref)if(ue=!1,e.pendingProps=i=c,Ko(t,r))(t.flags&131072)!==0&&(ue=!0);else return e.lanes=t.lanes,na(t,e,r)}return Go(t,e,l,i,r)}function Zd(t,e,l,i){var r=i.children,c=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((e.flags&128)!==0){if(c=c!==null?c.baseLanes|l:l,t!==null){for(i=e.child=t.child,r=0;i!==null;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~c}else i=0,e.child=null;return Kd(t,e,c,l,i)}if((l&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&as(e,c!==null?c.cachePool:null),c!==null?Fh(e,c):mo(),kh(e);else return i=e.lanes=536870912,Kd(t,e,c!==null?c.baseLanes|l:l,l,i)}else c!==null?(as(e,c.cachePool),Fh(e,c),qa(),e.memoizedState=null):(t!==null&&as(e,null),mo(),qa());return we(t,e,r,l),e.child}function ki(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Kd(t,e,l,i,r){var c=ro();return c=c===null?null:{parent:le._currentValue,pool:c},e.memoizedState={baseLanes:l,cachePool:c},t!==null&&as(e,null),mo(),kh(e),t!==null&&Jl(t,e,i,!0),e.childLanes=r,null}function As(t,e){return e=ws({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Jd(t,e,l){return fl(e,t.child,null,l),t=As(e,e.pendingProps),t.flags|=2,Pe(e),e.memoizedState=null,t}function Gy(t,e,l){var i=e.pendingProps,r=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Rt){if(i.mode==="hidden")return t=As(e,i),e.lanes=536870912,ki(null,t);if(yo(e),(t=Jt)?(t=im(t,pn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Aa!==null?{id:Nn,overflow:Hn}:null,retryLane:536870912,hydrationErrors:null},l=Rh(t),l.return=e,e.child=l,Ae=e,Jt=null)):t=null,t===null)throw wa(e);return e.lanes=536870912,null}return As(e,i)}var c=t.memoizedState;if(c!==null){var g=c.dehydrated;if(yo(e),r)if(e.flags&256)e.flags&=-257,e=Jd(t,e,l);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(s(558));else if(ue||Jl(t,e,l,!1),r=(l&t.childLanes)!==0,ue||r){if(i=Qt,i!==null&&(g=Kn(i,l),g!==0&&g!==c.retryLane))throw c.retryLane=g,al(t,g),Xe(i,t,g),jo;Rs(),e=Jd(t,e,l)}else t=c.treeContext,Jt=vn(g.nextSibling),Ae=e,Rt=!0,ba=null,pn=!1,t!==null&&Bh(e,t),e=As(e,i),e.flags|=4096;return e}return t=Wn(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function bs(t,e){var l=e.ref;if(l===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(t===null||t.ref!==l)&&(e.flags|=4194816)}}function Go(t,e,l,i,r){return sl(e),l=Ao(t,e,l,i,void 0,r),i=bo(),t!==null&&!ue?(wo(t,e,r),na(t,e,r)):(Rt&&i&&$r(e),e.flags|=1,we(t,e,l,r),e.child)}function Fd(t,e,l,i,r,c){return sl(e),e.updateQueue=null,l=Ih(e,i,l,r),Wh(t),i=bo(),t!==null&&!ue?(wo(t,e,c),na(t,e,c)):(Rt&&i&&$r(e),e.flags|=1,we(t,e,l,c),e.child)}function kd(t,e,l,i,r){if(sl(e),e.stateNode===null){var c=Vl,g=l.contextType;typeof g=="object"&&g!==null&&(c=be(g)),c=new l(i,c),e.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Ho,e.stateNode=c,c._reactInternals=e,c=e.stateNode,c.props=i,c.state=e.memoizedState,c.refs={},co(e),g=l.contextType,c.context=typeof g=="object"&&g!==null?be(g):Vl,c.state=e.memoizedState,g=l.getDerivedStateFromProps,typeof g=="function"&&(No(e,l,g,i),c.state=e.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(g=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),g!==c.state&&Ho.enqueueReplaceState(c,c.state,null),Qi(e,i,c,r),Vi(),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){c=e.stateNode;var A=e.memoizedProps,q=dl(l,A);c.props=q;var _=c.context,J=l.contextType;g=Vl,typeof J=="object"&&J!==null&&(g=be(J));var I=l.getDerivedStateFromProps;J=typeof I=="function"||typeof c.getSnapshotBeforeUpdate=="function",A=e.pendingProps!==A,J||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(A||_!==g)&&Nd(e,c,i,g),Sa=!1;var Y=e.memoizedState;c.state=Y,Qi(e,i,c,r),Vi(),_=e.memoizedState,A||Y!==_||Sa?(typeof I=="function"&&(No(e,l,I,i),_=e.memoizedState),(q=Sa||Ud(e,l,q,i,Y,_,g))?(J||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(e.flags|=4194308)):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=_),c.props=i,c.state=_,c.context=g,i=q):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{c=e.stateNode,fo(t,e),g=e.memoizedProps,J=dl(l,g),c.props=J,I=e.pendingProps,Y=c.context,_=l.contextType,q=Vl,typeof _=="object"&&_!==null&&(q=be(_)),A=l.getDerivedStateFromProps,(_=typeof A=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g!==I||Y!==q)&&Nd(e,c,i,q),Sa=!1,Y=e.memoizedState,c.state=Y,Qi(e,i,c,r),Vi();var Z=e.memoizedState;g!==I||Y!==Z||Sa||t!==null&&t.dependencies!==null&&es(t.dependencies)?(typeof A=="function"&&(No(e,l,A,i),Z=e.memoizedState),(J=Sa||Ud(e,l,J,i,Y,Z,q)||t!==null&&t.dependencies!==null&&es(t.dependencies))?(_||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(i,Z,q),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(i,Z,q)),typeof c.componentDidUpdate=="function"&&(e.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof c.componentDidUpdate!="function"||g===t.memoizedProps&&Y===t.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&Y===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=Z),c.props=i,c.state=Z,c.context=q,i=J):(typeof c.componentDidUpdate!="function"||g===t.memoizedProps&&Y===t.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&Y===t.memoizedState||(e.flags|=1024),i=!1)}return c=i,bs(t,e),i=(e.flags&128)!==0,c||i?(c=e.stateNode,l=i&&typeof l.getDerivedStateFromError!="function"?null:c.render(),e.flags|=1,t!==null&&i?(e.child=fl(e,t.child,null,r),e.child=fl(e,null,l,r)):we(t,e,l,r),e.memoizedState=c.state,t=e.child):t=na(t,e,r),t}function Wd(t,e,l,i){return il(),e.flags|=256,we(t,e,l,i),e.child}var Yo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lo(t){return{baseLanes:t,cachePool:Gh()}}function Xo(t,e,l){return t=t!==null?t.childLanes&~l:0,e&&(t|=tn),t}function Id(t,e,l){var i=e.pendingProps,r=!1,c=(e.flags&128)!==0,g;if((g=c)||(g=t!==null&&t.memoizedState===null?!1:(ee.current&2)!==0),g&&(r=!0,e.flags&=-129),g=(e.flags&32)!==0,e.flags&=-33,t===null){if(Rt){if(r?Ta(e):qa(),(t=Jt)?(t=im(t,pn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Aa!==null?{id:Nn,overflow:Hn}:null,retryLane:536870912,hydrationErrors:null},l=Rh(t),l.return=e,e.child=l,Ae=e,Jt=null)):t=null,t===null)throw wa(e);return Ec(t)?e.lanes=32:e.lanes=536870912,null}var A=i.children;return i=i.fallback,r?(qa(),r=e.mode,A=ws({mode:"hidden",children:A},r),i=ll(i,r,l,null),A.return=e,i.return=e,A.sibling=i,e.child=A,i=e.child,i.memoizedState=Lo(l),i.childLanes=Xo(t,g,l),e.memoizedState=Yo,ki(null,i)):(Ta(e),Vo(e,A))}var q=t.memoizedState;if(q!==null&&(A=q.dehydrated,A!==null)){if(c)e.flags&256?(Ta(e),e.flags&=-257,e=Qo(t,e,l)):e.memoizedState!==null?(qa(),e.child=t.child,e.flags|=128,e=null):(qa(),A=i.fallback,r=e.mode,i=ws({mode:"visible",children:i.children},r),A=ll(A,r,l,null),A.flags|=2,i.return=e,A.return=e,i.sibling=A,e.child=i,fl(e,t.child,null,l),i=e.child,i.memoizedState=Lo(l),i.childLanes=Xo(t,g,l),e.memoizedState=Yo,e=ki(null,i));else if(Ta(e),Ec(A)){if(g=A.nextSibling&&A.nextSibling.dataset,g)var _=g.dgst;g=_,i=Error(s(419)),i.stack="",i.digest=g,_i({value:i,source:null,stack:null}),e=Qo(t,e,l)}else if(ue||Jl(t,e,l,!1),g=(l&t.childLanes)!==0,ue||g){if(g=Qt,g!==null&&(i=Kn(g,l),i!==0&&i!==q.retryLane))throw q.retryLane=i,al(t,i),Xe(g,t,i),jo;Sc(A)||Rs(),e=Qo(t,e,l)}else Sc(A)?(e.flags|=192,e.child=t.child,e=null):(t=q.treeContext,Jt=vn(A.nextSibling),Ae=e,Rt=!0,ba=null,pn=!1,t!==null&&Bh(e,t),e=Vo(e,i.children),e.flags|=4096);return e}return r?(qa(),A=i.fallback,r=e.mode,q=t.child,_=q.sibling,i=Wn(q,{mode:"hidden",children:i.children}),i.subtreeFlags=q.subtreeFlags&65011712,_!==null?A=Wn(_,A):(A=ll(A,r,l,null),A.flags|=2),A.return=e,i.return=e,i.sibling=A,e.child=i,ki(null,i),i=e.child,A=t.child.memoizedState,A===null?A=Lo(l):(r=A.cachePool,r!==null?(q=le._currentValue,r=r.parent!==q?{parent:q,pool:q}:r):r=Gh(),A={baseLanes:A.baseLanes|l,cachePool:r}),i.memoizedState=A,i.childLanes=Xo(t,g,l),e.memoizedState=Yo,ki(t.child,i)):(Ta(e),l=t.child,t=l.sibling,l=Wn(l,{mode:"visible",children:i.children}),l.return=e,l.sibling=null,t!==null&&(g=e.deletions,g===null?(e.deletions=[t],e.flags|=16):g.push(t)),e.child=l,e.memoizedState=null,l)}function Vo(t,e){return e=ws({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function ws(t,e){return t=We(22,t,null,e),t.lanes=0,t}function Qo(t,e,l){return fl(e,t.child,null,l),t=Vo(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Pd(t,e,l){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),lo(t.return,e,l)}function Zo(t,e,l,i,r,c){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:l,tailMode:r,treeForkCount:c}:(g.isBackwards=e,g.rendering=null,g.renderingStartTime=0,g.last=i,g.tail=l,g.tailMode=r,g.treeForkCount=c)}function $d(t,e,l){var i=e.pendingProps,r=i.revealOrder,c=i.tail;i=i.children;var g=ee.current,A=(g&2)!==0;if(A?(g=g&1|2,e.flags|=128):g&=1,nt(ee,g),we(t,e,i,l),i=Rt?Hi:0,!A&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pd(t,l,e);else if(t.tag===19)Pd(t,l,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(r){case"forwards":for(l=e.child,r=null;l!==null;)t=l.alternate,t!==null&&os(t)===null&&(r=l),l=l.sibling;l=r,l===null?(r=e.child,e.child=null):(r=l.sibling,l.sibling=null),Zo(e,!1,r,l,c,i);break;case"backwards":case"unstable_legacy-backwards":for(l=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&os(t)===null){e.child=r;break}t=r.sibling,r.sibling=l,l=r,r=t}Zo(e,!0,l,null,c,i);break;case"together":Zo(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function na(t,e,l){if(t!==null&&(e.dependencies=t.dependencies),Ra|=e.lanes,(l&e.childLanes)===0)if(t!==null){if(Jl(t,e,l,!1),(l&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(s(153));if(e.child!==null){for(t=e.child,l=Wn(t,t.pendingProps),e.child=l,l.return=e;t.sibling!==null;)t=t.sibling,l=l.sibling=Wn(t,t.pendingProps),l.return=e;l.sibling=null}return e.child}function Ko(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&es(t)))}function Yy(t,e,l){switch(e.tag){case 3:re(e,e.stateNode.containerInfo),xa(e,le,t.memoizedState.cache),il();break;case 27:case 5:rn(e);break;case 4:re(e,e.stateNode.containerInfo);break;case 10:xa(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,yo(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Ta(e),e.flags|=128,null):(l&e.child.childLanes)!==0?Id(t,e,l):(Ta(e),t=na(t,e,l),t!==null?t.sibling:null);Ta(e);break;case 19:var r=(t.flags&128)!==0;if(i=(l&e.childLanes)!==0,i||(Jl(t,e,l,!1),i=(l&e.childLanes)!==0),r){if(i)return $d(t,e,l);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),nt(ee,ee.current),i)break;return null;case 22:return e.lanes=0,Zd(t,e,l,e.pendingProps);case 24:xa(e,le,t.memoizedState.cache)}return na(t,e,l)}function tg(t,e,l){if(t!==null)if(t.memoizedProps!==e.pendingProps)ue=!0;else{if(!Ko(t,l)&&(e.flags&128)===0)return ue=!1,Yy(t,e,l);ue=(t.flags&131072)!==0}else ue=!1,Rt&&(e.flags&1048576)!==0&&zh(e,Hi,e.index);switch(e.lanes=0,e.tag){case 16:t:{var i=e.pendingProps;if(t=ol(e.elementType),e.type=t,typeof t=="function")Wr(t)?(i=dl(t,i),e.tag=1,e=kd(null,e,t,i,l)):(e.tag=0,e=Go(null,e,t,i,l));else{if(t!=null){var r=t.$$typeof;if(r===P){e.tag=11,e=Xd(null,e,t,i,l);break t}else if(r===R){e.tag=14,e=Vd(null,e,t,i,l);break t}}throw e=pt(t)||t,Error(s(306,e,""))}}return e;case 0:return Go(t,e,e.type,e.pendingProps,l);case 1:return i=e.type,r=dl(i,e.pendingProps),kd(t,e,i,r,l);case 3:t:{if(re(e,e.stateNode.containerInfo),t===null)throw Error(s(387));i=e.pendingProps;var c=e.memoizedState;r=c.element,fo(t,e),Qi(e,i,null,l);var g=e.memoizedState;if(i=g.cache,xa(e,le,i),i!==c.cache&&io(e,[le],l,!0),Vi(),i=g.element,c.isDehydrated)if(c={element:i,isDehydrated:!1,cache:g.cache},e.updateQueue.baseState=c,e.memoizedState=c,e.flags&256){e=Wd(t,e,i,l);break t}else if(i!==r){r=dn(Error(s(424)),e),_i(r),e=Wd(t,e,i,l);break t}else for(t=e.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Jt=vn(t.firstChild),Ae=e,Rt=!0,ba=null,pn=!0,l=Zh(e,null,i,l),e.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(il(),i===r){e=na(t,e,l);break t}we(t,e,i,l)}e=e.child}return e;case 26:return bs(t,e),t===null?(l=fm(e.type,null,e.pendingProps,null))?e.memoizedState=l:Rt||(l=e.type,t=e.pendingProps,i=_s(bt.current).createElement(l),i[ve]=e,i[He]=t,xe(i,l,t),me(i),e.stateNode=i):e.memoizedState=fm(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return rn(e),t===null&&Rt&&(i=e.stateNode=rm(e.type,e.pendingProps,bt.current),Ae=e,pn=!0,r=Jt,Na(e.type)?(Mc=r,Jt=vn(i.firstChild)):Jt=r),we(t,e,e.pendingProps.children,l),bs(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Rt&&((r=i=Jt)&&(i=p1(i,e.type,e.pendingProps,pn),i!==null?(e.stateNode=i,Ae=e,Jt=vn(i.firstChild),pn=!1,r=!0):r=!1),r||wa(e)),rn(e),r=e.type,c=e.pendingProps,g=t!==null?t.memoizedProps:null,i=c.children,bc(r,c)?i=null:g!==null&&bc(r,g)&&(e.flags|=32),e.memoizedState!==null&&(r=Ao(t,e,Cy,null,null,l),cu._currentValue=r),bs(t,e),we(t,e,i,l),e.child;case 6:return t===null&&Rt&&((t=l=Jt)&&(l=y1(l,e.pendingProps,pn),l!==null?(e.stateNode=l,Ae=e,Jt=null,t=!0):t=!1),t||wa(e)),null;case 13:return Id(t,e,l);case 4:return re(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=fl(e,null,i,l):we(t,e,i,l),e.child;case 11:return Xd(t,e,e.type,e.pendingProps,l);case 7:return we(t,e,e.pendingProps,l),e.child;case 8:return we(t,e,e.pendingProps.children,l),e.child;case 12:return we(t,e,e.pendingProps.children,l),e.child;case 10:return i=e.pendingProps,xa(e,e.type,i.value),we(t,e,i.children,l),e.child;case 9:return r=e.type._context,i=e.pendingProps.children,sl(e),r=be(r),i=i(r),e.flags|=1,we(t,e,i,l),e.child;case 14:return Vd(t,e,e.type,e.pendingProps,l);case 15:return Qd(t,e,e.type,e.pendingProps,l);case 19:return $d(t,e,l);case 31:return Gy(t,e,l);case 22:return Zd(t,e,l,e.pendingProps);case 24:return sl(e),i=be(le),t===null?(r=ro(),r===null&&(r=Qt,c=uo(),r.pooledCache=c,c.refCount++,c!==null&&(r.pooledCacheLanes|=l),r=c),e.memoizedState={parent:i,cache:r},co(e),xa(e,le,r)):((t.lanes&l)!==0&&(fo(t,e),Qi(e,null,null,l),Vi()),r=t.memoizedState,c=e.memoizedState,r.parent!==i?(r={parent:i,cache:i},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),xa(e,le,i)):(i=c.cache,xa(e,le,i),i!==r.cache&&io(e,[le],l,!0))),we(t,e,e.pendingProps.children,l),e.child;case 29:throw e.pendingProps}throw Error(s(156,e.tag))}function aa(t){t.flags|=4}function Jo(t,e,l,i,r){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(r&335544128)===r)if(t.stateNode.complete)t.flags|=8192;else if(qg())t.flags|=8192;else throw cl=is,oo}else t.flags&=-16777217}function eg(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!pm(e))if(qg())t.flags|=8192;else throw cl=is,oo}function xs(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Q():536870912,t.lanes|=e,ii|=e)}function Wi(t,e){if(!Rt)switch(t.tailMode){case"hidden":e=t.tail;for(var l=null;e!==null;)e.alternate!==null&&(l=e),e=e.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var i=null;l!==null;)l.alternate!==null&&(i=l),l=l.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,l=0,i=0;if(e)for(var r=t.child;r!==null;)l|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)l|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=l,e}function Ly(t,e,l){var i=e.pendingProps;switch(to(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return Ft(e),null;case 3:return l=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),$n(le),Zt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(Kl(e)?aa(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,no())),Ft(e),null;case 26:var r=e.type,c=e.memoizedState;return t===null?(aa(e),c!==null?(Ft(e),eg(e,c)):(Ft(e),Jo(e,r,null,i,l))):c?c!==t.memoizedState?(aa(e),Ft(e),eg(e,c)):(Ft(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&aa(e),Ft(e),Jo(e,r,t,i,l)),null;case 27:if(De(e),l=bt.current,r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&aa(e);else{if(!i){if(e.stateNode===null)throw Error(s(166));return Ft(e),null}t=it.current,Kl(e)?Uh(e):(t=rm(r,i,l),e.stateNode=t,aa(e))}return Ft(e),null;case 5:if(De(e),r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&aa(e);else{if(!i){if(e.stateNode===null)throw Error(s(166));return Ft(e),null}if(c=it.current,Kl(e))Uh(e);else{var g=_s(bt.current);switch(c){case 1:c=g.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:c=g.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":c=g.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":c=g.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":c=g.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof i.is=="string"?g.createElement("select",{is:i.is}):g.createElement("select"),i.multiple?c.multiple=!0:i.size&&(c.size=i.size);break;default:c=typeof i.is=="string"?g.createElement(r,{is:i.is}):g.createElement(r)}}c[ve]=e,c[He]=i;t:for(g=e.child;g!==null;){if(g.tag===5||g.tag===6)c.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break t;for(;g.sibling===null;){if(g.return===null||g.return===e)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}e.stateNode=c;t:switch(xe(c,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&aa(e)}}return Ft(e),Jo(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,l),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&aa(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(s(166));if(t=bt.current,Kl(e)){if(t=e.stateNode,l=e.memoizedProps,i=null,r=Ae,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}t[ve]=e,t=!!(t.nodeValue===l||i!==null&&i.suppressHydrationWarning===!0||Ig(t.nodeValue,l)),t||wa(e,!0)}else t=_s(t).createTextNode(i),t[ve]=e,e.stateNode=t}return Ft(e),null;case 31:if(l=e.memoizedState,t===null||t.memoizedState!==null){if(i=Kl(e),l!==null){if(t===null){if(!i)throw Error(s(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[ve]=e}else il(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Ft(e),t=!1}else l=no(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),t=!0;if(!t)return e.flags&256?(Pe(e),e):(Pe(e),null);if((e.flags&128)!==0)throw Error(s(558))}return Ft(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=Kl(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(s(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));r[ve]=e}else il(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Ft(e),r=!1}else r=no(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(Pe(e),e):(Pe(e),null)}return Pe(e),(e.flags&128)!==0?(e.lanes=l,e):(l=i!==null,t=t!==null&&t.memoizedState!==null,l&&(i=e.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==r&&(i.flags|=2048)),l!==t&&l&&(e.child.flags|=8192),xs(e,e.updateQueue),Ft(e),null);case 4:return Zt(),t===null&&mc(e.stateNode.containerInfo),Ft(e),null;case 10:return $n(e.type),Ft(e),null;case 19:if(j(ee),i=e.memoizedState,i===null)return Ft(e),null;if(r=(e.flags&128)!==0,c=i.rendering,c===null)if(r)Wi(i,!1);else{if($t!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(c=os(t),c!==null){for(e.flags|=128,Wi(i,!1),t=c.updateQueue,e.updateQueue=t,xs(e,t),e.subtreeFlags=0,t=l,l=e.child;l!==null;)Oh(l,t),l=l.sibling;return nt(ee,ee.current&1|2),Rt&&In(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&ye()>qs&&(e.flags|=128,r=!0,Wi(i,!1),e.lanes=4194304)}else{if(!r)if(t=os(c),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,xs(e,t),Wi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!c.alternate&&!Rt)return Ft(e),null}else 2*ye()-i.renderingStartTime>qs&&l!==536870912&&(e.flags|=128,r=!0,Wi(i,!1),e.lanes=4194304);i.isBackwards?(c.sibling=e.child,e.child=c):(t=i.last,t!==null?t.sibling=c:e.child=c,i.last=c)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ye(),t.sibling=null,l=ee.current,nt(ee,r?l&1|2:l&1),Rt&&In(e,i.treeForkCount),t):(Ft(e),null);case 22:case 23:return Pe(e),po(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?(l&536870912)!==0&&(e.flags&128)===0&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),l=e.updateQueue,l!==null&&xs(e,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==l&&(e.flags|=2048),t!==null&&j(rl),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),e.memoizedState.cache!==l&&(e.flags|=2048),$n(le),Ft(e),null;case 25:return null;case 30:return null}throw Error(s(156,e.tag))}function Xy(t,e){switch(to(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $n(le),Zt(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return De(e),null;case 31:if(e.memoizedState!==null){if(Pe(e),e.alternate===null)throw Error(s(340));il()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Pe(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(s(340));il()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return j(ee),null;case 4:return Zt(),null;case 10:return $n(e.type),null;case 22:case 23:return Pe(e),po(),t!==null&&j(rl),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return $n(le),null;case 25:return null;default:return null}}function ng(t,e){switch(to(e),e.tag){case 3:$n(le),Zt();break;case 26:case 27:case 5:De(e);break;case 4:Zt();break;case 31:e.memoizedState!==null&&Pe(e);break;case 13:Pe(e);break;case 19:j(ee);break;case 10:$n(e.type);break;case 22:case 23:Pe(e),po(),t!==null&&j(rl);break;case 24:$n(le)}}function Ii(t,e){try{var l=e.updateQueue,i=l!==null?l.lastEffect:null;if(i!==null){var r=i.next;l=r;do{if((l.tag&t)===t){i=void 0;var c=l.create,g=l.inst;i=c(),g.destroy=i}l=l.next}while(l!==r)}}catch(A){jt(e,e.return,A)}}function Da(t,e,l){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var c=r.next;i=c;do{if((i.tag&t)===t){var g=i.inst,A=g.destroy;if(A!==void 0){g.destroy=void 0,r=e;var q=l,_=A;try{_()}catch(J){jt(r,q,J)}}}i=i.next}while(i!==c)}}catch(J){jt(e,e.return,J)}}function ag(t){var e=t.updateQueue;if(e!==null){var l=t.stateNode;try{Jh(e,l)}catch(i){jt(t,t.return,i)}}}function lg(t,e,l){l.props=dl(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(i){jt(t,e,i)}}function Pi(t,e){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof l=="function"?t.refCleanup=l(i):l.current=i}}catch(r){jt(t,e,r)}}function _n(t,e){var l=t.ref,i=t.refCleanup;if(l!==null)if(typeof i=="function")try{i()}catch(r){jt(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(r){jt(t,e,r)}else l.current=null}function ig(t){var e=t.type,l=t.memoizedProps,i=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":l.autoFocus&&i.focus();break t;case"img":l.src?i.src=l.src:l.srcSet&&(i.srcset=l.srcSet)}}catch(r){jt(t,t.return,r)}}function Fo(t,e,l){try{var i=t.stateNode;c1(i,t.type,l,e),i[He]=e}catch(r){jt(t,t.return,r)}}function ug(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Na(t.type)||t.tag===4}function ko(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||ug(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Na(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wo(t,e,l){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,e):(e=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,e.appendChild(t),l=l._reactRootContainer,l!=null||e.onclick!==null||(e.onclick=Fn));else if(i!==4&&(i===27&&Na(t.type)&&(l=t.stateNode,e=null),t=t.child,t!==null))for(Wo(t,e,l),t=t.sibling;t!==null;)Wo(t,e,l),t=t.sibling}function Ss(t,e,l){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?l.insertBefore(t,e):l.appendChild(t);else if(i!==4&&(i===27&&Na(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(Ss(t,e,l),t=t.sibling;t!==null;)Ss(t,e,l),t=t.sibling}function sg(t){var e=t.stateNode,l=t.memoizedProps;try{for(var i=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);xe(e,i,l),e[ve]=t,e[He]=l}catch(c){jt(t,t.return,c)}}var la=!1,se=!1,Io=!1,rg=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Vy(t,e){if(t=t.containerInfo,vc=Qs,t=bh(t),Vr(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else t:{l=(l=t.ownerDocument)&&l.defaultView||window;var i=l.getSelection&&l.getSelection();if(i&&i.rangeCount!==0){l=i.anchorNode;var r=i.anchorOffset,c=i.focusNode;i=i.focusOffset;try{l.nodeType,c.nodeType}catch{l=null;break t}var g=0,A=-1,q=-1,_=0,J=0,I=t,Y=null;e:for(;;){for(var Z;I!==l||r!==0&&I.nodeType!==3||(A=g+r),I!==c||i!==0&&I.nodeType!==3||(q=g+i),I.nodeType===3&&(g+=I.nodeValue.length),(Z=I.firstChild)!==null;)Y=I,I=Z;for(;;){if(I===t)break e;if(Y===l&&++_===r&&(A=g),Y===c&&++J===i&&(q=g),(Z=I.nextSibling)!==null)break;I=Y,Y=I.parentNode}I=Z}l=A===-1||q===-1?null:{start:A,end:q}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ac={focusedElem:t,selectionRange:l},Qs=!1,pe=e;pe!==null;)if(e=pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pe=t;else for(;pe!==null;){switch(e=pe,c=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(l=0;l<t.length;l++)r=t[l],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&c!==null){t=void 0,l=e,r=c.memoizedProps,c=c.memoizedState,i=l.stateNode;try{var st=dl(l.type,r);t=i.getSnapshotBeforeUpdate(st,c),i.__reactInternalSnapshotBeforeUpdate=t}catch(dt){jt(l,l.return,dt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,l=t.nodeType,l===9)xc(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":xc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=e.sibling,t!==null){t.return=e.return,pe=t;break}pe=e.return}}function og(t,e,l){var i=l.flags;switch(l.tag){case 0:case 11:case 15:ua(t,l),i&4&&Ii(5,l);break;case 1:if(ua(t,l),i&4)if(t=l.stateNode,e===null)try{t.componentDidMount()}catch(g){jt(l,l.return,g)}else{var r=dl(l.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(g){jt(l,l.return,g)}}i&64&&ag(l),i&512&&Pi(l,l.return);break;case 3:if(ua(t,l),i&64&&(t=l.updateQueue,t!==null)){if(e=null,l.child!==null)switch(l.child.tag){case 27:case 5:e=l.child.stateNode;break;case 1:e=l.child.stateNode}try{Jh(t,e)}catch(g){jt(l,l.return,g)}}break;case 27:e===null&&i&4&&sg(l);case 26:case 5:ua(t,l),e===null&&i&4&&ig(l),i&512&&Pi(l,l.return);break;case 12:ua(t,l);break;case 31:ua(t,l),i&4&&hg(t,l);break;case 13:ua(t,l),i&4&&dg(t,l),i&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=Py.bind(null,l),v1(t,l))));break;case 22:if(i=l.memoizedState!==null||la,!i){e=e!==null&&e.memoizedState!==null||se,r=la;var c=se;la=i,(se=e)&&!c?sa(t,l,(l.subtreeFlags&8772)!==0):ua(t,l),la=r,se=c}break;case 30:break;default:ua(t,l)}}function cg(t){var e=t.alternate;e!==null&&(t.alternate=null,cg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Tr(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var kt=null,je=!1;function ia(t,e,l){for(l=l.child;l!==null;)fg(t,e,l),l=l.sibling}function fg(t,e,l){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(ka,l)}catch{}switch(l.tag){case 26:se||_n(l,e),ia(t,e,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:se||_n(l,e);var i=kt,r=je;Na(l.type)&&(kt=l.stateNode,je=!1),ia(t,e,l),su(l.stateNode),kt=i,je=r;break;case 5:se||_n(l,e);case 6:if(i=kt,r=je,kt=null,ia(t,e,l),kt=i,je=r,kt!==null)if(je)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(l.stateNode)}catch(c){jt(l,e,c)}else try{kt.removeChild(l.stateNode)}catch(c){jt(l,e,c)}break;case 18:kt!==null&&(je?(t=kt,am(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),di(t)):am(kt,l.stateNode));break;case 4:i=kt,r=je,kt=l.stateNode.containerInfo,je=!0,ia(t,e,l),kt=i,je=r;break;case 0:case 11:case 14:case 15:Da(2,l,e),se||Da(4,l,e),ia(t,e,l);break;case 1:se||(_n(l,e),i=l.stateNode,typeof i.componentWillUnmount=="function"&&lg(l,e,i)),ia(t,e,l);break;case 21:ia(t,e,l);break;case 22:se=(i=se)||l.memoizedState!==null,ia(t,e,l),se=i;break;default:ia(t,e,l)}}function hg(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{di(t)}catch(l){jt(e,e.return,l)}}}function dg(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{di(t)}catch(l){jt(e,e.return,l)}}function Qy(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new rg),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new rg),e;default:throw Error(s(435,t.tag))}}function Es(t,e){var l=Qy(t);e.forEach(function(i){if(!l.has(i)){l.add(i);var r=$y.bind(null,t,i);i.then(r,r)}})}function Ge(t,e){var l=e.deletions;if(l!==null)for(var i=0;i<l.length;i++){var r=l[i],c=t,g=e,A=g;t:for(;A!==null;){switch(A.tag){case 27:if(Na(A.type)){kt=A.stateNode,je=!1;break t}break;case 5:kt=A.stateNode,je=!1;break t;case 3:case 4:kt=A.stateNode.containerInfo,je=!0;break t}A=A.return}if(kt===null)throw Error(s(160));fg(c,g,r),kt=null,je=!1,c=r.alternate,c!==null&&(c.return=null),r.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)gg(e,t),e=e.sibling}var Cn=null;function gg(t,e){var l=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ge(e,t),Ye(t),i&4&&(Da(3,t,t.return),Ii(3,t),Da(5,t,t.return));break;case 1:Ge(e,t),Ye(t),i&512&&(se||l===null||_n(l,l.return)),i&64&&la&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?i:l.concat(i))));break;case 26:var r=Cn;if(Ge(e,t),Ye(t),i&512&&(se||l===null||_n(l,l.return)),i&4){var c=l!==null?l.memoizedState:null;if(i=t.memoizedState,l===null)if(i===null)if(t.stateNode===null){t:{i=t.type,l=t.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":c=r.getElementsByTagName("title")[0],(!c||c[Mi]||c[ve]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=r.createElement(i),r.head.insertBefore(c,r.querySelector("head > title"))),xe(c,i,l),c[ve]=t,me(c),i=c;break t;case"link":var g=gm("link","href",r).get(i+(l.href||""));if(g){for(var A=0;A<g.length;A++)if(c=g[A],c.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&c.getAttribute("rel")===(l.rel==null?null:l.rel)&&c.getAttribute("title")===(l.title==null?null:l.title)&&c.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){g.splice(A,1);break e}}c=r.createElement(i),xe(c,i,l),r.head.appendChild(c);break;case"meta":if(g=gm("meta","content",r).get(i+(l.content||""))){for(A=0;A<g.length;A++)if(c=g[A],c.getAttribute("content")===(l.content==null?null:""+l.content)&&c.getAttribute("name")===(l.name==null?null:l.name)&&c.getAttribute("property")===(l.property==null?null:l.property)&&c.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&c.getAttribute("charset")===(l.charSet==null?null:l.charSet)){g.splice(A,1);break e}}c=r.createElement(i),xe(c,i,l),r.head.appendChild(c);break;default:throw Error(s(468,i))}c[ve]=t,me(c),i=c}t.stateNode=i}else mm(r,t.type,t.stateNode);else t.stateNode=dm(r,i,t.memoizedProps);else c!==i?(c===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):c.count--,i===null?mm(r,t.type,t.stateNode):dm(r,i,t.memoizedProps)):i===null&&t.stateNode!==null&&Fo(t,t.memoizedProps,l.memoizedProps)}break;case 27:Ge(e,t),Ye(t),i&512&&(se||l===null||_n(l,l.return)),l!==null&&i&4&&Fo(t,t.memoizedProps,l.memoizedProps);break;case 5:if(Ge(e,t),Ye(t),i&512&&(se||l===null||_n(l,l.return)),t.flags&32){r=t.stateNode;try{Hl(r,"")}catch(st){jt(t,t.return,st)}}i&4&&t.stateNode!=null&&(r=t.memoizedProps,Fo(t,r,l!==null?l.memoizedProps:r)),i&1024&&(Io=!0);break;case 6:if(Ge(e,t),Ye(t),i&4){if(t.stateNode===null)throw Error(s(162));i=t.memoizedProps,l=t.stateNode;try{l.nodeValue=i}catch(st){jt(t,t.return,st)}}break;case 3:if(Ys=null,r=Cn,Cn=js(e.containerInfo),Ge(e,t),Cn=r,Ye(t),i&4&&l!==null&&l.memoizedState.isDehydrated)try{di(e.containerInfo)}catch(st){jt(t,t.return,st)}Io&&(Io=!1,mg(t));break;case 4:i=Cn,Cn=js(t.stateNode.containerInfo),Ge(e,t),Ye(t),Cn=i;break;case 12:Ge(e,t),Ye(t);break;case 31:Ge(e,t),Ye(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Es(t,i)));break;case 13:Ge(e,t),Ye(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ts=ye()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Es(t,i)));break;case 22:r=t.memoizedState!==null;var q=l!==null&&l.memoizedState!==null,_=la,J=se;if(la=_||r,se=J||q,Ge(e,t),se=J,la=_,Ye(t),i&8192)t:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(l===null||q||la||se||gl(t)),l=null,e=t;;){if(e.tag===5||e.tag===26){if(l===null){q=l=e;try{if(c=q.stateNode,r)g=c.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{A=q.stateNode;var I=q.memoizedProps.style,Y=I!=null&&I.hasOwnProperty("display")?I.display:null;A.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(st){jt(q,q.return,st)}}}else if(e.tag===6){if(l===null){q=e;try{q.stateNode.nodeValue=r?"":q.memoizedProps}catch(st){jt(q,q.return,st)}}}else if(e.tag===18){if(l===null){q=e;try{var Z=q.stateNode;r?lm(Z,!0):lm(q.stateNode,!1)}catch(st){jt(q,q.return,st)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;l===e&&(l=null),e=e.return}l===e&&(l=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(l=i.retryQueue,l!==null&&(i.retryQueue=null,Es(t,l))));break;case 19:Ge(e,t),Ye(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Es(t,i)));break;case 30:break;case 21:break;default:Ge(e,t),Ye(t)}}function Ye(t){var e=t.flags;if(e&2){try{for(var l,i=t.return;i!==null;){if(ug(i)){l=i;break}i=i.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var r=l.stateNode,c=ko(t);Ss(t,c,r);break;case 5:var g=l.stateNode;l.flags&32&&(Hl(g,""),l.flags&=-33);var A=ko(t);Ss(t,A,g);break;case 3:case 4:var q=l.stateNode.containerInfo,_=ko(t);Wo(t,_,q);break;default:throw Error(s(161))}}catch(J){jt(t,t.return,J)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;mg(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ua(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)og(t,e.alternate,e),e=e.sibling}function gl(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Da(4,e,e.return),gl(e);break;case 1:_n(e,e.return);var l=e.stateNode;typeof l.componentWillUnmount=="function"&&lg(e,e.return,l),gl(e);break;case 27:su(e.stateNode);case 26:case 5:_n(e,e.return),gl(e);break;case 22:e.memoizedState===null&&gl(e);break;case 30:gl(e);break;default:gl(e)}t=t.sibling}}function sa(t,e,l){for(l=l&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,r=t,c=e,g=c.flags;switch(c.tag){case 0:case 11:case 15:sa(r,c,l),Ii(4,c);break;case 1:if(sa(r,c,l),i=c,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(_){jt(i,i.return,_)}if(i=c,r=i.updateQueue,r!==null){var A=i.stateNode;try{var q=r.shared.hiddenCallbacks;if(q!==null)for(r.shared.hiddenCallbacks=null,r=0;r<q.length;r++)Kh(q[r],A)}catch(_){jt(i,i.return,_)}}l&&g&64&&ag(c),Pi(c,c.return);break;case 27:sg(c);case 26:case 5:sa(r,c,l),l&&i===null&&g&4&&ig(c),Pi(c,c.return);break;case 12:sa(r,c,l);break;case 31:sa(r,c,l),l&&g&4&&hg(r,c);break;case 13:sa(r,c,l),l&&g&4&&dg(r,c);break;case 22:c.memoizedState===null&&sa(r,c,l),Pi(c,c.return);break;case 30:break;default:sa(r,c,l)}e=e.sibling}}function Po(t,e){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&ji(l))}function $o(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ji(t))}function zn(t,e,l,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)pg(t,e,l,i),e=e.sibling}function pg(t,e,l,i){var r=e.flags;switch(e.tag){case 0:case 11:case 15:zn(t,e,l,i),r&2048&&Ii(9,e);break;case 1:zn(t,e,l,i);break;case 3:zn(t,e,l,i),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ji(t)));break;case 12:if(r&2048){zn(t,e,l,i),t=e.stateNode;try{var c=e.memoizedProps,g=c.id,A=c.onPostCommit;typeof A=="function"&&A(g,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(q){jt(e,e.return,q)}}else zn(t,e,l,i);break;case 31:zn(t,e,l,i);break;case 13:zn(t,e,l,i);break;case 23:break;case 22:c=e.stateNode,g=e.alternate,e.memoizedState!==null?c._visibility&2?zn(t,e,l,i):$i(t,e):c._visibility&2?zn(t,e,l,i):(c._visibility|=2,ni(t,e,l,i,(e.subtreeFlags&10256)!==0||!1)),r&2048&&Po(g,e);break;case 24:zn(t,e,l,i),r&2048&&$o(e.alternate,e);break;default:zn(t,e,l,i)}}function ni(t,e,l,i,r){for(r=r&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var c=t,g=e,A=l,q=i,_=g.flags;switch(g.tag){case 0:case 11:case 15:ni(c,g,A,q,r),Ii(8,g);break;case 23:break;case 22:var J=g.stateNode;g.memoizedState!==null?J._visibility&2?ni(c,g,A,q,r):$i(c,g):(J._visibility|=2,ni(c,g,A,q,r)),r&&_&2048&&Po(g.alternate,g);break;case 24:ni(c,g,A,q,r),r&&_&2048&&$o(g.alternate,g);break;default:ni(c,g,A,q,r)}e=e.sibling}}function $i(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var l=t,i=e,r=i.flags;switch(i.tag){case 22:$i(l,i),r&2048&&Po(i.alternate,i);break;case 24:$i(l,i),r&2048&&$o(i.alternate,i);break;default:$i(l,i)}e=e.sibling}}var tu=8192;function ai(t,e,l){if(t.subtreeFlags&tu)for(t=t.child;t!==null;)yg(t,e,l),t=t.sibling}function yg(t,e,l){switch(t.tag){case 26:ai(t,e,l),t.flags&tu&&t.memoizedState!==null&&R1(l,Cn,t.memoizedState,t.memoizedProps);break;case 5:ai(t,e,l);break;case 3:case 4:var i=Cn;Cn=js(t.stateNode.containerInfo),ai(t,e,l),Cn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=tu,tu=16777216,ai(t,e,l),tu=i):ai(t,e,l));break;default:ai(t,e,l)}}function vg(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function eu(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var l=0;l<e.length;l++){var i=e[l];pe=i,bg(i,t)}vg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ag(t),t=t.sibling}function Ag(t){switch(t.tag){case 0:case 11:case 15:eu(t),t.flags&2048&&Da(9,t,t.return);break;case 3:eu(t);break;case 12:eu(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Ms(t)):eu(t);break;default:eu(t)}}function Ms(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var l=0;l<e.length;l++){var i=e[l];pe=i,bg(i,t)}vg(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Da(8,e,e.return),Ms(e);break;case 22:l=e.stateNode,l._visibility&2&&(l._visibility&=-3,Ms(e));break;default:Ms(e)}t=t.sibling}}function bg(t,e){for(;pe!==null;){var l=pe;switch(l.tag){case 0:case 11:case 15:Da(8,l,e);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var i=l.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:ji(l.memoizedState.cache)}if(i=l.child,i!==null)i.return=l,pe=i;else t:for(l=t;pe!==null;){i=pe;var r=i.sibling,c=i.return;if(cg(i),i===l){pe=null;break t}if(r!==null){r.return=c,pe=r;break t}pe=c}}}var Zy={getCacheForType:function(t){var e=be(le),l=e.data.get(t);return l===void 0&&(l=t(),e.data.set(t,l)),l},cacheSignal:function(){return be(le).controller.signal}},Ky=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Qt=null,Et=null,Tt=0,_t=0,$e=null,Oa=!1,li=!1,tc=!1,ra=0,$t=0,Ra=0,ml=0,ec=0,tn=0,ii=0,nu=null,Le=null,nc=!1,Ts=0,wg=0,qs=1/0,Ds=null,Ca=null,ce=0,za=null,ui=null,oa=0,ac=0,lc=null,xg=null,au=0,ic=null;function en(){return(Ht&2)!==0&&Tt!==0?Tt&-Tt:N.T!==null?fc():Ol()}function Sg(){if(tn===0)if((Tt&536870912)===0||Rt){var t=Wa;Wa<<=1,(Wa&3932160)===0&&(Wa=262144),tn=t}else tn=536870912;return t=Ie.current,t!==null&&(t.flags|=32),tn}function Xe(t,e,l){(t===Qt&&(_t===2||_t===9)||t.cancelPendingCommit!==null)&&(si(t,0),Ba(t,Tt,tn,!1)),at(t,l),((Ht&2)===0||t!==Qt)&&(t===Qt&&((Ht&2)===0&&(ml|=l),$t===4&&Ba(t,Tt,tn,!1)),jn(t))}function Eg(t,e,l){if((Ht&6)!==0)throw Error(s(327));var i=!l&&(e&127)===0&&(e&t.expiredLanes)===0||pa(t,e),r=i?ky(t,e):sc(t,e,!0),c=i;do{if(r===0){li&&!i&&Ba(t,e,0,!1);break}else{if(l=t.current.alternate,c&&!Jy(l)){r=sc(t,e,!1),c=!1;continue}if(r===2){if(c=e,t.errorRecoveryDisabledLanes&c)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){e=g;t:{var A=t;r=nu;var q=A.current.memoizedState.isDehydrated;if(q&&(si(A,g).flags|=256),g=sc(A,g,!1),g!==2){if(tc&&!q){A.errorRecoveryDisabledLanes|=c,ml|=c,r=4;break t}c=Le,Le=r,c!==null&&(Le===null?Le=c:Le.push.apply(Le,c))}r=g}if(c=!1,r!==2)continue}}if(r===1){si(t,0),Ba(t,e,0,!0);break}t:{switch(i=t,c=r,c){case 0:case 1:throw Error(s(345));case 4:if((e&4194048)!==e)break;case 6:Ba(i,e,tn,!Oa);break t;case 2:Le=null;break;case 3:case 5:break;default:throw Error(s(329))}if((e&62914560)===e&&(r=Ts+300-ye(),10<r)){if(Ba(i,e,tn,!Oa),Pa(i,0,!0)!==0)break t;oa=e,i.timeoutHandle=em(Mg.bind(null,i,l,Le,Ds,nc,e,tn,ml,ii,Oa,c,"Throttled",-0,0),r);break t}Mg(i,l,Le,Ds,nc,e,tn,ml,ii,Oa,c,null,-0,0)}}break}while(!0);jn(t)}function Mg(t,e,l,i,r,c,g,A,q,_,J,I,Y,Z){if(t.timeoutHandle=-1,I=e.subtreeFlags,I&8192||(I&16785408)===16785408){I={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},yg(e,c,I);var st=(c&62914560)===c?Ts-ye():(c&4194048)===c?wg-ye():0;if(st=C1(I,st),st!==null){oa=c,t.cancelPendingCommit=st(Bg.bind(null,t,e,c,l,i,r,g,A,q,J,I,null,Y,Z)),Ba(t,c,g,!_);return}}Bg(t,e,c,l,i,r,g,A,q)}function Jy(t){for(var e=t;;){var l=e.tag;if((l===0||l===11||l===15)&&e.flags&16384&&(l=e.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var i=0;i<l.length;i++){var r=l[i],c=r.getSnapshot;r=r.value;try{if(!ke(c(),r))return!1}catch{return!1}}if(l=e.child,e.subtreeFlags&16384&&l!==null)l.return=e,e=l;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ba(t,e,l,i){e&=~ec,e&=~ml,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var r=e;0<r;){var c=31-Ce(r),g=1<<c;i[c]=-1,r&=~g}l!==0&&Kt(t,l,e)}function Os(){return(Ht&6)===0?(lu(0),!1):!0}function uc(){if(Et!==null){if(_t===0)var t=Et.return;else t=Et,Pn=ul=null,xo(t),Il=null,Yi=0,t=Et;for(;t!==null;)ng(t.alternate,t),t=t.return;Et=null}}function si(t,e){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,d1(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),oa=0,uc(),Qt=t,Et=l=Wn(t.current,null),Tt=e,_t=0,$e=null,Oa=!1,li=pa(t,e),tc=!1,ii=tn=ec=ml=Ra=$t=0,Le=nu=null,nc=!1,(e&8)!==0&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var r=31-Ce(i),c=1<<r;e|=t[r],i&=~c}return ra=e,Wu(),l}function Tg(t,e){wt=null,N.H=Fi,e===Wl||e===ls?(e=Xh(),_t=3):e===oo?(e=Xh(),_t=4):_t=e===jo?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,$e=e,Et===null&&($t=1,vs(t,dn(e,t.current)))}function qg(){var t=Ie.current;return t===null?!0:(Tt&4194048)===Tt?yn===null:(Tt&62914560)===Tt||(Tt&536870912)!==0?t===yn:!1}function Dg(){var t=N.H;return N.H=Fi,t===null?Fi:t}function Og(){var t=N.A;return N.A=Zy,t}function Rs(){$t=4,Oa||(Tt&4194048)!==Tt&&Ie.current!==null||(li=!0),(Ra&134217727)===0&&(ml&134217727)===0||Qt===null||Ba(Qt,Tt,tn,!1)}function sc(t,e,l){var i=Ht;Ht|=2;var r=Dg(),c=Og();(Qt!==t||Tt!==e)&&(Ds=null,si(t,e)),e=!1;var g=$t;t:do try{if(_t!==0&&Et!==null){var A=Et,q=$e;switch(_t){case 8:uc(),g=6;break t;case 3:case 2:case 9:case 6:Ie.current===null&&(e=!0);var _=_t;if(_t=0,$e=null,ri(t,A,q,_),l&&li){g=0;break t}break;default:_=_t,_t=0,$e=null,ri(t,A,q,_)}}Fy(),g=$t;break}catch(J){Tg(t,J)}while(!0);return e&&t.shellSuspendCounter++,Pn=ul=null,Ht=i,N.H=r,N.A=c,Et===null&&(Qt=null,Tt=0,Wu()),g}function Fy(){for(;Et!==null;)Rg(Et)}function ky(t,e){var l=Ht;Ht|=2;var i=Dg(),r=Og();Qt!==t||Tt!==e?(Ds=null,qs=ye()+500,si(t,e)):li=pa(t,e);t:do try{if(_t!==0&&Et!==null){e=Et;var c=$e;e:switch(_t){case 1:_t=0,$e=null,ri(t,e,c,1);break;case 2:case 9:if(Yh(c)){_t=0,$e=null,Cg(e);break}e=function(){_t!==2&&_t!==9||Qt!==t||(_t=7),jn(t)},c.then(e,e);break t;case 3:_t=7;break t;case 4:_t=5;break t;case 7:Yh(c)?(_t=0,$e=null,Cg(e)):(_t=0,$e=null,ri(t,e,c,7));break;case 5:var g=null;switch(Et.tag){case 26:g=Et.memoizedState;case 5:case 27:var A=Et;if(g?pm(g):A.stateNode.complete){_t=0,$e=null;var q=A.sibling;if(q!==null)Et=q;else{var _=A.return;_!==null?(Et=_,Cs(_)):Et=null}break e}}_t=0,$e=null,ri(t,e,c,5);break;case 6:_t=0,$e=null,ri(t,e,c,6);break;case 8:uc(),$t=6;break t;default:throw Error(s(462))}}Wy();break}catch(J){Tg(t,J)}while(!0);return Pn=ul=null,N.H=i,N.A=r,Ht=l,Et!==null?0:(Qt=null,Tt=0,Wu(),$t)}function Wy(){for(;Et!==null&&!xi();)Rg(Et)}function Rg(t){var e=tg(t.alternate,t,ra);t.memoizedProps=t.pendingProps,e===null?Cs(t):Et=e}function Cg(t){var e=t,l=e.alternate;switch(e.tag){case 15:case 0:e=Fd(l,e,e.pendingProps,e.type,void 0,Tt);break;case 11:e=Fd(l,e,e.pendingProps,e.type.render,e.ref,Tt);break;case 5:xo(e);default:ng(l,e),e=Et=Oh(e,ra),e=tg(l,e,ra)}t.memoizedProps=t.pendingProps,e===null?Cs(t):Et=e}function ri(t,e,l,i){Pn=ul=null,xo(e),Il=null,Yi=0;var r=e.return;try{if(jy(t,r,e,l,Tt)){$t=1,vs(t,dn(l,t.current)),Et=null;return}}catch(c){if(r!==null)throw Et=r,c;$t=1,vs(t,dn(l,t.current)),Et=null;return}e.flags&32768?(Rt||i===1?t=!0:li||(Tt&536870912)!==0?t=!1:(Oa=t=!0,(i===2||i===9||i===3||i===6)&&(i=Ie.current,i!==null&&i.tag===13&&(i.flags|=16384))),zg(e,t)):Cs(e)}function Cs(t){var e=t;do{if((e.flags&32768)!==0){zg(e,Oa);return}t=e.return;var l=Ly(e.alternate,e,ra);if(l!==null){Et=l;return}if(e=e.sibling,e!==null){Et=e;return}Et=e=t}while(e!==null);$t===0&&($t=5)}function zg(t,e){do{var l=Xy(t.alternate,t);if(l!==null){l.flags&=32767,Et=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!e&&(t=t.sibling,t!==null)){Et=t;return}Et=t=l}while(t!==null);$t=6,Et=null}function Bg(t,e,l,i,r,c,g,A,q){t.cancelPendingCommit=null;do zs();while(ce!==0);if((Ht&6)!==0)throw Error(s(327));if(e!==null){if(e===t.current)throw Error(s(177));if(c=e.lanes|e.childLanes,c|=Fr,Nt(t,l,c,g,A,q),t===Qt&&(Et=Qt=null,Tt=0),ui=e,za=t,oa=l,ac=c,lc=r,xg=i,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,t1(Vn,function(){return jg(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||i){i=N.T,N.T=null,r=k.p,k.p=2,g=Ht,Ht|=4;try{Vy(t,e,l)}finally{Ht=g,k.p=r,N.T=i}}ce=1,Ug(),Ng(),Hg()}}function Ug(){if(ce===1){ce=0;var t=za,e=ui,l=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||l){l=N.T,N.T=null;var i=k.p;k.p=2;var r=Ht;Ht|=4;try{gg(e,t);var c=Ac,g=bh(t.containerInfo),A=c.focusedElem,q=c.selectionRange;if(g!==A&&A&&A.ownerDocument&&Ah(A.ownerDocument.documentElement,A)){if(q!==null&&Vr(A)){var _=q.start,J=q.end;if(J===void 0&&(J=_),"selectionStart"in A)A.selectionStart=_,A.selectionEnd=Math.min(J,A.value.length);else{var I=A.ownerDocument||document,Y=I&&I.defaultView||window;if(Y.getSelection){var Z=Y.getSelection(),st=A.textContent.length,dt=Math.min(q.start,st),Vt=q.end===void 0?dt:Math.min(q.end,st);!Z.extend&&dt>Vt&&(g=Vt,Vt=dt,dt=g);var B=vh(A,dt),z=vh(A,Vt);if(B&&z&&(Z.rangeCount!==1||Z.anchorNode!==B.node||Z.anchorOffset!==B.offset||Z.focusNode!==z.node||Z.focusOffset!==z.offset)){var H=I.createRange();H.setStart(B.node,B.offset),Z.removeAllRanges(),dt>Vt?(Z.addRange(H),Z.extend(z.node,z.offset)):(H.setEnd(z.node,z.offset),Z.addRange(H))}}}}for(I=[],Z=A;Z=Z.parentNode;)Z.nodeType===1&&I.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<I.length;A++){var W=I[A];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Qs=!!vc,Ac=vc=null}finally{Ht=r,k.p=i,N.T=l}}t.current=e,ce=2}}function Ng(){if(ce===2){ce=0;var t=za,e=ui,l=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||l){l=N.T,N.T=null;var i=k.p;k.p=2;var r=Ht;Ht|=4;try{og(t,e.alternate,e)}finally{Ht=r,k.p=i,N.T=l}}ce=3}}function Hg(){if(ce===4||ce===3){ce=0,Si();var t=za,e=ui,l=oa,i=xg;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?ce=5:(ce=0,ui=za=null,_g(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(Ca=null),On(l),e=e.stateNode,Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(ka,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=N.T,r=k.p,k.p=2,N.T=null;try{for(var c=t.onRecoverableError,g=0;g<i.length;g++){var A=i[g];c(A.value,{componentStack:A.stack})}}finally{N.T=e,k.p=r}}(oa&3)!==0&&zs(),jn(t),r=t.pendingLanes,(l&261930)!==0&&(r&42)!==0?t===ic?au++:(au=0,ic=t):au=0,lu(0)}}function _g(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,ji(e)))}function zs(){return Ug(),Ng(),Hg(),jg()}function jg(){if(ce!==5)return!1;var t=za,e=ac;ac=0;var l=On(oa),i=N.T,r=k.p;try{k.p=32>l?32:l,N.T=null,l=lc,lc=null;var c=za,g=oa;if(ce=0,ui=za=null,oa=0,(Ht&6)!==0)throw Error(s(331));var A=Ht;if(Ht|=4,Ag(c.current),pg(c,c.current,g,l),Ht=A,lu(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(ka,c)}catch{}return!0}finally{k.p=r,N.T=i,_g(t,e)}}function Gg(t,e,l){e=dn(l,e),e=_o(t.stateNode,e,2),t=Ma(t,e,2),t!==null&&(at(t,2),jn(t))}function jt(t,e,l){if(t.tag===3)Gg(t,t,l);else for(;e!==null;){if(e.tag===3){Gg(e,t,l);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ca===null||!Ca.has(i))){t=dn(l,t),l=Yd(2),i=Ma(e,l,2),i!==null&&(Ld(l,i,e,t),at(i,2),jn(i));break}}e=e.return}}function rc(t,e,l){var i=t.pingCache;if(i===null){i=t.pingCache=new Ky;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(l)||(tc=!0,r.add(l),t=Iy.bind(null,t,e,l),e.then(t,t))}function Iy(t,e,l){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,Qt===t&&(Tt&l)===l&&($t===4||$t===3&&(Tt&62914560)===Tt&&300>ye()-Ts?(Ht&2)===0&&si(t,0):ec|=l,ii===Tt&&(ii=0)),jn(t)}function Yg(t,e){e===0&&(e=Q()),t=al(t,e),t!==null&&(at(t,e),jn(t))}function Py(t){var e=t.memoizedState,l=0;e!==null&&(l=e.retryLane),Yg(t,l)}function $y(t,e){var l=0;switch(t.tag){case 31:case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(l=r.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(s(314))}i!==null&&i.delete(e),Yg(t,l)}function t1(t,e){return on(t,e)}var Bs=null,oi=null,oc=!1,Us=!1,cc=!1,Ua=0;function jn(t){t!==oi&&t.next===null&&(oi===null?Bs=oi=t:oi=oi.next=t),Us=!0,oc||(oc=!0,n1())}function lu(t,e){if(!cc&&Us){cc=!0;do for(var l=!1,i=Bs;i!==null;){if(t!==0){var r=i.pendingLanes;if(r===0)var c=0;else{var g=i.suspendedLanes,A=i.pingedLanes;c=(1<<31-Ce(42|t)+1)-1,c&=r&~(g&~A),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(l=!0,Qg(i,c))}else c=Tt,c=Pa(i,i===Qt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(c&3)===0||pa(i,c)||(l=!0,Qg(i,c));i=i.next}while(l);cc=!1}}function e1(){Lg()}function Lg(){Us=oc=!1;var t=0;Ua!==0&&h1()&&(t=Ua);for(var e=ye(),l=null,i=Bs;i!==null;){var r=i.next,c=Xg(i,e);c===0?(i.next=null,l===null?Bs=r:l.next=r,r===null&&(oi=l)):(l=i,(t!==0||(c&3)!==0)&&(Us=!0)),i=r}ce!==0&&ce!==5||lu(t),Ua!==0&&(Ua=0)}function Xg(t,e){for(var l=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,c=t.pendingLanes&-62914561;0<c;){var g=31-Ce(c),A=1<<g,q=r[g];q===-1?((A&l)===0||(A&i)!==0)&&(r[g]=T(A,e)):q<=e&&(t.expiredLanes|=A),c&=~A}if(e=Qt,l=Tt,l=Pa(t,t===e?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,l===0||t===e&&(_t===2||_t===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Fa(i),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||pa(t,l)){if(e=l&-l,e===t.callbackPriority)return e;switch(i!==null&&Fa(i),On(l)){case 2:case 8:l=Tn;break;case 32:l=Vn;break;case 268435456:l=ma;break;default:l=Vn}return i=Vg.bind(null,t),l=on(l,i),t.callbackPriority=e,t.callbackNode=l,e}return i!==null&&i!==null&&Fa(i),t.callbackPriority=2,t.callbackNode=null,2}function Vg(t,e){if(ce!==0&&ce!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(zs()&&t.callbackNode!==l)return null;var i=Tt;return i=Pa(t,t===Qt?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(Eg(t,i,e),Xg(t,ye()),t.callbackNode!=null&&t.callbackNode===l?Vg.bind(null,t):null)}function Qg(t,e){if(zs())return null;Eg(t,e,!0)}function n1(){g1(function(){(Ht&6)!==0?on(Je,e1):Lg()})}function fc(){if(Ua===0){var t=Fl;t===0&&(t=Qn,Qn<<=1,(Qn&261888)===0&&(Qn=256)),Ua=t}return Ua}function Zg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Xu(""+t)}function Kg(t,e){var l=e.ownerDocument.createElement("input");return l.name=e.name,l.value=e.value,t.id&&l.setAttribute("form",t.id),e.parentNode.insertBefore(l,e),t=new FormData(t),l.parentNode.removeChild(l),t}function a1(t,e,l,i,r){if(e==="submit"&&l&&l.stateNode===r){var c=Zg((r[He]||null).action),g=i.submitter;g&&(e=(e=g[He]||null)?Zg(e.formAction):g.getAttribute("formAction"),e!==null&&(c=e,g=null));var A=new Ku("action","action",null,i,r);t.push({event:A,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Ua!==0){var q=g?Kg(r,g):new FormData(r);Co(l,{pending:!0,data:q,method:r.method,action:c},null,q)}}else typeof c=="function"&&(A.preventDefault(),q=g?Kg(r,g):new FormData(r),Co(l,{pending:!0,data:q,method:r.method,action:c},c,q))},currentTarget:r}]})}}for(var hc=0;hc<Jr.length;hc++){var dc=Jr[hc],l1=dc.toLowerCase(),i1=dc[0].toUpperCase()+dc.slice(1);Rn(l1,"on"+i1)}Rn(Sh,"onAnimationEnd"),Rn(Eh,"onAnimationIteration"),Rn(Mh,"onAnimationStart"),Rn("dblclick","onDoubleClick"),Rn("focusin","onFocus"),Rn("focusout","onBlur"),Rn(wy,"onTransitionRun"),Rn(xy,"onTransitionStart"),Rn(Sy,"onTransitionCancel"),Rn(Th,"onTransitionEnd"),Ul("onMouseEnter",["mouseout","mouseover"]),Ul("onMouseLeave",["mouseout","mouseover"]),Ul("onPointerEnter",["pointerout","pointerover"]),Ul("onPointerLeave",["pointerout","pointerover"]),$a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$a("onBeforeInput",["compositionend","keypress","textInput","paste"]),$a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(iu));function Jg(t,e){e=(e&4)!==0;for(var l=0;l<t.length;l++){var i=t[l],r=i.event;i=i.listeners;t:{var c=void 0;if(e)for(var g=i.length-1;0<=g;g--){var A=i[g],q=A.instance,_=A.currentTarget;if(A=A.listener,q!==c&&r.isPropagationStopped())break t;c=A,r.currentTarget=_;try{c(r)}catch(J){ku(J)}r.currentTarget=null,c=q}else for(g=0;g<i.length;g++){if(A=i[g],q=A.instance,_=A.currentTarget,A=A.listener,q!==c&&r.isPropagationStopped())break t;c=A,r.currentTarget=_;try{c(r)}catch(J){ku(J)}r.currentTarget=null,c=q}}}}function Mt(t,e){var l=e[Mr];l===void 0&&(l=e[Mr]=new Set);var i=t+"__bubble";l.has(i)||(Fg(e,t,2,!1),l.add(i))}function gc(t,e,l){var i=0;e&&(i|=4),Fg(l,t,i,e)}var Ns="_reactListening"+Math.random().toString(36).slice(2);function mc(t){if(!t[Ns]){t[Ns]=!0,Lf.forEach(function(l){l!=="selectionchange"&&(u1.has(l)||gc(l,!1,t),gc(l,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ns]||(e[Ns]=!0,gc("selectionchange",!1,e))}}function Fg(t,e,l,i){switch(Sm(e)){case 2:var r=U1;break;case 8:r=N1;break;default:r=Rc}l=r.bind(null,e,l,t),r=void 0,!Ur||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,l,{capture:!0,passive:r}):t.addEventListener(e,l,!0):r!==void 0?t.addEventListener(e,l,{passive:r}):t.addEventListener(e,l,!1)}function pc(t,e,l,i,r){var c=i;if((e&1)===0&&(e&2)===0&&i!==null)t:for(;;){if(i===null)return;var g=i.tag;if(g===3||g===4){var A=i.stateNode.containerInfo;if(A===r)break;if(g===4)for(g=i.return;g!==null;){var q=g.tag;if((q===3||q===4)&&g.stateNode.containerInfo===r)return;g=g.return}for(;A!==null;){if(g=Cl(A),g===null)return;if(q=g.tag,q===5||q===6||q===26||q===27){i=c=g;continue t}A=A.parentNode}}i=i.return}$f(function(){var _=c,J=zr(l),I=[];t:{var Y=qh.get(t);if(Y!==void 0){var Z=Ku,st=t;switch(t){case"keypress":if(Qu(l)===0)break t;case"keydown":case"keyup":Z=$0;break;case"focusin":st="focus",Z=jr;break;case"focusout":st="blur",Z=jr;break;case"beforeblur":case"afterblur":Z=jr;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=nh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=L0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=ny;break;case Sh:case Eh:case Mh:Z=Q0;break;case Th:Z=ly;break;case"scroll":case"scrollend":Z=G0;break;case"wheel":Z=uy;break;case"copy":case"cut":case"paste":Z=K0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=lh;break;case"toggle":case"beforetoggle":Z=ry}var dt=(e&4)!==0,Vt=!dt&&(t==="scroll"||t==="scrollend"),B=dt?Y!==null?Y+"Capture":null:Y;dt=[];for(var z=_,H;z!==null;){var W=z;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||B===null||(W=qi(z,B),W!=null&&dt.push(uu(z,W,H))),Vt)break;z=z.return}0<dt.length&&(Y=new Z(Y,st,null,l,J),I.push({event:Y,listeners:dt}))}}if((e&7)===0){t:{if(Y=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",Y&&l!==Cr&&(st=l.relatedTarget||l.fromElement)&&(Cl(st)||st[Rl]))break t;if((Z||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,Z?(st=l.relatedTarget||l.toElement,Z=_,st=st?Cl(st):null,st!==null&&(Vt=f(st),dt=st.tag,st!==Vt||dt!==5&&dt!==27&&dt!==6)&&(st=null)):(Z=null,st=_),Z!==st)){if(dt=nh,W="onMouseLeave",B="onMouseEnter",z="mouse",(t==="pointerout"||t==="pointerover")&&(dt=lh,W="onPointerLeave",B="onPointerEnter",z="pointer"),Vt=Z==null?Y:Ti(Z),H=st==null?Y:Ti(st),Y=new dt(W,z+"leave",Z,l,J),Y.target=Vt,Y.relatedTarget=H,W=null,Cl(J)===_&&(dt=new dt(B,z+"enter",st,l,J),dt.target=H,dt.relatedTarget=Vt,W=dt),Vt=W,Z&&st)e:{for(dt=s1,B=Z,z=st,H=0,W=B;W;W=dt(W))H++;W=0;for(var ht=z;ht;ht=dt(ht))W++;for(;0<H-W;)B=dt(B),H--;for(;0<W-H;)z=dt(z),W--;for(;H--;){if(B===z||z!==null&&B===z.alternate){dt=B;break e}B=dt(B),z=dt(z)}dt=null}else dt=null;Z!==null&&kg(I,Y,Z,dt,!1),st!==null&&Vt!==null&&kg(I,Vt,st,dt,!0)}}t:{if(Y=_?Ti(_):window,Z=Y.nodeName&&Y.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Y.type==="file")var Bt=hh;else if(ch(Y))if(dh)Bt=vy;else{Bt=py;var ot=my}else Z=Y.nodeName,!Z||Z.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?_&&Rr(_.elementType)&&(Bt=hh):Bt=yy;if(Bt&&(Bt=Bt(t,_))){fh(I,Bt,l,J);break t}ot&&ot(t,Y,_),t==="focusout"&&_&&Y.type==="number"&&_.memoizedProps.value!=null&&Or(Y,"number",Y.value)}switch(ot=_?Ti(_):window,t){case"focusin":(ch(ot)||ot.contentEditable==="true")&&(Yl=ot,Qr=_,Ni=null);break;case"focusout":Ni=Qr=Yl=null;break;case"mousedown":Zr=!0;break;case"contextmenu":case"mouseup":case"dragend":Zr=!1,wh(I,l,J);break;case"selectionchange":if(by)break;case"keydown":case"keyup":wh(I,l,J)}var St;if(Yr)t:{switch(t){case"compositionstart":var qt="onCompositionStart";break t;case"compositionend":qt="onCompositionEnd";break t;case"compositionupdate":qt="onCompositionUpdate";break t}qt=void 0}else Gl?rh(t,l)&&(qt="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(qt="onCompositionStart");qt&&(ih&&l.locale!=="ko"&&(Gl||qt!=="onCompositionStart"?qt==="onCompositionEnd"&&Gl&&(St=th()):(va=J,Nr="value"in va?va.value:va.textContent,Gl=!0)),ot=Hs(_,qt),0<ot.length&&(qt=new ah(qt,t,null,l,J),I.push({event:qt,listeners:ot}),St?qt.data=St:(St=oh(l),St!==null&&(qt.data=St)))),(St=cy?fy(t,l):hy(t,l))&&(qt=Hs(_,"onBeforeInput"),0<qt.length&&(ot=new ah("onBeforeInput","beforeinput",null,l,J),I.push({event:ot,listeners:qt}),ot.data=St)),a1(I,t,_,l,J)}Jg(I,e)})}function uu(t,e,l){return{instance:t,listener:e,currentTarget:l}}function Hs(t,e){for(var l=e+"Capture",i=[];t!==null;){var r=t,c=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||c===null||(r=qi(t,l),r!=null&&i.unshift(uu(t,r,c)),r=qi(t,e),r!=null&&i.push(uu(t,r,c))),t.tag===3)return i;t=t.return}return[]}function s1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function kg(t,e,l,i,r){for(var c=e._reactName,g=[];l!==null&&l!==i;){var A=l,q=A.alternate,_=A.stateNode;if(A=A.tag,q!==null&&q===i)break;A!==5&&A!==26&&A!==27||_===null||(q=_,r?(_=qi(l,c),_!=null&&g.unshift(uu(l,_,q))):r||(_=qi(l,c),_!=null&&g.push(uu(l,_,q)))),l=l.return}g.length!==0&&t.push({event:e,listeners:g})}var r1=/\r\n?/g,o1=/\u0000|\uFFFD/g;function Wg(t){return(typeof t=="string"?t:""+t).replace(r1,`
`).replace(o1,"")}function Ig(t,e){return e=Wg(e),Wg(t)===e}function Xt(t,e,l,i,r,c){switch(l){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||Hl(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&Hl(t,""+i);break;case"className":Yu(t,"class",i);break;case"tabIndex":Yu(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Yu(t,l,i);break;case"style":If(t,i,c);break;case"data":if(e!=="object"){Yu(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||l!=="href")){t.removeAttribute(l);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(l);break}i=Xu(""+i),t.setAttribute(l,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(l==="formAction"?(e!=="input"&&Xt(t,e,"name",r.name,r,null),Xt(t,e,"formEncType",r.formEncType,r,null),Xt(t,e,"formMethod",r.formMethod,r,null),Xt(t,e,"formTarget",r.formTarget,r,null)):(Xt(t,e,"encType",r.encType,r,null),Xt(t,e,"method",r.method,r,null),Xt(t,e,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(l);break}i=Xu(""+i),t.setAttribute(l,i);break;case"onClick":i!=null&&(t.onclick=Fn);break;case"onScroll":i!=null&&Mt("scroll",t);break;case"onScrollEnd":i!=null&&Mt("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(s(61));if(l=i.__html,l!=null){if(r.children!=null)throw Error(s(60));t.innerHTML=l}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}l=Xu(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(l,""+i):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":i===!0?t.setAttribute(l,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(l,i):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(l,i):t.removeAttribute(l);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(l):t.setAttribute(l,i);break;case"popover":Mt("beforetoggle",t),Mt("toggle",t),Gu(t,"popover",i);break;case"xlinkActuate":Jn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Jn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Jn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Jn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Jn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Jn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Jn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Jn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Jn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Gu(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=_0.get(l)||l,Gu(t,l,i))}}function yc(t,e,l,i,r,c){switch(l){case"style":If(t,i,c);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(s(61));if(l=i.__html,l!=null){if(r.children!=null)throw Error(s(60));t.innerHTML=l}}break;case"children":typeof i=="string"?Hl(t,i):(typeof i=="number"||typeof i=="bigint")&&Hl(t,""+i);break;case"onScroll":i!=null&&Mt("scroll",t);break;case"onScrollEnd":i!=null&&Mt("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xf.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(r=l.endsWith("Capture"),e=l.slice(2,r?l.length-7:void 0),c=t[He]||null,c=c!=null?c[l]:null,typeof c=="function"&&t.removeEventListener(e,c,r),typeof i=="function")){typeof c!="function"&&c!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(e,i,r);break t}l in t?t[l]=i:i===!0?t.setAttribute(l,""):Gu(t,l,i)}}}function xe(t,e,l){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",t),Mt("load",t);var i=!1,r=!1,c;for(c in l)if(l.hasOwnProperty(c)){var g=l[c];if(g!=null)switch(c){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,e));default:Xt(t,e,c,g,l,null)}}r&&Xt(t,e,"srcSet",l.srcSet,l,null),i&&Xt(t,e,"src",l.src,l,null);return;case"input":Mt("invalid",t);var A=c=g=r=null,q=null,_=null;for(i in l)if(l.hasOwnProperty(i)){var J=l[i];if(J!=null)switch(i){case"name":r=J;break;case"type":g=J;break;case"checked":q=J;break;case"defaultChecked":_=J;break;case"value":c=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,e));break;default:Xt(t,e,i,J,l,null)}}Jf(t,c,A,q,_,g,r,!1);return;case"select":Mt("invalid",t),i=g=c=null;for(r in l)if(l.hasOwnProperty(r)&&(A=l[r],A!=null))switch(r){case"value":c=A;break;case"defaultValue":g=A;break;case"multiple":i=A;default:Xt(t,e,r,A,l,null)}e=c,l=g,t.multiple=!!i,e!=null?Nl(t,!!i,e,!1):l!=null&&Nl(t,!!i,l,!0);return;case"textarea":Mt("invalid",t),c=r=i=null;for(g in l)if(l.hasOwnProperty(g)&&(A=l[g],A!=null))switch(g){case"value":i=A;break;case"defaultValue":r=A;break;case"children":c=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:Xt(t,e,g,A,l,null)}kf(t,i,r,c);return;case"option":for(q in l)l.hasOwnProperty(q)&&(i=l[q],i!=null)&&(q==="selected"?t.selected=i&&typeof i!="function"&&typeof i!="symbol":Xt(t,e,q,i,l,null));return;case"dialog":Mt("beforetoggle",t),Mt("toggle",t),Mt("cancel",t),Mt("close",t);break;case"iframe":case"object":Mt("load",t);break;case"video":case"audio":for(i=0;i<iu.length;i++)Mt(iu[i],t);break;case"image":Mt("error",t),Mt("load",t);break;case"details":Mt("toggle",t);break;case"embed":case"source":case"link":Mt("error",t),Mt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_ in l)if(l.hasOwnProperty(_)&&(i=l[_],i!=null))switch(_){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,e));default:Xt(t,e,_,i,l,null)}return;default:if(Rr(e)){for(J in l)l.hasOwnProperty(J)&&(i=l[J],i!==void 0&&yc(t,e,J,i,l,void 0));return}}for(A in l)l.hasOwnProperty(A)&&(i=l[A],i!=null&&Xt(t,e,A,i,l,null))}function c1(t,e,l,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,c=null,g=null,A=null,q=null,_=null,J=null;for(Z in l){var I=l[Z];if(l.hasOwnProperty(Z)&&I!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":q=I;default:i.hasOwnProperty(Z)||Xt(t,e,Z,null,i,I)}}for(var Y in i){var Z=i[Y];if(I=l[Y],i.hasOwnProperty(Y)&&(Z!=null||I!=null))switch(Y){case"type":c=Z;break;case"name":r=Z;break;case"checked":_=Z;break;case"defaultChecked":J=Z;break;case"value":g=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,e));break;default:Z!==I&&Xt(t,e,Y,Z,i,I)}}Dr(t,g,A,q,_,J,c,r);return;case"select":Z=g=A=Y=null;for(c in l)if(q=l[c],l.hasOwnProperty(c)&&q!=null)switch(c){case"value":break;case"multiple":Z=q;default:i.hasOwnProperty(c)||Xt(t,e,c,null,i,q)}for(r in i)if(c=i[r],q=l[r],i.hasOwnProperty(r)&&(c!=null||q!=null))switch(r){case"value":Y=c;break;case"defaultValue":A=c;break;case"multiple":g=c;default:c!==q&&Xt(t,e,r,c,i,q)}e=A,l=g,i=Z,Y!=null?Nl(t,!!l,Y,!1):!!i!=!!l&&(e!=null?Nl(t,!!l,e,!0):Nl(t,!!l,l?[]:"",!1));return;case"textarea":Z=Y=null;for(A in l)if(r=l[A],l.hasOwnProperty(A)&&r!=null&&!i.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Xt(t,e,A,null,i,r)}for(g in i)if(r=i[g],c=l[g],i.hasOwnProperty(g)&&(r!=null||c!=null))switch(g){case"value":Y=r;break;case"defaultValue":Z=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(s(91));break;default:r!==c&&Xt(t,e,g,r,i,c)}Ff(t,Y,Z);return;case"option":for(var st in l)Y=l[st],l.hasOwnProperty(st)&&Y!=null&&!i.hasOwnProperty(st)&&(st==="selected"?t.selected=!1:Xt(t,e,st,null,i,Y));for(q in i)Y=i[q],Z=l[q],i.hasOwnProperty(q)&&Y!==Z&&(Y!=null||Z!=null)&&(q==="selected"?t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":Xt(t,e,q,Y,i,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in l)Y=l[dt],l.hasOwnProperty(dt)&&Y!=null&&!i.hasOwnProperty(dt)&&Xt(t,e,dt,null,i,Y);for(_ in i)if(Y=i[_],Z=l[_],i.hasOwnProperty(_)&&Y!==Z&&(Y!=null||Z!=null))switch(_){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,e));break;default:Xt(t,e,_,Y,i,Z)}return;default:if(Rr(e)){for(var Vt in l)Y=l[Vt],l.hasOwnProperty(Vt)&&Y!==void 0&&!i.hasOwnProperty(Vt)&&yc(t,e,Vt,void 0,i,Y);for(J in i)Y=i[J],Z=l[J],!i.hasOwnProperty(J)||Y===Z||Y===void 0&&Z===void 0||yc(t,e,J,Y,i,Z);return}}for(var B in l)Y=l[B],l.hasOwnProperty(B)&&Y!=null&&!i.hasOwnProperty(B)&&Xt(t,e,B,null,i,Y);for(I in i)Y=i[I],Z=l[I],!i.hasOwnProperty(I)||Y===Z||Y==null&&Z==null||Xt(t,e,I,Y,i,Z)}function Pg(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function f1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,l=performance.getEntriesByType("resource"),i=0;i<l.length;i++){var r=l[i],c=r.transferSize,g=r.initiatorType,A=r.duration;if(c&&A&&Pg(g)){for(g=0,A=r.responseEnd,i+=1;i<l.length;i++){var q=l[i],_=q.startTime;if(_>A)break;var J=q.transferSize,I=q.initiatorType;J&&Pg(I)&&(q=q.responseEnd,g+=J*(q<A?1:(A-_)/(q-_)))}if(--i,e+=8*(c+g)/(r.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var vc=null,Ac=null;function _s(t){return t.nodeType===9?t:t.ownerDocument}function $g(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tm(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function bc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wc=null;function h1(){var t=window.event;return t&&t.type==="popstate"?t===wc?!1:(wc=t,!0):(wc=null,!1)}var em=typeof setTimeout=="function"?setTimeout:void 0,d1=typeof clearTimeout=="function"?clearTimeout:void 0,nm=typeof Promise=="function"?Promise:void 0,g1=typeof queueMicrotask=="function"?queueMicrotask:typeof nm<"u"?function(t){return nm.resolve(null).then(t).catch(m1)}:em;function m1(t){setTimeout(function(){throw t})}function Na(t){return t==="head"}function am(t,e){var l=e,i=0;do{var r=l.nextSibling;if(t.removeChild(l),r&&r.nodeType===8)if(l=r.data,l==="/$"||l==="/&"){if(i===0){t.removeChild(r),di(e);return}i--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")i++;else if(l==="html")su(t.ownerDocument.documentElement);else if(l==="head"){l=t.ownerDocument.head,su(l);for(var c=l.firstChild;c;){var g=c.nextSibling,A=c.nodeName;c[Mi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&c.rel.toLowerCase()==="stylesheet"||l.removeChild(c),c=g}}else l==="body"&&su(t.ownerDocument.body);l=r}while(l);di(e)}function lm(t,e){var l=t;t=0;do{var i=l.nextSibling;if(l.nodeType===1?e?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(e?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),i&&i.nodeType===8)if(l=i.data,l==="/$"){if(t===0)break;t--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||t++;l=i}while(l)}function xc(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var l=e;switch(e=e.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":xc(l),Tr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function p1(t,e,l,i){for(;t.nodeType===1;){var r=l;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[Mi])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(c=t.getAttribute("rel"),c==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(c!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(c=t.getAttribute("src"),(c!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&c&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var c=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===c)return t}else return t;if(t=vn(t.nextSibling),t===null)break}return null}function y1(t,e,l){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=vn(t.nextSibling),t===null))return null;return t}function im(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=vn(t.nextSibling),t===null))return null;return t}function Sc(t){return t.data==="$?"||t.data==="$~"}function Ec(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function v1(t,e){var l=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||l.readyState!=="loading")e();else{var i=function(){e(),l.removeEventListener("DOMContentLoaded",i)};l.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function vn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Mc=null;function um(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"||l==="/&"){if(e===0)return vn(t.nextSibling);e--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||e++}t=t.nextSibling}return null}function sm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(e===0)return t;e--}else l!=="/$"&&l!=="/&"||e++}t=t.previousSibling}return null}function rm(t,e,l){switch(e=_s(l),t){case"html":if(t=e.documentElement,!t)throw Error(s(452));return t;case"head":if(t=e.head,!t)throw Error(s(453));return t;case"body":if(t=e.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function su(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Tr(t)}var An=new Map,om=new Set;function js(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ca=k.d;k.d={f:A1,r:b1,D:w1,C:x1,L:S1,m:E1,X:T1,S:M1,M:q1};function A1(){var t=ca.f(),e=Os();return t||e}function b1(t){var e=zl(t);e!==null&&e.tag===5&&e.type==="form"?Td(e):ca.r(t)}var ci=typeof document>"u"?null:document;function cm(t,e,l){var i=ci;if(i&&typeof e=="string"&&e){var r=fn(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof l=="string"&&(r+='[crossorigin="'+l+'"]'),om.has(r)||(om.add(r),t={rel:t,crossOrigin:l,href:e},i.querySelector(r)===null&&(e=i.createElement("link"),xe(e,"link",t),me(e),i.head.appendChild(e)))}}function w1(t){ca.D(t),cm("dns-prefetch",t,null)}function x1(t,e){ca.C(t,e),cm("preconnect",t,e)}function S1(t,e,l){ca.L(t,e,l);var i=ci;if(i&&t&&e){var r='link[rel="preload"][as="'+fn(e)+'"]';e==="image"&&l&&l.imageSrcSet?(r+='[imagesrcset="'+fn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(r+='[imagesizes="'+fn(l.imageSizes)+'"]')):r+='[href="'+fn(t)+'"]';var c=r;switch(e){case"style":c=fi(t);break;case"script":c=hi(t)}An.has(c)||(t=S({rel:"preload",href:e==="image"&&l&&l.imageSrcSet?void 0:t,as:e},l),An.set(c,t),i.querySelector(r)!==null||e==="style"&&i.querySelector(ru(c))||e==="script"&&i.querySelector(ou(c))||(e=i.createElement("link"),xe(e,"link",t),me(e),i.head.appendChild(e)))}}function E1(t,e){ca.m(t,e);var l=ci;if(l&&t){var i=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+fn(i)+'"][href="'+fn(t)+'"]',c=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=hi(t)}if(!An.has(c)&&(t=S({rel:"modulepreload",href:t},e),An.set(c,t),l.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ou(c)))return}i=l.createElement("link"),xe(i,"link",t),me(i),l.head.appendChild(i)}}}function M1(t,e,l){ca.S(t,e,l);var i=ci;if(i&&t){var r=Bl(i).hoistableStyles,c=fi(t);e=e||"default";var g=r.get(c);if(!g){var A={loading:0,preload:null};if(g=i.querySelector(ru(c)))A.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":e},l),(l=An.get(c))&&Tc(t,l);var q=g=i.createElement("link");me(q),xe(q,"link",t),q._p=new Promise(function(_,J){q.onload=_,q.onerror=J}),q.addEventListener("load",function(){A.loading|=1}),q.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Gs(g,e,i)}g={type:"stylesheet",instance:g,count:1,state:A},r.set(c,g)}}}function T1(t,e){ca.X(t,e);var l=ci;if(l&&t){var i=Bl(l).hoistableScripts,r=hi(t),c=i.get(r);c||(c=l.querySelector(ou(r)),c||(t=S({src:t,async:!0},e),(e=An.get(r))&&qc(t,e),c=l.createElement("script"),me(c),xe(c,"link",t),l.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},i.set(r,c))}}function q1(t,e){ca.M(t,e);var l=ci;if(l&&t){var i=Bl(l).hoistableScripts,r=hi(t),c=i.get(r);c||(c=l.querySelector(ou(r)),c||(t=S({src:t,async:!0,type:"module"},e),(e=An.get(r))&&qc(t,e),c=l.createElement("script"),me(c),xe(c,"link",t),l.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},i.set(r,c))}}function fm(t,e,l,i){var r=(r=bt.current)?js(r):null;if(!r)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(e=fi(l.href),l=Bl(r).hoistableStyles,i=l.get(e),i||(i={type:"style",instance:null,count:0,state:null},l.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=fi(l.href);var c=Bl(r).hoistableStyles,g=c.get(t);if(g||(r=r.ownerDocument||r,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(t,g),(c=r.querySelector(ru(t)))&&!c._p&&(g.instance=c,g.state.loading=5),An.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},An.set(t,l),c||D1(r,t,l,g.state))),e&&i===null)throw Error(s(528,""));return g}if(e&&i!==null)throw Error(s(529,""));return null;case"script":return e=l.async,l=l.src,typeof l=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=hi(l),l=Bl(r).hoistableScripts,i=l.get(e),i||(i={type:"script",instance:null,count:0,state:null},l.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function fi(t){return'href="'+fn(t)+'"'}function ru(t){return'link[rel="stylesheet"]['+t+"]"}function hm(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function D1(t,e,l,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),xe(e,"link",l),me(e),t.head.appendChild(e))}function hi(t){return'[src="'+fn(t)+'"]'}function ou(t){return"script[async]"+t}function dm(t,e,l){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+fn(l.href)+'"]');if(i)return e.instance=i,me(i),i;var r=S({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),me(i),xe(i,"style",r),Gs(i,l.precedence,t),e.instance=i;case"stylesheet":r=fi(l.href);var c=t.querySelector(ru(r));if(c)return e.state.loading|=4,e.instance=c,me(c),c;i=hm(l),(r=An.get(r))&&Tc(i,r),c=(t.ownerDocument||t).createElement("link"),me(c);var g=c;return g._p=new Promise(function(A,q){g.onload=A,g.onerror=q}),xe(c,"link",i),e.state.loading|=4,Gs(c,l.precedence,t),e.instance=c;case"script":return c=hi(l.src),(r=t.querySelector(ou(c)))?(e.instance=r,me(r),r):(i=l,(r=An.get(c))&&(i=S({},l),qc(i,r)),t=t.ownerDocument||t,r=t.createElement("script"),me(r),xe(r,"link",i),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(s(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(i=e.instance,e.state.loading|=4,Gs(i,l.precedence,t));return e.instance}function Gs(t,e,l){for(var i=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,c=r,g=0;g<i.length;g++){var A=i[g];if(A.dataset.precedence===e)c=A;else if(c!==r)break}c?c.parentNode.insertBefore(t,c.nextSibling):(e=l.nodeType===9?l.head:l,e.insertBefore(t,e.firstChild))}function Tc(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function qc(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Ys=null;function gm(t,e,l){if(Ys===null){var i=new Map,r=Ys=new Map;r.set(l,i)}else r=Ys,i=r.get(l),i||(i=new Map,r.set(l,i));if(i.has(t))return i;for(i.set(t,null),l=l.getElementsByTagName(t),r=0;r<l.length;r++){var c=l[r];if(!(c[Mi]||c[ve]||t==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var g=c.getAttribute(e)||"";g=t+g;var A=i.get(g);A?A.push(c):i.set(g,[c])}}return i}function mm(t,e,l){t=t.ownerDocument||t,t.head.insertBefore(l,e==="title"?t.querySelector("head > title"):null)}function O1(t,e,l){if(l===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;return e.rel==="stylesheet"?(t=e.disabled,typeof e.precedence=="string"&&t==null):!0;case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function pm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function R1(t,e,l,i){if(l.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var r=fi(i.href),c=e.querySelector(ru(r));if(c){e=c._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Ls.bind(t),e.then(t,t)),l.state.loading|=4,l.instance=c,me(c);return}c=e.ownerDocument||e,i=hm(i),(r=An.get(r))&&Tc(i,r),c=c.createElement("link"),me(c);var g=c;g._p=new Promise(function(A,q){g.onload=A,g.onerror=q}),xe(c,"link",i),l.instance=c}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(l,e),(e=l.state.preload)&&(l.state.loading&3)===0&&(t.count++,l=Ls.bind(t),e.addEventListener("load",l),e.addEventListener("error",l))}}var Dc=0;function C1(t,e){return t.stylesheets&&t.count===0&&Vs(t,t.stylesheets),0<t.count||0<t.imgCount?function(l){var i=setTimeout(function(){if(t.stylesheets&&Vs(t,t.stylesheets),t.unsuspend){var c=t.unsuspend;t.unsuspend=null,c()}},6e4+e);0<t.imgBytes&&Dc===0&&(Dc=62500*f1());var r=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Vs(t,t.stylesheets),t.unsuspend)){var c=t.unsuspend;t.unsuspend=null,c()}},(t.imgBytes>Dc?50:800)+e);return t.unsuspend=l,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}function Ls(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vs(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Xs=null;function Vs(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Xs=new Map,e.forEach(z1,t),Xs=null,Ls.call(t))}function z1(t,e){if(!(e.state.loading&4)){var l=Xs.get(t);if(l)var i=l.get(null);else{l=new Map,Xs.set(t,l);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<r.length;c++){var g=r[c];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(l.set(g.dataset.precedence,g),i=g)}i&&l.set(null,i)}r=e.instance,g=r.getAttribute("data-precedence"),c=l.get(g)||i,c===i&&l.set(null,r),l.set(g,r),this.count++,i=Ls.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),c?c.parentNode.insertBefore(r,c.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var cu={$$typeof:V,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function B1(t,e,l,i,r,c,g,A,q){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$(0),this.hiddenUpdates=$(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=c,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function ym(t,e,l,i,r,c,g,A,q,_,J,I){return t=new B1(t,e,l,g,q,_,J,I,A),e=1,c===!0&&(e|=24),c=We(3,null,null,e),t.current=c,c.stateNode=t,e=uo(),e.refCount++,t.pooledCache=e,e.refCount++,c.memoizedState={element:i,isDehydrated:l,cache:e},co(c),t}function vm(t){return t?(t=Vl,t):Vl}function Am(t,e,l,i,r,c){r=vm(r),i.context===null?i.context=r:i.pendingContext=r,i=Ea(e),i.payload={element:l},c=c===void 0?null:c,c!==null&&(i.callback=c),l=Ma(t,i,e),l!==null&&(Xe(l,t,e),Xi(l,t,e))}function bm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<e?l:e}}function Oc(t,e){bm(t,e),(t=t.alternate)&&bm(t,e)}function wm(t){if(t.tag===13||t.tag===31){var e=al(t,67108864);e!==null&&Xe(e,t,67108864),Oc(t,67108864)}}function xm(t){if(t.tag===13||t.tag===31){var e=en();e=Fe(e);var l=al(t,e);l!==null&&Xe(l,t,e),Oc(t,e)}}var Qs=!0;function U1(t,e,l,i){var r=N.T;N.T=null;var c=k.p;try{k.p=2,Rc(t,e,l,i)}finally{k.p=c,N.T=r}}function N1(t,e,l,i){var r=N.T;N.T=null;var c=k.p;try{k.p=8,Rc(t,e,l,i)}finally{k.p=c,N.T=r}}function Rc(t,e,l,i){if(Qs){var r=Cc(i);if(r===null)pc(t,e,i,Zs,l),Em(t,i);else if(_1(r,t,e,l,i))i.stopPropagation();else if(Em(t,i),e&4&&-1<H1.indexOf(t)){for(;r!==null;){var c=zl(r);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var g=Zn(c.pendingLanes);if(g!==0){var A=c;for(A.pendingLanes|=2,A.entangledLanes|=2;g;){var q=1<<31-Ce(g);A.entanglements[1]|=q,g&=~q}jn(c),(Ht&6)===0&&(qs=ye()+500,lu(0))}}break;case 31:case 13:A=al(c,2),A!==null&&Xe(A,c,2),Os(),Oc(c,2)}if(c=Cc(i),c===null&&pc(t,e,i,Zs,l),c===r)break;r=c}r!==null&&i.stopPropagation()}else pc(t,e,i,null,l)}}function Cc(t){return t=zr(t),zc(t)}var Zs=null;function zc(t){if(Zs=null,t=Cl(t),t!==null){var e=f(t);if(e===null)t=null;else{var l=e.tag;if(l===13){if(t=d(e),t!==null)return t;t=null}else if(l===31){if(t=y(e),t!==null)return t;t=null}else if(l===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Zs=t,null}function Sm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ql()){case Je:return 2;case Tn:return 8;case Vn:case Oe:return 32;case ma:return 268435456;default:return 32}default:return 32}}var Bc=!1,Ha=null,_a=null,ja=null,fu=new Map,hu=new Map,Ga=[],H1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Em(t,e){switch(t){case"focusin":case"focusout":Ha=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":ja=null;break;case"pointerover":case"pointerout":fu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hu.delete(e.pointerId)}}function du(t,e,l,i,r,c){return t===null||t.nativeEvent!==c?(t={blockedOn:e,domEventName:l,eventSystemFlags:i,nativeEvent:c,targetContainers:[r]},e!==null&&(e=zl(e),e!==null&&wm(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function _1(t,e,l,i,r){switch(e){case"focusin":return Ha=du(Ha,t,e,l,i,r),!0;case"dragenter":return _a=du(_a,t,e,l,i,r),!0;case"mouseover":return ja=du(ja,t,e,l,i,r),!0;case"pointerover":var c=r.pointerId;return fu.set(c,du(fu.get(c)||null,t,e,l,i,r)),!0;case"gotpointercapture":return c=r.pointerId,hu.set(c,du(hu.get(c)||null,t,e,l,i,r)),!0}return!1}function Mm(t){var e=Cl(t.target);if(e!==null){var l=f(e);if(l!==null){if(e=l.tag,e===13){if(e=d(l),e!==null){t.blockedOn=e,Gf(t.priority,function(){xm(l)});return}}else if(e===31){if(e=y(l),e!==null){t.blockedOn=e,Gf(t.priority,function(){xm(l)});return}}else if(e===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ks(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var l=Cc(t.nativeEvent);if(l===null){l=t.nativeEvent;var i=new l.constructor(l.type,l);Cr=i,l.target.dispatchEvent(i),Cr=null}else return e=zl(l),e!==null&&wm(e),t.blockedOn=l,!1;e.shift()}return!0}function Tm(t,e,l){Ks(t)&&l.delete(e)}function j1(){Bc=!1,Ha!==null&&Ks(Ha)&&(Ha=null),_a!==null&&Ks(_a)&&(_a=null),ja!==null&&Ks(ja)&&(ja=null),fu.forEach(Tm),hu.forEach(Tm)}function Js(t,e){t.blockedOn===e&&(t.blockedOn=null,Bc||(Bc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,j1)))}var Fs=null;function qm(t){Fs!==t&&(Fs=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Fs===t&&(Fs=null);for(var e=0;e<t.length;e+=3){var l=t[e],i=t[e+1],r=t[e+2];if(typeof i!="function"){if(zc(i||l)===null)continue;break}var c=zl(l);c!==null&&(t.splice(e,3),e-=3,Co(c,{pending:!0,data:r,method:l.method,action:i},i,r))}}))}function di(t){function e(q){return Js(q,t)}Ha!==null&&Js(Ha,t),_a!==null&&Js(_a,t),ja!==null&&Js(ja,t),fu.forEach(e),hu.forEach(e);for(var l=0;l<Ga.length;l++){var i=Ga[l];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Ga.length&&(l=Ga[0],l.blockedOn===null);)Mm(l),l.blockedOn===null&&Ga.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(i=0;i<l.length;i+=3){var r=l[i],c=l[i+1],g=r[He]||null;if(typeof c=="function")g||qm(l);else if(g){var A=null;if(c&&c.hasAttribute("formAction")){if(r=c,g=c[He]||null)A=g.formAction;else if(zc(r)!==null)continue}else A=g.action;typeof A=="function"?l[i+1]=A:(l.splice(i,3),i-=3),qm(l)}}}function Dm(){function t(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(g){return r=g})},focusReset:"manual",scroll:"manual"})}function e(){r!==null&&(r(),r=null),i||setTimeout(l,20)}function l(){if(!i&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,r=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(l,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),r!==null&&(r(),r=null)}}}function Uc(t){this._internalRoot=t}ks.prototype.render=Uc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(s(409));var l=e.current,i=en();Am(l,i,t,e,null,null)},ks.prototype.unmount=Uc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Am(t.current,2,null,t,null,null),Os(),e[Rl]=null}};function ks(t){this._internalRoot=t}ks.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ol();t={blockedOn:null,target:t,priority:e};for(var l=0;l<Ga.length&&e!==0&&e<Ga[l].priority;l++);Ga.splice(l,0,t),l===0&&Mm(t)}};var Om=a.version;if(Om!=="19.2.4")throw Error(s(527,Om,"19.2.4"));k.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=h(e),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var G1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ws=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ws.isDisabled&&Ws.supportsFiber)try{ka=Ws.inject(G1),Re=Ws}catch{}}return mu.createRoot=function(t,e){if(!o(t))throw Error(s(299));var l=!1,i="",r=Hd,c=_d,g=jd;return e!=null&&(e.unstable_strictMode===!0&&(l=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(c=e.onCaughtError),e.onRecoverableError!==void 0&&(g=e.onRecoverableError)),e=ym(t,1,!1,null,null,l,i,null,r,c,g,Dm),t[Rl]=e.current,mc(t),new Uc(e)},mu.hydrateRoot=function(t,e,l){if(!o(t))throw Error(s(299));var i=!1,r="",c=Hd,g=_d,A=jd,q=null;return l!=null&&(l.unstable_strictMode===!0&&(i=!0),l.identifierPrefix!==void 0&&(r=l.identifierPrefix),l.onUncaughtError!==void 0&&(c=l.onUncaughtError),l.onCaughtError!==void 0&&(g=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.formState!==void 0&&(q=l.formState)),e=ym(t,1,!0,e,l??null,i,r,q,c,g,A,Dm),e.context=vm(null),l=e.current,i=en(),i=Fe(i),r=Ea(i),r.callback=null,Ma(l,r,i),l=i,e.current.lanes=l,at(e,l),jn(e),t[Rl]=e.current,mc(t),new ks(e)},mu.version="19.2.4",mu}var Gm;function I1(){if(Gm)return _c.exports;Gm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),_c.exports=W1(),_c.exports}var P1=I1(),$1=(()=>{for(var n=new Uint8Array(128),a=0;a<64;a++)n[a<26?a+65:a<52?a+71:a<62?a-4:a*4-205]=a;return u=>{for(var s=u.length,o=new Uint8Array((s-(u[s-1]=="=")-(u[s-2]=="="))*3/4|0),f=0,d=0;f<s;){var y=n[u.charCodeAt(f++)],m=n[u.charCodeAt(f++)],h=n[u.charCodeAt(f++)],b=n[u.charCodeAt(f++)];o[d++]=y<<2|m>>4,o[d++]=m<<4|h>>2,o[d++]=h<<6|b}return o}})(),tv={version:"3001.0.19"};function Ln(n,a,u){return a>u?Ln(n,u,a):Math.min(Math.max(n,a),u)}var Dt=class fe{r=255;g=255;b=255;constructor(a,u,s){this.r=Ln(a,0,255),this.g=Ln(u,0,255),this.b=Ln(s,0,255)}static fromArray(a){return new fe(a[0],a[1],a[2])}static fromHex(a){if(typeof a=="number")return new fe(a>>16&255,a>>8&255,a>>0&255);if(typeof a=="string"){let u=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);if(!u)throw new Error("Invalid hex color format");return new fe(parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16))}else throw new Error("Invalid hex color format")}static fromHSL(a,u,s){if(u==0)return new fe(255*s,255*s,255*s);let o=(b,S,p)=>(p<0&&(p+=1),p>1&&(p-=1),p<1/6?b+(S-b)*6*p:p<1/2?S:p<2/3?b+(S-b)*(2/3-p)*6:b),f=s<.5?s*(1+u):s+u-s*u,d=2*s-f,y=o(d,f,a+1/3),m=o(d,f,a),h=o(d,f,a-1/3);return new fe(Math.round(y*255),Math.round(m*255),Math.round(h*255))}static RED=new fe(255,0,0);static GREEN=new fe(0,255,0);static BLUE=new fe(0,0,255);static YELLOW=new fe(255,255,0);static MAGENTA=new fe(255,0,255);static CYAN=new fe(0,255,255);static WHITE=new fe(255,255,255);static BLACK=new fe(0,0,0);clone(){return new fe(this.r,this.g,this.b)}lighten(a){return new fe(this.r+a,this.g+a,this.b+a)}darken(a){return this.lighten(-a)}invert(){return new fe(255-this.r,255-this.g,255-this.b)}mult(a){return new fe(this.r*a.r/255,this.g*a.g/255,this.b*a.b/255)}lerp(a,u){return new fe(an(this.r,a.r,u),an(this.g,a.g,u),an(this.b,a.b,u))}toHSL(){let a=this.r/255,u=this.g/255,s=this.b/255,o=Math.max(a,u,s),f=Math.min(a,u,s),d=(o+f)/2,y=d,m=d;if(o==f)d=y=0;else{let h=o-f;switch(y=m>.5?h/(2-o-f):h/(o+f),o){case a:d=(u-s)/h+(u<s?6:0);break;case u:d=(s-a)/h+2;break;case s:d=(a-u)/h+4;break}d/=6}return[d,y,m]}eq(a){return this.r===a.r&&this.g===a.g&&this.b===a.b}toString(){return`rgb(${this.r}, ${this.g}, ${this.b})`}toHex(){return"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1)}toArray(){return[this.r,this.g,this.b]}};function Gt(...n){if(n.length===0)return new Dt(255,255,255);if(n.length===1){if(n[0]instanceof Dt)return n[0].clone();if(typeof n[0]=="string")return Dt.fromHex(n[0]);if(Array.isArray(n[0])&&n[0].length===3)return Dt.fromArray(n[0])}else if(n.length===2){if(n[0]instanceof Dt)return n[0].clone()}else if(n.length===3||n.length===4)return new Dt(n[0],n[1],n[2]);throw new Error("Invalid color arguments")}var ev=(n,a,u)=>Dt.fromHSL(n,a,u);function de(n){return n*Math.PI/180}function bl(n){return n*180/Math.PI}function an(n,a,u){if(typeof n=="number"&&typeof a=="number")return n+(a-n)*u;if(n instanceof F&&a instanceof F||n instanceof Dt&&a instanceof Dt)return n.lerp(a,u);throw new Error(`Bad value for lerp(): ${n}, ${a}. Only number, Vec2 and Color is supported.`)}function Yn(n,a,u,s,o){return s+(n-a)/(u-a)*(o-s)}function nv(n,a,u,s,o){return Ln(Yn(n,a,u,s,o),s,o)}var F=class Se{x=0;y=0;constructor(a=0,u=a){this.x=a,this.y=u}static fromAngle(a){let u=de(a);return new Se(Math.cos(u),Math.sin(u))}static fromArray(a){return new Se(a[0],a[1])}static ZERO=new Se(0,0);static ONE=new Se(1,1);static LEFT=new Se(-1,0);static RIGHT=new Se(1,0);static UP=new Se(0,-1);static DOWN=new Se(0,1);clone(){return new Se(this.x,this.y)}add(...a){let u=L(...a);return new Se(this.x+u.x,this.y+u.y)}sub(...a){let u=L(...a);return new Se(this.x-u.x,this.y-u.y)}scale(...a){let u=L(...a);return new Se(this.x*u.x,this.y*u.y)}dist(...a){let u=L(...a);return this.sub(u).len()}sdist(...a){let u=L(...a);return this.sub(u).slen()}static sdist(a,u){let s=a.x-u.x,o=a.y-u.y;return s*s+o*o}len(){return Math.sqrt(this.dot(this))}slen(){return this.dot(this)}unit(){let a=this.len();return a===0?new Se(0):this.scale(1/a)}normal(){return new Se(this.y,-this.x)}reflect(a){return this.sub(a.scale(2*this.dot(a)))}project(a){return a.scale(a.dot(this)/a.len())}reject(a){return this.sub(this.project(a))}dot(a){return this.x*a.x+this.y*a.y}static dot(a,u){return a.x*u.x+a.y*u.y}cross(a){return this.x*a.y-this.y*a.x}static cross(a,u){return a.x*u.y-a.y*u.x}angle(...a){let u=L(...a);return bl(Math.atan2(this.y-u.y,this.x-u.x))}angleBetween(...a){let u=L(...a);return bl(Math.atan2(this.cross(u),this.dot(u)))}lerp(a,u){return new Se(an(this.x,a.x,u),an(this.y,a.y,u))}slerp(a,u){let s=this.dot(a),o=this.cross(a),f=Math.atan2(o,s);return this.scale(Math.sin((1-u)*f)).add(a.scale(Math.sin(u*f))).scale(1/o)}isZero(){return this.x===0&&this.y===0}toFixed(a){return new Se(Number(this.x.toFixed(a)),Number(this.y.toFixed(a)))}transform(a){return a.multVec2(this)}eq(a){return this.x===a.x&&this.y===a.y}bbox(){return new Wt(this,0,0)}toString(){return`vec2(${this.x.toFixed(2)}, ${this.y.toFixed(2)})`}toArray(){return[this.x,this.y]}};function L(...n){if(n.length===1){if(n[0]instanceof F)return new F(n[0].x,n[0].y);if(Array.isArray(n[0])&&n[0].length===2)return new F(...n[0])}return new F(...n)}var te=class Fc{x=0;y=0;w=1;h=1;constructor(a,u,s,o){this.x=a,this.y=u,this.w=s,this.h=o}scale(a){return new Fc(this.x+this.w*a.x,this.y+this.h*a.y,this.w*a.w,this.h*a.h)}pos(){return new F(this.x,this.y)}clone(){return new Fc(this.x,this.y,this.w,this.h)}eq(a){return this.x===a.x&&this.y===a.y&&this.w===a.w&&this.h===a.h}toString(){return`quad(${this.x}, ${this.y}, ${this.w}, ${this.h})`}};function he(n,a,u,s){return new te(n,a,u,s)}var ur=class pi{a;b;c;d;constructor(a,u,s,o){this.a=a,this.b=u,this.c=s,this.d=o}mul(a){return new pi(this.a*a.a+this.b*a.c,this.a*a.b+this.b*a.d,this.c*a.a+this.d*a.c,this.c*a.b+this.d*a.d)}transform(a){return L(this.a*a.x+this.b*a.y,this.c*a.x+this.d*a.y)}get inverse(){let a=this.det;return new pi(this.d/a,-this.b/a,-this.c/a,this.a/a)}get transpose(){return new pi(this.a,this.c,this.b,this.d)}get eigenvalues(){let a=this.trace/2,u=this.det,s=a+Math.sqrt(a*a-u),o=a-Math.sqrt(a*a-u);return[s,o]}eigenvectors(a,u){return this.c!=0?[[a-this.d,this.c],[u-this.d,this.c]]:this.b!=0?[[this.b,a-this.a],[this.b,u-this.a]]:Math.abs(this.transform(L(1,0)).x-a)<Number.EPSILON?[[1,0],[0,1]]:[[0,1],[1,0]]}get det(){return this.a*this.d-this.b*this.c}get trace(){return this.a+this.d}static rotation(a){let u=Math.cos(a),s=Math.sin(a);return new pi(u,s,-s,u)}static scale(a,u){return new pi(a,0,0,u)}},bu=class wu{m11;m12;m13;m21;m22;m23;m31;m32;m33;constructor(a,u,s,o,f,d,y,m,h){this.m11=a,this.m12=u,this.m13=s,this.m21=o,this.m22=f,this.m23=d,this.m31=y,this.m32=m,this.m33=h}static fromMat2(a){return new wu(a.a,a.b,0,a.c,a.d,0,0,0,1)}toMat2(){return new ur(this.m11,this.m12,this.m21,this.m22)}mul(a){return new wu(this.m11*a.m11+this.m12*a.m21+this.m13*a.m31,this.m11*a.m12+this.m12*a.m22+this.m13*a.m32,this.m11*a.m13+this.m12*a.m23+this.m13*a.m33,this.m21*a.m11+this.m22*a.m21+this.m23*a.m31,this.m21*a.m12+this.m22*a.m22+this.m23*a.m32,this.m21*a.m13+this.m22*a.m23+this.m23*a.m33,this.m31*a.m11+this.m32*a.m21+this.m33*a.m31,this.m31*a.m12+this.m32*a.m22+this.m33*a.m32,this.m31*a.m13+this.m32*a.m23+this.m33*a.m33)}get det(){return this.m11*this.m22*this.m33+this.m12*this.m23*this.m31+this.m13*this.m21*this.m32-this.m13*this.m22*this.m31-this.m12*this.m21*this.m33-this.m11*this.m23*this.m32}rotate(a){let u=Math.cos(a),s=Math.sin(a),o=this.m11,f=this.m12;return this.m11=u*this.m11+s*this.m21,this.m12=u*this.m12+s*this.m22,this.m21=u*this.m21-s*o,this.m22=u*this.m22-s*f,this}scale(a,u){return this.m11*=a,this.m12*=a,this.m21*=u,this.m22*=u,this}get inverse(){let a=this.det;return new wu((this.m22*this.m33-this.m23*this.m32)/a,(this.m13*this.m32-this.m12*this.m33)/a,(this.m12*this.m23-this.m13*this.m22)/a,(this.m23*this.m31-this.m21*this.m33)/a,(this.m11*this.m33-this.m13*this.m31)/a,(this.m13*this.m21-this.m11*this.m23)/a,(this.m21*this.m32-this.m22*this.m31)/a,(this.m12*this.m31-this.m11*this.m32)/a,(this.m11*this.m22-this.m12*this.m21)/a)}get transpose(){return new wu(this.m11,this.m21,this.m31,this.m12,this.m22,this.m32,this.m13,this.m23,this.m33)}},Xn=class ha{m=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];constructor(a){a&&(this.m=a)}static translate(a){return new ha([1,0,0,0,0,1,0,0,0,0,1,0,a.x,a.y,0,1])}static scale(a){return new ha([a.x,0,0,0,0,a.y,0,0,0,0,1,0,0,0,0,1])}static rotateX(a){a=de(-a);let u=Math.cos(a),s=Math.sin(a);return new ha([1,0,0,0,0,u,-s,0,0,s,u,0,0,0,0,1])}static rotateY(a){a=de(-a);let u=Math.cos(a),s=Math.sin(a);return new ha([u,0,s,0,0,1,0,0,-s,0,u,0,0,0,0,1])}static rotateZ(a){a=de(-a);let u=Math.cos(a),s=Math.sin(a);return new ha([u,-s,0,0,s,u,0,0,0,0,1,0,0,0,0,1])}translate(a){return this.m[12]+=this.m[0]*a.x+this.m[4]*a.y,this.m[13]+=this.m[1]*a.x+this.m[5]*a.y,this.m[14]+=this.m[2]*a.x+this.m[6]*a.y,this.m[15]+=this.m[3]*a.x+this.m[7]*a.y,this}scale(a){return this.m[0]*=a.x,this.m[4]*=a.y,this.m[1]*=a.x,this.m[5]*=a.y,this.m[2]*=a.x,this.m[6]*=a.y,this.m[3]*=a.x,this.m[7]*=a.y,this}rotate(a){a=de(-a);let u=Math.cos(a),s=Math.sin(a),o=this.m[0],f=this.m[1],d=this.m[4],y=this.m[5];return this.m[0]=o*u+f*s,this.m[1]=-o*s+f*u,this.m[4]=d*u+y*s,this.m[5]=-d*s+y*u,this}mult(a){let u=[];for(let s=0;s<4;s++)for(let o=0;o<4;o++)u[s*4+o]=this.m[0+o]*a.m[s*4+0]+this.m[4+o]*a.m[s*4+1]+this.m[8+o]*a.m[s*4+2]+this.m[12+o]*a.m[s*4+3];return new ha(u)}multVec2(a){return new F(a.x*this.m[0]+a.y*this.m[4]+this.m[12],a.x*this.m[1]+a.y*this.m[5]+this.m[13])}getTranslation(){return new F(this.m[12],this.m[13])}getScale(){if(this.m[0]!=0||this.m[1]!=0){let a=this.m[0]*this.m[5]-this.m[1]*this.m[4],u=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return new F(u,a/u)}else if(this.m[4]!=0||this.m[5]!=0){let a=this.m[0]*this.m[5]-this.m[1]*this.m[4],u=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return new F(a/u,u)}else return new F(0,0)}getRotation(){if(this.m[0]!=0||this.m[1]!=0){let a=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return bl(this.m[1]>0?Math.acos(this.m[0]/a):-Math.acos(this.m[0]/a))}else if(this.m[4]!=0||this.m[5]!=0){let a=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return bl(Math.PI/2-(this.m[5]>0?Math.acos(-this.m[4]/a):-Math.acos(this.m[4]/a)))}else return 0}getSkew(){if(this.m[0]!=0||this.m[1]!=0){let a=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return new F(Math.atan(this.m[0]*this.m[4]+this.m[1]*this.m[5])/(a*a),0)}else if(this.m[4]!=0||this.m[5]!=0){let a=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return new F(0,Math.atan(this.m[0]*this.m[4]+this.m[1]*this.m[5])/(a*a))}else return new F(0,0)}invert(){let a=[],u=this.m[10]*this.m[15]-this.m[14]*this.m[11],s=this.m[9]*this.m[15]-this.m[13]*this.m[11],o=this.m[9]*this.m[14]-this.m[13]*this.m[10],f=this.m[8]*this.m[15]-this.m[12]*this.m[11],d=this.m[8]*this.m[14]-this.m[12]*this.m[10],y=this.m[8]*this.m[13]-this.m[12]*this.m[9],m=this.m[6]*this.m[15]-this.m[14]*this.m[7],h=this.m[5]*this.m[15]-this.m[13]*this.m[7],b=this.m[5]*this.m[14]-this.m[13]*this.m[6],S=this.m[4]*this.m[15]-this.m[12]*this.m[7],p=this.m[4]*this.m[14]-this.m[12]*this.m[6],M=this.m[5]*this.m[15]-this.m[13]*this.m[7],E=this.m[4]*this.m[13]-this.m[12]*this.m[5],D=this.m[6]*this.m[11]-this.m[10]*this.m[7],x=this.m[5]*this.m[11]-this.m[9]*this.m[7],w=this.m[5]*this.m[10]-this.m[9]*this.m[6],U=this.m[4]*this.m[11]-this.m[8]*this.m[7],V=this.m[4]*this.m[10]-this.m[8]*this.m[6],P=this.m[4]*this.m[9]-this.m[8]*this.m[5];a[0]=this.m[5]*u-this.m[6]*s+this.m[7]*o,a[4]=-(this.m[4]*u-this.m[6]*f+this.m[7]*d),a[8]=this.m[4]*s-this.m[5]*f+this.m[7]*y,a[12]=-(this.m[4]*o-this.m[5]*d+this.m[6]*y),a[1]=-(this.m[1]*u-this.m[2]*s+this.m[3]*o),a[5]=this.m[0]*u-this.m[2]*f+this.m[3]*d,a[9]=-(this.m[0]*s-this.m[1]*f+this.m[3]*y),a[13]=this.m[0]*o-this.m[1]*d+this.m[2]*y,a[2]=this.m[1]*m-this.m[2]*h+this.m[3]*b,a[6]=-(this.m[0]*m-this.m[2]*S+this.m[3]*p),a[10]=this.m[0]*M-this.m[1]*S+this.m[3]*E,a[14]=-(this.m[0]*b-this.m[1]*p+this.m[2]*E),a[3]=-(this.m[1]*D-this.m[2]*x+this.m[3]*w),a[7]=this.m[0]*D-this.m[2]*U+this.m[3]*V,a[11]=-(this.m[0]*x-this.m[1]*U+this.m[3]*P),a[15]=this.m[0]*w-this.m[1]*V+this.m[2]*P;let G=this.m[0]*a[0]+this.m[1]*a[4]+this.m[2]*a[8]+this.m[3]*a[12];for(let O=0;O<4;O++)for(let R=0;R<4;R++)a[O*4+R]*=1/G;return new ha(a)}clone(){return new ha([...this.m])}toString(){return this.m.toString()}};function sp(n,a,u,s=o=>-Math.cos(o)){return n+(s(u)+1)/2*(a-n)}var av=1103515245,lv=12345,Ym=2147483648,rp=class{seed;constructor(n){this.seed=n}gen(){return this.seed=(av*this.seed+lv)%Ym,this.seed/Ym}genNumber(n,a){return n+this.gen()*(a-n)}genVec2(n,a){return new F(this.genNumber(n.x,a.x),this.genNumber(n.y,a.y))}genColor(n,a){return new Dt(this.genNumber(n.r,a.r),this.genNumber(n.g,a.g),this.genNumber(n.b,a.b))}genAny(...n){if(n.length===0)return this.gen();if(n.length===1){if(typeof n[0]=="number")return this.genNumber(0,n[0]);if(n[0]instanceof F)return this.genVec2(L(0,0),n[0]);if(n[0]instanceof Dt)return this.genColor(Gt(0,0,0),n[0])}else if(n.length===2){if(typeof n[0]=="number"&&typeof n[1]=="number")return this.genNumber(n[0],n[1]);if(n[0]instanceof F&&n[1]instanceof F)return this.genVec2(n[0],n[1]);if(n[0]instanceof Dt&&n[1]instanceof Dt)return this.genColor(n[0],n[1])}throw new Error("More than 2 arguments not supported")}},kc=new rp(Date.now());function iv(n){return n!=null&&(kc.seed=n),kc.seed}function Ee(...n){return kc.genAny(...n)}function op(...n){return Math.floor(Ee(...n.length>0?n:[2]))}function uv(n){return Ee()<=n}function cp(n){for(let a=n.length-1;a>0;a--){let u=Math.floor(Math.random()*(a+1));[n[a],n[u]]=[n[u],n[a]]}return n}function sv(n,a){return n.length<=a?n.slice():cp(n.slice()).slice(0,a)}function rv(n){return n[op(n.length)]}function fp(n,a){return n.pos.x+n.width>a.pos.x&&n.pos.x<a.pos.x+a.width&&n.pos.y+n.height>a.pos.y&&n.pos.y<a.pos.y+a.height}function ov(n,a){if(n.p1.x===n.p2.x&&n.p1.y===n.p2.y||a.p1.x===a.p2.x&&a.p1.y===a.p2.y)return null;let u=(a.p2.y-a.p1.y)*(n.p2.x-n.p1.x)-(a.p2.x-a.p1.x)*(n.p2.y-n.p1.y);if(u===0)return null;let s=((a.p2.x-a.p1.x)*(n.p1.y-a.p1.y)-(a.p2.y-a.p1.y)*(n.p1.x-a.p1.x))/u,o=((n.p2.x-n.p1.x)*(n.p1.y-a.p1.y)-(n.p2.y-n.p1.y)*(n.p1.x-a.p1.x))/u;return s<0||s>1||o<0||o>1?null:s}function yf(n,a){let u=ov(n,a);return u?L(n.p1.x+u*(n.p2.x-n.p1.x),n.p1.y+u*(n.p2.y-n.p1.y)):null}function vf(n,a){let u=a.p2.sub(a.p1),s=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;if(u.x!=0){let f=(n.pos.x-a.p1.x)/u.x,d=(n.pos.x+n.width-a.p1.x)/u.x;s=Math.max(s,Math.min(f,d)),o=Math.min(o,Math.max(f,d))}if(u.y!=0){let f=(n.pos.y-a.p1.y)/u.y,d=(n.pos.y+n.height-a.p1.y)/u.y;s=Math.max(s,Math.min(f,d)),o=Math.min(o,Math.max(f,d))}return o>=s&&o>=0&&s<=1}function pr(n,a){return a.x>n.pos.x&&a.x<n.pos.x+n.width&&a.y>n.pos.y&&a.y<n.pos.y+n.height}function hp(n,a){let u=Math.max(n.pos.x,Math.min(a.center.x,n.pos.x+n.width)),s=Math.max(n.pos.y,Math.min(a.center.y,n.pos.y+n.height));return L(u,s).sdist(a.center)<=a.radius*a.radius}function dp(n,a){return gp(a,new Ke(n.points()))}function Af(n,a){let u=a.sub(n.p1),s=n.p2.sub(n.p1);if(Math.abs(u.cross(s))>Number.EPSILON)return!1;let o=u.dot(s)/s.dot(s);return o>=0&&o<=1}function Hu(n,a){let u=n.p2.sub(n.p1),s=u.dot(u),o=n.p1.sub(a.center),f=2*u.dot(o),d=o.dot(o)-a.radius*a.radius,y=f*f-4*s*d;if(s<=Number.EPSILON||y<0)return!1;if(y==0){let m=-f/(2*s);if(m>=0&&m<=1)return!0}else{let m=(-f+Math.sqrt(y))/(2*s),h=(-f-Math.sqrt(y))/(2*s);if(m>=0&&m<=1||h>=0&&h<=1)return!0}return yr(a,n.p1)}function bf(n,a){if(Qa(a,n.p1)||Qa(a,n.p2))return!0;for(let u=0;u<a.pts.length;u++){let s=a.pts[u],o=a.pts[(u+1)%a.pts.length];if(yf(n,new un(s,o)))return!0}return!1}function yr(n,a){return n.center.sdist(a)<n.radius*n.radius}function cv(n,a){return n.center.sdist(a.center)<(n.radius+a.radius)*(n.radius+a.radius)}function vr(n,a){let u=a.pts[a.pts.length-1];for(let s of a.pts){if(Hu(new un(u,s),n))return!0;u=s}return yr(n,a.pts[0])?!0:Qa(a,n.center)}function gp(n,a){for(let u=0;u<n.pts.length;u++)if(bf(new un(n.pts[u],n.pts[(u+1)%n.pts.length]),a))return!0;return!!(n.pts.some(u=>Qa(a,u))||a.pts.some(u=>Qa(n,u)))}function Qa(n,a){let u=!1,s=n.pts;for(let o=0,f=s.length-1;o<s.length;f=o++)s[o].y>a.y!=s[f].y>a.y&&a.x<(s[f].x-s[o].x)*(a.y-s[o].y)/(s[f].y-s[o].y)+s[o].x&&(u=!u);return u}function wf(n,a){a=a.sub(n.center);let u=de(n.angle),s=Math.cos(u),o=Math.sin(u),f=a.x*s+a.y*o,d=-a.x*o+a.y*s;return f*f/(n.radiusX*n.radiusX)+d*d/(n.radiusY*n.radiusY)<1}function sr(n,a){let u=a.center.sub(n.center),s=de(n.angle),o=Math.cos(s),f=Math.sin(s),d=u.x*o+u.y*f,y=-u.x*f+u.y*o;return wf(new da(L(),n.radiusX+a.radius,n.radiusY+a.radius,0),L(d,y))}function mp(n,a){let u=n.toMat2().inverse;return a=new un(u.transform(a.p1.sub(n.center)),u.transform(a.p2.sub(n.center))),Hu(a,new ln(L(),1))}function fv(n,a){if(n.radiusX===n.radiusY)return sr(a,new ln(n.center,n.radiusX));if(a.radiusX===a.radiusY)return sr(n,new ln(a.center,a.radiusX));let u=new bu(1/n.radiusX**2,0,0,0,1/n.radiusY**2,0,0,0,-1),s=new bu(1/a.radiusX**2,0,0,0,1/a.radiusY**2,0,0,0,-1),o=n.center.x,f=n.center.y,d=a.center.x,y=a.center.y,m=de(n.angle),h=de(a.angle),b=new bu(Math.cos(m),-Math.sin(m),o,Math.sin(m),Math.cos(m),f,0,0,1),S=new bu(Math.cos(h),-Math.sin(h),d,Math.sin(h),Math.cos(h),y,0,0,1),p=b.inverse,M=S.inverse,E=p.transpose.mul(u).mul(p),D=M.transpose.mul(s).mul(M),x=E.m11,w=E.m12,U=E.m13,V=E.m21,P=E.m22,G=E.m23,O=E.m31,R=E.m32,X=E.m33,K=D.m11,tt=D.m12,et=D.m13,ut=D.m21,vt=D.m22,pt=D.m23,yt=D.m31,N=D.m32,k=D.m33,lt=x*P*X-x*G*R-w*V*X+w*G*O+U*V*R-U*P*O,rt=(x*P*k-x*G*N-x*R*pt+x*X*vt-w*V*k+w*G*yt+w*O*pt-w*X*ut+U*V*N-U*P*yt-U*O*vt+U*R*ut+V*R*et-V*X*tt-P*O*et+P*X*K+G*O*tt-G*R*K)/lt,ft=(x*vt*k-x*pt*N-w*ut*k+w*pt*yt+U*ut*N-U*vt*yt-V*tt*k+V*et*N+P*K*k-P*et*yt-G*K*N+G*tt*yt+O*tt*pt-O*et*vt-R*K*pt+R*et*ut+X*K*vt-X*tt*ut)/lt,C=(K*vt*k-K*pt*N-tt*ut*k+tt*pt*yt+et*ut*N-et*vt*yt)/lt;if(rt>=0){let j=-3*ft+rt**2,nt=3*rt*C+ft*rt**2-4*ft**2,it=-27*C**2+18*C*rt*ft+rt**2*ft**2-4*rt**3*C-4*ft**3;return!(j>0&&nt<0&&it>0)}else{let j=-3*ft+rt**2,nt=-27*C**2+18*C*rt*ft+rt**2*ft**2-4*rt**3*C-4*ft**3;return!(j>0&&nt>0)}}function pp(n,a){return xf(n,new Ke(a.points()))}function xf(n,a){let u=n.toMat2().inverse;return a=new Ke(a.pts.map(s=>u.transform(s.sub(n.center)))),vr(new ln(L(),1),a)}function hv(n,a){return n.x===a.x&&n.y===a.y}function dv(n,a){return a instanceof F?hv(a,n.pt):a instanceof ln?yr(a,n.pt):a instanceof un?Af(a,n.pt):a instanceof Wt?pr(a,n.pt):a instanceof Ke?Qa(a,n.pt):a instanceof da?wf(a,n.pt):!1}function gv(n,a){return a instanceof F?Af(n,a):a instanceof ln?Hu(n,a):a instanceof un?yf(n,a)!=null:a instanceof Wt?vf(a,n):a instanceof Ke?bf(n,a):a instanceof da?mp(a,n):!1}function mv(n,a){return a instanceof F?yr(n,a):a instanceof ln?cv(n,a):a instanceof un?Hu(a,n):a instanceof Wt?hp(a,n):a instanceof Ke?vr(n,a):a instanceof da?sr(a,n):!1}function pv(n,a){return a instanceof F?pr(n,a):a instanceof ln?hp(n,a):a instanceof un?vf(n,a):a instanceof Wt?fp(n,a):a instanceof Ke?dp(n,a):a instanceof da?pp(a,n):!1}function yv(n,a){return a instanceof F?Qa(n,a):a instanceof ln?vr(a,n):a instanceof un?bf(a,n):a instanceof Wt?dp(a,n):a instanceof Ke?gp(a,n):a instanceof da?xf(a,n):!1}function vv(n,a){return a instanceof F?wf(n,a):a instanceof ln?sr(n,a):a instanceof un?mp(n,a):a instanceof Wt?pp(n,a):a instanceof Ke?xf(n,a):a instanceof da?fv(a,n):!1}function yp(n,a,u){let s=n,o=u.p1,f=u.p2,d=a,y=f.sub(o),m=d.cross(y);if(Math.abs(m)<Number.EPSILON)return null;let h=o.sub(s),b=h.cross(y)/m;if(b<=0||b>=1)return null;let S=h.cross(d)/m;if(S<=0||S>=1)return null;let p=y.normal().unit();return a.dot(p)>0&&(p.x*=-1,p.y*=-1),{point:s.add(d.scale(b)),normal:p,fraction:b}}function Av(n,a,u){let s=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,f;if(n.x!=0){let d=(u.pos.x-n.x)/a.x,y=(u.pos.x+u.width-n.x)/a.x;f=L(-Math.sign(a.x),0),s=Math.max(s,Math.min(d,y)),o=Math.min(o,Math.max(d,y))}if(n.y!=0){let d=(u.pos.y-n.y)/a.y,y=(u.pos.y+u.height-n.y)/a.y;Math.min(d,y)>s&&(f=L(0,-Math.sign(a.y))),s=Math.max(s,Math.min(d,y)),o=Math.min(o,Math.max(d,y))}return o>=s&&s>=0&&s<=1?{point:n.add(a.scale(s)),normal:f,fraction:s}:null}function vp(n,a,u){let s=n,o=u.center,f=a,d=f.dot(f),y=s.sub(o),m=2*f.dot(y),h=y.dot(y)-u.radius*u.radius,b=m*m-4*d*h;if(d<=Number.EPSILON||b<0)return null;if(b==0){let S=-m/(2*d);if(S>=0&&S<=1){let p=s.add(f.scale(S));return{point:p,normal:p.sub(o),fraction:S}}}else{let S=(-m+Math.sqrt(b))/(2*d),p=(-m-Math.sqrt(b))/(2*d),M=null;if(S>=0&&S<=1&&(M=S),p>=0&&p<=1&&(M=Math.min(p,M??p)),M!=null){let E=s.add(f.scale(M));return{point:E,normal:E.sub(o).unit(),fraction:M}}}return null}function bv(n,a,u){let s=u.pts,o=null,f=s[s.length-1];for(let d=0;d<s.length;d++){let y=s[d],m=yp(n,a,new un(f,y));m&&(!o||o.fraction>m.fraction)&&(o=m),f=y}return o}function wv(n,a,u){let s=u.toMat2(),o=s.inverse,f=o.transform(n.sub(u.center)),d=o.transform(a),y=vp(f,d,new ln(L(),1));if(y){let m=ur.rotation(de(-u.angle)),h=ur.scale(u.radiusX,u.radiusY).transform(y.point),b=s.transform(y.point).add(u.center),S=b.dist(n)/a.len();return{point:b,normal:m.transform(L(u.radiusY**2*h.x,u.radiusX**2*h.y)).unit(),fraction:S}}return y}function xv(n,a,u,s=64){let o=n,f=a.len(),d=a.scale(1/f),y=0,m=L(Math.floor(n.x),Math.floor(n.y)),h=L(d.x>0?1:-1,d.y>0?1:-1),b=L(Math.abs(1/d.x),Math.abs(1/d.y)),S=L(h.x>0?m.x+1-n.x:n.x-m.x,h.y>0?m.y+1-n.y:n.y-m.y),p=L(b.x<1/0?b.x*S.x:1/0,b.y<1/0?b.y*S.y:1/0),M=-1;for(;y<=s;){let E=u(m);if(E===!0)return{point:o.add(d.scale(y)),normal:L(M===0?-h.x:0,M===1?-h.y:0),fraction:y/f,gridPos:m};if(E)return E;p.x<p.y?(m.x+=h.x,y=p.x,p.x+=b.x,M=0):(m.y+=h.y,y=p.y,p.y+=b.y,M=1)}return null}var Sv=class Wc{pt;constructor(a){this.pt=a.clone()}transform(a){return new Wc(a.multVec2(this.pt))}bbox(){return new Wt(this.pt,0,0)}area(){return 0}clone(){return new Wc(this.pt)}collides(a){return dv(this,a)}contains(a){return this.pt.eq(a)}raycast(a,u){return null}random(){return this.pt.clone()}},un=class Ic{p1;p2;constructor(a,u){this.p1=a.clone(),this.p2=u.clone()}transform(a){return new Ic(a.multVec2(this.p1),a.multVec2(this.p2))}bbox(){return Wt.fromPoints(this.p1,this.p2)}area(){return this.p1.dist(this.p2)}clone(){return new Ic(this.p1,this.p2)}collides(a){return gv(this,a)}contains(a){return this.collides(a)}raycast(a,u){return yp(a,u,this)}random(){return this.p1.add(this.p2.sub(this.p1).scale(Ee(1)))}},Wt=class Pc{pos;width;height;constructor(a,u,s){this.pos=a.clone(),this.width=u,this.height=s}static fromPoints(a,u){return new Pc(a.clone(),u.x-a.x,u.y-a.y)}center(){return new F(this.pos.x+this.width/2,this.pos.y+this.height/2)}points(){return[this.pos,this.pos.add(this.width,0),this.pos.add(this.width,this.height),this.pos.add(0,this.height)]}transform(a){return new Ke(this.points().map(u=>a.multVec2(u)))}bbox(){return this.clone()}area(){return this.width*this.height}clone(){return new Pc(this.pos.clone(),this.width,this.height)}distToPoint(a){return Math.sqrt(this.sdistToPoint(a))}sdistToPoint(a){let u=this.pos,s=this.pos.add(this.width,this.height),o=Math.max(u.x-a.x,0,a.x-s.x),f=Math.max(u.y-a.y,0,a.y-s.y);return o*o+f*f}collides(a){return pv(this,a)}contains(a){return this.collides(a)}raycast(a,u){return Av(a,u,this)}random(){return this.pos.add(Ee(this.width),Ee(this.height))}},ln=class Ap{center;radius;constructor(a,u){this.center=a.clone(),this.radius=u}transform(a){return new da(this.center,this.radius,this.radius).transform(a)}bbox(){return Wt.fromPoints(this.center.sub(L(this.radius)),this.center.add(L(this.radius)))}area(){return this.radius*this.radius*Math.PI}clone(){return new Ap(this.center,this.radius)}collides(a){return mv(this,a)}contains(a){return this.collides(a)}raycast(a,u){return vp(a,u,this)}random(){return this.center.add(F.fromAngle(Ee(360)).scale(Ee(this.radius)))}},da=class yi{center;radiusX;radiusY;angle;constructor(a,u,s,o=0){this.center=a.clone(),this.radiusX=u,this.radiusY=s,this.angle=o}static fromMat2(a){let u=a.inverse,s=u.transpose.mul(u),[o,f]=s.eigenvalues,[d,y]=s.eigenvectors(o,f),[m,h]=[1/Math.sqrt(o),1/Math.sqrt(f)];return m>h?new yi(L(),m,h,bl(Math.atan2(-d[1],d[0]))):new yi(L(),h,m,bl(Math.atan2(-y[1],y[0])))}toMat2(){let a=de(this.angle),u=Math.cos(a),s=Math.sin(a);return new ur(u*this.radiusX,-s*this.radiusY,s*this.radiusX,u*this.radiusY)}transform(a){if(this.angle==0&&a.getRotation()==0)return new yi(a.multVec2(this.center),a.m[0]*this.radiusX,a.m[5]*this.radiusY);{let u=this.toMat2(),s=a.getRotation(),o=a.getScale();u=bu.fromMat2(u).scale(o.x,o.y).rotate(s).toMat2();let f=yi.fromMat2(u);return f.center=a.multVec2(this.center),f}}bbox(){if(this.angle==0)return Wt.fromPoints(this.center.sub(L(this.radiusX,this.radiusY)),this.center.add(L(this.radiusX,this.radiusY)));{let a=de(this.angle),u=Math.cos(a),s=Math.sin(a),o=this.radiusX*u,f=this.radiusX*s,d=this.radiusY*s,y=this.radiusY*u,m=Math.sqrt(o*o+d*d),h=Math.sqrt(f*f+y*y);return Wt.fromPoints(this.center.sub(L(m,h)),this.center.add(L(m,h)))}}area(){return this.radiusX*this.radiusY*Math.PI}clone(){return new yi(this.center,this.radiusX,this.radiusY,this.angle)}collides(a){return vv(this,a)}contains(a){a=a.sub(this.center);let u=de(this.angle),s=Math.cos(u),o=Math.sin(u),f=a.x*s+a.y*o,d=-a.x*o+a.y*s;return f*f/(this.radiusX*this.radiusX)+d*d/(this.radiusY*this.radiusY)<1}raycast(a,u){return wv(a,u,this)}random(){return this.center}};function Ev(n,a,u,s){let o=a.sub(n),f=s.sub(u),d=o.cross(f);return d<1e-5&&d>-1e-5||(d=u.sub(n).cross(f)/d,d<0||d>1)?null:n.add(o.scale(d))}var Ke=class xu{pts;constructor(a){if(a.length<3)throw new Error("Polygons should have at least 3 vertices");this.pts=a}transform(a){return new xu(this.pts.map(u=>a.multVec2(u)))}bbox(){let a=L(Number.MAX_VALUE),u=L(-Number.MAX_VALUE);for(let s of this.pts)a.x=Math.min(a.x,s.x),u.x=Math.max(u.x,s.x),a.y=Math.min(a.y,s.y),u.y=Math.max(u.y,s.y);return Wt.fromPoints(a,u)}area(){let a=0,u=this.pts.length;for(let s=0;s<u;s++){let o=this.pts[s],f=this.pts[(s+1)%u];a+=o.x*f.y*.5,a-=f.x*o.y*.5}return Math.abs(a)}clone(){return new xu(this.pts.map(a=>a.clone()))}collides(a){return yv(this,a)}contains(a){return this.collides(a)}raycast(a,u){return bv(a,u,this)}random(){return L()}cut(a,u){new un(a,u);let s=[],o=[],f=u.sub(a),d=this.pts[this.pts.length-1],y=d.sub(a),m=f.cross(y)>0;return this.pts.forEach(h=>{y=h.sub(a);let b=f.cross(y)>0;if(m!=b){let S=Ev(d,h,a,u);s.push(S),o.push(S),m=b}(b?s:o).push(h),d=h}),[s.length?new xu(s):null,o.length?new xu(o):null]}};function Mv(n,a,u,s){let o=s*s,f=1-s,d=f*f;return n.scale(d).add(a.scale(2*f*s)).add(u.scale(o))}function Tv(n,a,u,s){let o=1-s;return a.sub(n).scale(2*o).add(u.sub(a).scale(2*s))}function qv(n,a,u,s){return u.sub(a.scale(2)).add(n).scale(2)}function Sf(n,a,u,s,o){let f=o*o,d=f*o,y=1-o,m=y*y,h=m*y;return n.scale(h).add(a.scale(3*m*o)).add(u.scale(3*y*f)).add(s.scale(d))}function Dv(n,a,u,s,o){let f=o*o,d=1-o,y=d*d;return a.sub(n).scale(3*y).add(u.sub(a).scale(6*d*o)).add(s.sub(u).scale(3*f))}function Ov(n,a,u,s,o){let f=1-o;return u.sub(a.scale(2)).add(n).scale(6*f).add(s.sub(u.scale(2)).add(a).scale(6*o))}function Rv(n,a,u,s,o){let f=.5*(((-o+2)*o-1)*o),d=.5*((3*o-5)*o*o+2),y=.5*(((-3*o+4)*o+1)*o),m=.5*((o-1)*o*o);return n.scale(f).add(a.scale(d)).add(u.scale(y)).add(s.scale(m))}function Cv(n,a,u,s,o){let f=.5*((-3*o+4)*o-1),d=.5*((9*o-10)*o),y=.5*((-9*o+8)*o+1),m=.5*((3*o-2)*o);return n.scale(f).add(a.scale(d)).add(u.scale(y)).add(s.scale(m))}function zv(n){let a=bp(n),u=a(1);return s=>{let o=s*u,f=a(o,!0);return n(f)}}function bp(n,a=10,u=10){let s=[0],o=[0],f=1/(a-1)/u,d=0,y=n(0),m=0;for(let h=1;h<a;h++){for(let b=0;b<u;b++){m+=f;let S=n(m),p=S.dist(y);d+=p,y=S}s[h]=d,o[h]=m}return o[a-1]=1,(h,b=!1)=>{if(b){let S=h;if(S<=0)return 0;if(S>=d)return 1;let p=0;for(;s[p+1]<S;)p++;let M=o[p],E=o[p+1],D=s[p],x=s[p+1],w=(S-D)/(x-D);return M+(E-M)*w}else{if(h<=0)return 0;if(h>=1)return s[a-1];let S=0;for(;o[S+1]<h;)S++;let p=o[S],M=o[S+1],E=s[S],D=s[S+1],x=(h-p)/(M-p);return E+(D-E)*x}}}function _u(n,a,u,s){let o=2*n+a-2*s+u,f=-3*n+3*s-2*a-u,d=a,y=n;return m=>{let h=m*m,b=h*m;return o*b+f*h+d*m+y}}function wp(n,a,u,s,o,f=_u){let d=f(a.x,(1-o)*(u.x-n.x),(1-o)*(s.x-a.x),u.x),y=f(a.y,(1-o)*(u.y-n.y),(1-o)*(s.y-a.y),u.y);return m=>new F(d(m),y(m))}function rr(n,a,u,s,o=_u){return wp(n,a,u,s,.5,o)}function Bv(n,a,u,s,o=_u){return rr(s.add(n.sub(a).scale(6)),n,s,n.add(s.sub(u).scale(6)),o)}function Uv(n,a,u,s,o,f,d,y=_u){let m=y(a.x,.5*(1-o)*(1+d)*(1+f)*(a.x-n.x)+.5*(1-o)*(1-d)*(1-f)*(u.x-a.x),.5*(1-o)*(1+d)*(1-f)*(u.x-a.x)+.5*(1-o)*(1-d)*(1+f)*(s.x-u.x),u.x),h=y(a.y,.5*(1-o)*(1+d)*(1+f)*(a.y-n.y)+.5*(1-o)*(1-d)*(1-f)*(u.y-a.y),.5*(1-o)*(1+d)*(1-f)*(u.y-a.y)+.5*(1-o)*(1-d)*(1+f)*(s.y-u.y),u.y);return b=>new F(m(b),h(b))}function Nv(n,a,u,s){let o=2*n+a-2*s+u,f=-3*n+3*s-2*a+u,d=a;return y=>{let m=y*y;return 3*o*m+2*f*y+d}}function pu(n){return 0<=n&&n<=1}function Lc(n,a){return Math.abs(n-a)<=Number.EPSILON}function yu(n){return n<0?-Math.pow(-n,1/3):Math.pow(n,1/3)}function Hv(n,a,u,s){let o=3*n-6*a+3*u,f=-3*n+3*a,d=n,y=-n+3*a-3*u+s;if(Lc(y,0)){if(Lc(o,0))return Lc(f,0)?[]:[-d/f].filter(pu);let x=Math.sqrt(f*f-4*o*d),w=2*o;return[(x-f)/w,(-f-x)/w].filter(pu)}o/=y,f/=y,d/=y;let m=(3*f-o*o)/3,h=m/3,b=(2*o*o*o-9*o*f+27*d)/27,S=b/2,p=S*S+h*h*h;if(p<0){let x=-m/3,w=x*x*x,U=Math.sqrt(w),V=-b/(2*U),P=V<-1?-1:V>1?1:V,G=Math.acos(P),O=2*yu(U),R=O*Math.cos(G/3)-o/3,X=O*Math.cos((G+2*Math.PI)/3)-o/3,K=O*Math.cos((G+4*Math.PI)/3)-o/3;return[R,X,K].filter(pu)}if(p===0){let x=S<0?yu(-S):-yu(S),w=2*x-o/3,U=-x-o/3;return[w,U].filter(pu)}let M=Math.sqrt(p),E=yu(M-S),D=yu(M+S);return[E-D-o/3].filter(pu)}function _v(n,a,u,s,o){let f=Hv(n.x-o,a.x-o,u.x-o,s.x-o);return f.length>0?Sf(n,a,u,s,f[0]).y:NaN}function jv(n){if(!n||n.length==0)throw new Error("Need at least one point for easingLinear.");let a=n.length;return u=>{if(u<=0||n.length==1||u<=n[0].x)return n[0].y;for(let s=0;s<a;s++)if(n[s].x>=u)return Yn(u,n[s-1].x,n[s].x,n[s-1].y,n[s].y);return n[n.length-1].y}}function Gv(n,a){return u=>_v(L(0,0),n,a,L(1,1),u)}function Yv(n,a="jump-end"){let u=1/n,s=a=="jump-start"||a=="jump-both",o=a=="jump-end"||a=="jump-both",f=1/(n+(o?1:0)),d=s?f:0;return y=>{let m=Math.floor(y/u);return d+m*f}}function Lv(n,a){let u=Number.MAX_VALUE,s={normal:L(0),distance:0};for(let o of[n,a])for(let f=0;f<o.pts.length;f++){let d=o.pts[f],y=o.pts[(f+1)%o.pts.length].sub(d).normal().unit(),m=Number.MAX_VALUE,h=-Number.MAX_VALUE;for(let M=0;M<n.pts.length;M++){let E=n.pts[M].dot(y);m=Math.min(m,E),h=Math.max(h,E)}let b=Number.MAX_VALUE,S=-Number.MAX_VALUE;for(let M=0;M<a.pts.length;M++){let E=a.pts[M].dot(y);b=Math.min(b,E),S=Math.max(S,E)}let p=Math.min(h,S)-Math.max(m,b);if(p<0)return null;if(p<Math.abs(u)){let M=S-m,E=b-h;u=Math.abs(M)<Math.abs(E)?M:E,s.normal=y,s.distance=u}}return s}function xp(n,a,u){return(a.x-n.x)*(u.y-n.y)-(a.y-n.y)*(u.x-n.x)>=0}function Xv(n){let a=0,u=n[n.length-1];for(let s=0;s<n.length;s++)a+=(n[s].x-u.x)*(n[s].y+u.y),u=n[s];return a<0}function Xc(n,a,u,s){let o=s.x-u.x,f=s.y-u.y,d=o*(n.y-u.y)-f*(n.x-u.x),y=o*(a.y-u.y)-f*(a.x-u.x);return d*y>=0}function Vv(n,a,u,s){return Xc(n,a,u,s)&&Xc(n,u,a,s)&&Xc(n,s,a,u)}function Qv(n,a,u,s){for(let o of n)if(o!==a&&o!==u&&o!==s&&Vv(o,a,u,s))return!0;return!1}function Zv(n,a,u,s){return xp(n,a,u)&&!Qv(s,n,a,u)}function Sp(n){if(n.length<3)return[];if(n.length==3)return[n];let a=[],u=[],s=0;for(let S=0;S<n.length;S++){let p=n[s],M=n[S];(M.x<p.x||M.x==p.x&&M.y<p.y)&&(s=s),a[S]=S+1,u[S]=S-1}a[a.length-1]=0,u[0]=u.length-1,Xv(n)||([a,u]=[u,a]);let o=[];for(let S=0;S<n.length;++S)xp(n[u[S]],n[S],n[a[S]])||o.push(n[S]);let f=[],d=n.length,y=1,m=0,h,b;for(;d>3;){h=a[y],b=u[y];let S=n[b],p=n[y],M=n[h];if(Zv(S,p,M,o))f.push([S,p,M]),a[b]=h,u[h]=b,o.splice(o.indexOf(p),1),--d,m=0;else if(++m>d)return[];y=h}return h=a[y],b=u[y],f.push([n[b],n[y],n[h]]),f}function Kv(n){if(n.length<3)return!1;let a=n.length-2,u=n.length-1,s=0,o=n[u].sub(n[a]),f=n[s].sub(n[u]),d=o.cross(f);for(;s+1<n.length;)if(a=u,u=s,s++,o=n[u].sub(n[a]),f=n[s].sub(n[u]),o.cross(f)*d<0)return!1;return!0}var Ep=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",Ar="topleft",Jv="monospace",or="monospace",$c="linear",Ef=[{name:"a_pos",size:2},{name:"a_uv",size:2},{name:"a_color",size:4}],Fv=Ef.reduce((n,a)=>n+a.size,0),Mp=2048,kv=Mp*4*Fv,Wv=Mp*6,Iv=`
attribute vec2 a_pos;
attribute vec2 a_uv;
attribute vec4 a_color;

varying vec2 v_pos;
varying vec2 v_uv;
varying vec4 v_color;

vec4 def_vert() {
	return vec4(a_pos, 0.0, 1.0);
}

{{user}}

void main() {
	vec4 pos = vert(a_pos, a_uv, a_color);
	v_pos = a_pos;
	v_uv = a_uv;
	v_color = a_color;
	gl_Position = pos;
}
`,Pv=`
precision mediump float;

varying vec2 v_pos;
varying vec2 v_uv;
varying vec4 v_color;

uniform sampler2D u_tex;

vec4 def_frag() {
	vec4 texColor = texture2D(u_tex, v_uv);
	return vec4((v_color.rgb * texColor.rgb), texColor.a) * v_color.a;
}

{{user}}

void main() {
	gl_FragColor = frag(v_pos, v_uv, v_color, u_tex);
	if (gl_FragColor.a == 0.0) {
		discard;
	}
}
`,tf=`
vec4 vert(vec2 pos, vec2 uv, vec4 color) {
	return def_vert();
}
`,ef=`
vec4 frag(vec2 pos, vec2 uv, vec4 color, sampler2D tex) {
	return def_frag();
}
`,$v=new Set(["id","require"]),tA=new Set(["add","fixedUpdate","update","draw","destroy","inspect","drawInspect"]),Lm=200,eA=640,nA=65536,Tp=Symbol.for("kaplay.cancel"),qp=class extends Map{lastID=0;push(n){let a=this.lastID;return this.set(a,n),this.lastID++,a}pushd(n){let a=this.push(n);return()=>this.delete(a)}},Ml=class Dp{paused=!1;cancel;constructor(a){this.cancel=a}static join(a){let u=new Dp(()=>a.forEach(s=>s.cancel()));return Object.defineProperty(u,"paused",{get:()=>a[0].paused,set:s=>a.forEach(o=>o.paused=s)}),u.paused=!1,u}static replace(a,u){return a.cancel=()=>u.cancel(),u.paused=a.paused,Object.defineProperty(a,"paused",{get:()=>u.paused,set:s=>u.paused=s}),a}},Qe=class{cancellers=new WeakMap;handlers=new qp;add(n){function a(...o){if(!s.paused)return n(...o)}let u=this.handlers.pushd(a),s=new Ml(u);return this.cancellers.set(a,u),s}addOnce(n){let a=this.add((...u)=>{a.cancel(),n(...u)});return a}next(){return new Promise(n=>this.addOnce(n))}trigger(...n){this.handlers.forEach(a=>{let u=a(...n),s;u===Tp&&(s=this.cancellers.get(a))&&s()})}numListeners(){return this.handlers.size}clear(){this.handlers.clear()}},Ru=class{handlers={};registers={};on(n,a){return this.handlers[n]||(this.handlers[n]=new Qe),this.handlers[n].add(a)}onOnce(n,a){let u=this.on(n,(...s)=>{u.cancel(),a(...s)});return u}next(n){return new Promise(a=>{this.onOnce(n,(...u)=>a(u[0]))})}trigger(n,...a){this.handlers[n]&&this.handlers[n].trigger(...a)}remove(n){delete this.handlers[n]}clear(){this.handlers={}}numListeners(n){return this.handlers[n]?.numListeners()??0}},aA=n=>n[0]instanceof Dt,lA=n=>n[0]instanceof F,iA=n=>typeof n[0]=="number",Op=class{_items;_compareFn;constructor(n=(a,u)=>a<u){this._compareFn=n,this._items=[]}insert(n){this._items.push(n),this.moveUp(this._items.length-1)}remove(){if(this._items.length===0)return null;let n=this._items[0],a=this._items.pop();return this._items.length!==0&&(this._items[0]=a,this.moveDown(0)),n}clear(){this._items.splice(0,this._items.length)}moveUp(n){for(;n>0;){let a=Math.floor((n-1)/2);if(!this._compareFn(this._items[n],this._items[a])&&this._items[n]>=this._items[a])break;this.swap(n,a),n=a}}moveDown(n){for(;n<Math.floor(this._items.length/2);){let a=2*n+1;if(a<this._items.length-1&&!this._compareFn(this._items[a],this._items[a+1])&&++a,this._compareFn(this._items[n],this._items[a]))break;this.swap(n,a),n=a}}swap(n,a){[this._items[n],this._items[a]]=[this._items[a],this._items[n]]}get length(){return this._items.length}};function uA(n){let a=window.atob(n),u=a.length,s=new Uint8Array(u);for(let o=0;o<u;o++)s[o]=a.charCodeAt(o);return s.buffer}function sA(n){return uA(n.split(",")[1])}function Mf(n,a){let u=document.createElement("a");u.href=a,u.download=n,u.click()}function Rp(n,a){Mf(n,"data:text/plain;charset=utf-8,"+a)}function rA(n,a){Rp(n,JSON.stringify(a))}function Xm(n,a){let u=URL.createObjectURL(a);Mf(n,u),URL.revokeObjectURL(u)}var Cp=n=>n.match(/^data:\w+\/\w+;base64,.+/),oA=n=>n.split(".").slice(0,-1).join(".");function Tf(n,a){if(n===a)return!0;let u=typeof n,s=typeof a;if(u!==s)return!1;if(u==="object"&&s==="object"&&n!==null&&a!==null){if(Array.isArray(n)!==Array.isArray(a))return!1;let o=Object.keys(n),f=Object.keys(a);if(o.length!==f.length)return!1;for(let d of o){let y=n[d],m=a[d];if(!Tf(y,m))return!1}return!0}return!1}var Vm=new Set,cA=n=>n instanceof Error?n.message:String(n);function fA(n){Vm.has(n)||(Vm.add(n),console.warn(n))}function Ai(n,a){fA(`${n} is deprecated. Use ${a} instead.`)}function nf(n,a){return Number(n.toFixed(a))}function It(n,a){return(...u)=>{let s=u.length;if(s===n.length)return n(...u);if(s===a.length)return a(...u)}}var hA=Object.freeze([776,2359,2367,2984,3007,3021,3633,3635,3648,3657,4352,4449,4520]);function dA(n){if(typeof n!="string")throw new TypeError("string cannot be undefined or null");let a=[],u=0,s=0;for(;u<n.length;){if(s+=gA(u+s,n),wA(n[u+s])&&s++,vA(n[u+s])&&s++,AA(n[u+s])&&s++,xA(n[u+s])){s++;continue}a.push(n.substring(u,u+s)),u+=s,s=0}return a}function gA(n,a){let u=a[n];if(!mA(u)||n===a.length-1)return 1;let s=u+a[n+1],o=a.substring(n+2,n+5);return Qm(s)&&Qm(o)?4:pA(s)&&bA(o)?a.slice(n).indexOf(String.fromCodePoint(917631))+2:yA(o)?4:2}function mA(n){return n&&Tl(n[0].charCodeAt(0),55296,56319)}function Qm(n){return Tl(qf(n),127462,127487)}function pA(n){return Tl(qf(n),127988,127988)}function yA(n){return Tl(qf(n),127995,127999)}function vA(n){return typeof n=="string"&&Tl(n.charCodeAt(0),65024,65039)}function AA(n){return typeof n=="string"&&Tl(n.charCodeAt(0),8400,8447)}function bA(n){let a=n.codePointAt(0);return typeof n=="string"&&typeof a=="number"&&Tl(a,917504,917631)}function wA(n){return typeof n=="string"&&hA.includes(n.charCodeAt(0))}function xA(n){return typeof n=="string"&&n.charCodeAt(0)===8205}function qf(n){let a=n.charCodeAt(0)-55296,u=n.charCodeAt(1)-56320;return(a<<10)+u+65536}function Tl(n,a,u){return n>=a&&n<=u}var bn=(n,a)=>Array.isArray(n)?n?.includes(a):n===a,Gn=(n,a)=>Array.isArray(a)?a.some(u=>n.has(u)):n.has(a),Is=(n,a,u)=>{n.has(a)?n.get(a)?.push(u):n.set(a,[u])},SA=(()=>{let n=0;return()=>n++})(),EA={"Joy-Con L+R (STANDARD GAMEPAD Vendor: 057e Product: 200e)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home",17:"capture"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}},"Joy-Con (L) (STANDARD GAMEPAD Vendor: 057e Product: 2006)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",9:"select",10:"lstick",16:"start"},sticks:{left:{x:0,y:1}}},"Joy-Con (R) (STANDARD GAMEPAD Vendor: 057e Product: 2007)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",9:"start",10:"lstick",16:"select"},sticks:{left:{x:0,y:1}}},"Pro Controller (STANDARD GAMEPAD Vendor: 057e Product: 2009)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home",17:"capture"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}},default:{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}}};function zp(){let n=v.globalOpt.pixelDensity??1,a=v.globalOpt.width,u=v.globalOpt.height,s=v.gfx.ggl.gl.drawingBufferWidth,o=v.gfx.ggl.gl.drawingBufferHeight,f=s/n,d=o/n,y=0,m=0,h=f,b=d;if(v.globalOpt.letterbox){if(!a||!u)throw new Error("Letterboxing requires width and height defined.");let S=f/d,p=a/u;if(S>p){let M=d*p;y=(f-M)/2,h=M}else{let M=f/p;b=M,m=(d-M)/2}}if(v.globalOpt.stretch&&(!v.globalOpt.width||!v.globalOpt.height))throw new Error("Stretching requires width and height defined.");v.gfx.viewport={x:y,y:m,width:h,height:b,scale:(v.gfx.viewport.width+v.gfx.viewport.height)/(v.gfx.width+v.gfx.height)}}function MA(n){return new F(n.x*v.gfx.viewport.width/v.gfx.width,n.y*v.gfx.viewport.height/v.gfx.height)}function fa(n){return new F((n.x-v.gfx.viewport.x)*v.gfx.width/v.gfx.viewport.width,(n.y-v.gfx.viewport.y)*v.gfx.height/v.gfx.viewport.height)}var TA=()=>vl.lastInputDevice,qA=()=>{let n=vl.buttons;for(let a in n){let u=n[a].keyboard&&[n[a].keyboard].flat(),s=n[a].keyboardCode&&[n[a].keyboardCode].flat(),o=n[a].gamepad&&[n[a].gamepad].flat(),f=n[a].mouse&&[n[a].mouse].flat();u&&u.forEach(d=>{Is(vl.buttonsByKey,d,a)}),s&&s.forEach(d=>{Is(vl.buttonsByKeyCode,d,a)}),o&&o.forEach(d=>{Is(vl.buttonsByGamepad,d,a)}),f&&f.forEach(d=>{Is(vl.buttonsByMouse,d,a)})}},Tu=class{pressed=new Set([]);pressedRepeat=new Set([]);released=new Set([]);down=new Set([]);update(){this.pressed.clear(),this.released.clear(),this.pressedRepeat.clear()}press(n){this.pressed.add(n),this.pressedRepeat.add(n),this.down.add(n)}pressRepeat(n){this.pressedRepeat.add(n)}release(n){this.down.delete(n),this.pressed.delete(n),this.released.add(n)}},DA=class{buttonState=new Tu;stickState=new Map},OA=class{dts=[];timer=0;fps=0;tick(n){this.dts.push(n),this.timer+=n,this.timer>=1&&(this.timer=0,this.fps=Math.round(1/(this.dts.reduce((a,u)=>a+u)/this.dts.length)),this.dts=[])}},vl,Zm=EA,RA=n=>{let a=n.buttons??{};return{canvas:n.canvas,buttons:a,buttonsByKey:new Map,buttonsByMouse:new Map,buttonsByGamepad:new Map,buttonsByKeyCode:new Map,loopID:null,stopped:!1,dt:0,fixedDt:1/50,restDt:0,time:0,realTime:0,fpsCounter:new OA,timeScale:1,skipTime:!1,isHidden:!1,numFrames:0,mousePos:new F(0),mouseDeltaPos:new F(0),keyState:new Tu,mouseState:new Tu,mergedGamepadState:new DA,gamepadStates:new Map,lastInputDevice:null,buttonState:new Tu,gamepads:[],charInputted:[],isMouseMoved:!1,lastWidth:n.canvas.offsetWidth,lastHeight:n.canvas.offsetHeight,events:new Ru}},CA=n=>{if(!n.canvas)throw new Error("Please provide a canvas");let a=RA(n);vl=a,qA();function u(){return a.dt*a.timeScale}function s(){return a.fixedDt*a.timeScale}function o(){return a.restDt*a.timeScale}function f(){return a.isHidden}function d(){return a.time}function y(){return a.fpsCounter.fps}function m(){return a.numFrames}function h(){return a.canvas.toDataURL()}function b(T){a.canvas.style.cursor=T}function S(){return a.canvas.style.cursor}function p(T){if(T)try{let Q=a.canvas.requestPointerLock();Q?.catch&&Q.catch($=>console.error($))}catch(Q){console.error(Q)}else document.exitPointerLock()}function M(){return!!document.pointerLockElement}function E(T){T.requestFullscreen?T.requestFullscreen():T.webkitRequestFullscreen&&T.webkitRequestFullscreen()}function D(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullScreen&&document.webkitExitFullScreen()}function x(T=!0){T?E(a.canvas):D()}function w(){return document.fullscreenElement===a.canvas||document.webkitFullscreenElement===a.canvas}function U(){a.stopped=!0;let T=Object.entries(ze),Q=Object.entries(Ei),$=Object.entries(Qn);for(let[at,Nt]of T)a.canvas.removeEventListener(at,Nt);for(let[at,Nt]of Q)document.removeEventListener(at,Nt);for(let[at,Nt]of $)window.removeEventListener(at,Nt);pa.disconnect()}function V(T,Q){a.loopID!==null&&cancelAnimationFrame(a.loopID);let $=0,at=0,Nt=Kt=>{if(a.stopped)return;if(document.visibilityState!=="visible"){a.loopID=requestAnimationFrame(Nt);return}let Be=Kt/1e3,Kn=Math.min(Be-a.realTime,.25),Fe=n.maxFPS?1/n.maxFPS:0;if(a.realTime=Be,at+=Kn,at>Fe){if(!a.skipTime){for($+=at,a.dt=a.fixedDt,a.restDt=0;$>a.fixedDt;)$-=a.fixedDt,$<a.fixedDt&&(a.restDt=$),T();a.restDt=$,a.dt=at,a.time+=u(),a.fpsCounter.tick(a.dt)}at=0,a.skipTime=!1,a.numFrames++,Q(ka,Re)}a.loopID=requestAnimationFrame(Nt)};Nt(0)}function P(){return"ontouchstart"in window||navigator.maxTouchPoints>0}function G(){return a.mousePos.clone()}function O(){return a.mouseDeltaPos.clone()}function R(T="left"){return a.mouseState.pressed.has(T)}function X(T="left"){return a.mouseState.down.has(T)}function K(T="left"){return a.mouseState.released.has(T)}function tt(){return a.isMouseMoved}function et(T){return T===void 0?a.keyState.pressed.size>0:Gn(a.keyState.pressed,T)}function ut(T){return T===void 0?a.keyState.pressedRepeat.size>0:Gn(a.keyState.pressedRepeat,T)}function vt(T){return T===void 0?a.keyState.down.size>0:Gn(a.keyState.down,T)}function pt(T){return T===void 0?a.keyState.released.size>0:Gn(a.keyState.released,T)}function yt(T){return T===void 0?a.mergedGamepadState.buttonState.pressed.size>0:Gn(a.mergedGamepadState.buttonState.pressed,T)}function N(T){return T===void 0?a.mergedGamepadState.buttonState.down.size>0:Gn(a.mergedGamepadState.buttonState.down,T)}function k(T){return T===void 0?a.mergedGamepadState.buttonState.released.size>0:Gn(a.mergedGamepadState.buttonState.released,T)}function lt(T){return T===void 0?a.buttonState.pressed.size>0:Gn(a.buttonState.pressed,T)}function rt(T){return T===void 0?a.buttonState.down.size>0:Gn(a.buttonState.down,T)}function ft(T){return T===void 0?a.buttonState.released.size>0:Gn(a.buttonState.released,T)}function C(T){return a.buttons?.[T]}function j(T,Q){a.buttons[T]={...a.buttons[T],...Q}}function nt(T){a.buttonState.press(T),a.events.trigger("buttonPress",T)}function it(T){a.buttonState.release(T),a.events.trigger("buttonRelease",T)}function mt(T){return a.events.on("resize",T)}let bt=It(T=>a.events.on("keyDown",T),(T,Q)=>a.events.on("keyDown",$=>bn(T,$)&&Q($))),Ot=It(T=>a.events.on("keyPress",Q=>T(Q)),(T,Q)=>a.events.on("keyPress",$=>bn(T,$)&&Q($))),re=It(T=>a.events.on("keyPressRepeat",T),(T,Q)=>a.events.on("keyPressRepeat",$=>bn(T,$)&&Q($))),Zt=It(T=>a.events.on("keyRelease",T),(T,Q)=>a.events.on("keyRelease",$=>bn(T,$)&&Q($))),rn=It(T=>a.events.on("mouseDown",Q=>T(Q)),(T,Q)=>a.events.on("mouseDown",$=>bn(T,$)&&Q($))),De=It(T=>a.events.on("mousePress",Q=>T(Q)),(T,Q)=>a.events.on("mousePress",$=>bn(T,$)&&Q($))),ga=It(T=>a.events.on("mouseRelease",Q=>T(Q)),(T,Q)=>a.events.on("mouseRelease",$=>$===T&&Q($)));function ct(T){return a.events.on("mouseMove",()=>T(G(),O()))}function gt(T){return a.events.on("charInput",T)}function xt(T){return a.events.on("touchStart",T)}function Yt(T){return a.events.on("touchMove",T)}function oe(T){return a.events.on("touchEnd",T)}function zt(T){return a.events.on("scroll",T)}function ge(T){return a.events.on("hide",T)}function on(T){return a.events.on("show",T)}let Fa=It(T=>a.events.on("gamepadButtonPress",(Q,$)=>T(Q,$)),(T,Q)=>a.events.on("gamepadButtonPress",($,at)=>bn(T,$)&&Q($,at))),xi=It(T=>a.events.on("gamepadButtonDown",(Q,$)=>T(Q,$)),(T,Q)=>a.events.on("gamepadButtonDown",($,at)=>bn(T,$)&&Q($,at))),Si=It(T=>a.events.on("gamepadButtonRelease",(Q,$)=>T(Q,$)),(T,Q)=>a.events.on("gamepadButtonRelease",($,at)=>bn(T,$)&&Q($,at)));function ye(T,Q){return a.events.on("gamepadStick",($,at,Nt)=>$===T&&Q(at,Nt))}function ql(T){a.events.on("gamepadConnect",T)}function Je(T){a.events.on("gamepadDisconnect",T)}function Tn(T){return a.mergedGamepadState.stickState.get(T)||new F(0)}function Vn(){return[...a.charInputted]}function Oe(){return[...a.gamepads]}let ma=It(T=>a.events.on("buttonPress",Q=>T(Q)),(T,Q)=>a.events.on("buttonPress",$=>bn(T,$)&&Q($))),qn=It(T=>a.events.on("buttonDown",Q=>T(Q)),(T,Q)=>a.events.on("buttonDown",$=>bn(T,$)&&Q($))),Dl=It(T=>a.events.on("buttonRelease",Q=>T(Q)),(T,Q)=>a.events.on("buttonRelease",$=>bn(T,$)&&Q($)));function ka(){a.events.trigger("input"),a.keyState.down.forEach(T=>a.events.trigger("keyDown",T)),a.mouseState.down.forEach(T=>a.events.trigger("mouseDown",T)),a.buttonState.down.forEach(T=>{a.events.trigger("buttonDown",T)}),Er()}function Re(){a.keyState.update(),a.mouseState.update(),a.buttonState.update(),a.mergedGamepadState.buttonState.update(),a.mergedGamepadState.stickState.forEach((T,Q)=>{a.mergedGamepadState.stickState.set(Q,new F(0))}),a.charInputted=[],a.isMouseMoved=!1,a.mouseDeltaPos=new F(0),a.gamepadStates.forEach(T=>{T.buttonState.update(),T.stickState.forEach((Q,$)=>{T.stickState.set($,new F(0))})})}function Dn(T){let Q={index:T.index,isPressed:$=>a.gamepadStates.get(T.index)?.buttonState.pressed.has($)||!1,isDown:$=>a.gamepadStates.get(T.index)?.buttonState.down.has($)||!1,isReleased:$=>a.gamepadStates.get(T.index)?.buttonState.released.has($)||!1,getStick:$=>a.gamepadStates.get(T.index)?.stickState.get($)||L()};return a.gamepads.push(Q),a.gamepadStates.set(T.index,{buttonState:new Tu,stickState:new Map([["left",new F(0)],["right",new F(0)]])}),Q}function Ce(T){a.gamepads=a.gamepads.filter(Q=>Q.index!==T.index),a.gamepadStates.delete(T.index)}function Er(){for(let T of navigator.getGamepads())T&&!a.gamepadStates.has(T.index)&&Dn(T);for(let T of a.gamepads){let Q=navigator.getGamepads()[T.index];if(!Q)continue;let $=(n.gamepads??{})[Q.id]||Zm[Q.id]||Zm.default,at=a.gamepadStates.get(T.index);if(at){for(let Nt=0;Nt<Q.buttons.length;Nt++){let Kt=$.buttons[Nt],Be=Q.buttons[Nt],Kn=a.buttonsByGamepad.has(Kt);if(Be.pressed){if(at.buttonState.down.has(Kt)){a.events.trigger("gamepadButtonDown",Kt,T);continue}a.lastInputDevice="gamepad",Kn&&a.buttonsByGamepad.get(Kt)?.forEach(Fe=>{a.buttonState.press(Fe),a.events.trigger("buttonPress",Fe)}),a.mergedGamepadState.buttonState.press(Kt),at.buttonState.press(Kt),a.events.trigger("gamepadButtonPress",Kt,T)}else at.buttonState.down.has(Kt)&&(Kn&&a.buttonsByGamepad.get(Kt)?.forEach(Fe=>{a.buttonState.release(Fe),a.events.trigger("buttonRelease",Fe)}),a.mergedGamepadState.buttonState.release(Kt),at.buttonState.release(Kt),a.events.trigger("gamepadButtonRelease",Kt,T))}for(let Nt in $.sticks){let Kt=$.sticks[Nt];if(!Kt)continue;let Be=new F(Q.axes[Kt.x],Q.axes[Kt.y]);at.stickState.set(Nt,Be),a.mergedGamepadState.stickState.set(Nt,Be),a.events.trigger("gamepadStick",Nt,Be,T)}}}}let ze={},Ei={},Qn={},Wa=n.pixelDensity||1;ze.mousemove=T=>{let Q=fa(new F(T.offsetX,T.offsetY)),$=new F(T.movementX,T.movementY);if(w()){let at=a.canvas.width/Wa,Nt=a.canvas.height/Wa,Kt=window.innerWidth,Be=window.innerHeight,Kn=Kt/Be,Fe=at/Nt;if(Kn>Fe){let On=Be/Nt,Ol=(Kt-at*On)/2;Q.x=Yn(T.offsetX-Ol,0,at*On,0,at),Q.y=Yn(T.offsetY,0,Nt*On,0,Nt)}else{let On=Kt/at,Ol=(Be-Nt*On)/2;Q.x=Yn(T.offsetX,0,at*On,0,at),Q.y=Yn(T.offsetY-Ol,0,Nt*On,0,Nt)}}a.events.onOnce("input",()=>{a.isMouseMoved=!0,a.mousePos=Q,a.mouseDeltaPos=$,a.events.trigger("mouseMove")})};let Ia=["left","middle","right","back","forward"];ze.mousedown=T=>{a.events.onOnce("input",()=>{let Q=Ia[T.button];Q&&(a.lastInputDevice="mouse",a.buttonsByMouse.has(Q)&&a.buttonsByMouse.get(Q)?.forEach($=>{a.buttonState.press($),a.events.trigger("buttonPress",$)}),a.mouseState.press(Q),a.events.trigger("mousePress",Q))})},ze.mouseup=T=>{a.events.onOnce("input",()=>{let Q=Ia[T.button];Q&&(a.buttonsByMouse.has(Q)&&a.buttonsByMouse.get(Q)?.forEach($=>{a.buttonState.release($),a.events.trigger("buttonRelease",$)}),a.mouseState.release(Q),a.events.trigger("mouseRelease",Q))})};let Zn=new Set([" ","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Tab"]),Pa={ArrowLeft:"left",ArrowRight:"right",ArrowUp:"up",ArrowDown:"down"," ":"space"};ze.keydown=T=>{Zn.has(T.key)&&T.preventDefault(),a.events.onOnce("input",()=>{let Q=Pa[T.key]||T.key.toLowerCase(),$=T.code;if(Q===void 0)throw new Error(`Unknown key: ${T.key}`);Q.length===1?(a.events.trigger("charInput",Q),a.charInputted.push(Q)):Q==="space"&&(a.events.trigger("charInput"," "),a.charInputted.push(" ")),T.repeat?(a.keyState.pressRepeat(Q),a.events.trigger("keyPressRepeat",Q)):(a.lastInputDevice="keyboard",a.buttonsByKey.has(Q)&&a.buttonsByKey.get(Q)?.forEach(at=>{a.buttonState.press(at),a.events.trigger("buttonPress",at)}),a.buttonsByKeyCode.has($)&&a.buttonsByKeyCode.get($)?.forEach(at=>{a.buttonState.press(at),a.events.trigger("buttonPress",at)}),a.keyState.press(Q),a.events.trigger("keyPressRepeat",Q),a.events.trigger("keyPress",Q))})},ze.keyup=T=>{a.events.onOnce("input",()=>{let Q=Pa[T.key]||T.key.toLowerCase(),$=T.code;a.buttonsByKey.has(Q)&&a.buttonsByKey.get(Q)?.forEach(at=>{a.buttonState.release(at),a.events.trigger("buttonRelease",at)}),a.buttonsByKeyCode.has($)&&a.buttonsByKeyCode.get($)?.forEach(at=>{a.buttonState.release(at),a.events.trigger("buttonRelease",at)}),a.keyState.release(Q),a.events.trigger("keyRelease",Q)})},ze.touchstart=T=>{T.preventDefault(),a.events.onOnce("input",()=>{let Q=[...T.changedTouches],$=a.canvas.getBoundingClientRect();n.touchToMouse!==!1&&(a.mousePos=fa(new F(Q[0].clientX-$.x,Q[0].clientY-$.y)),a.lastInputDevice="mouse",a.buttonsByMouse.has("left")&&a.buttonsByMouse.get("left")?.forEach(at=>{a.buttonState.press(at),a.events.trigger("buttonPress",at)}),a.mouseState.press("left"),a.events.trigger("mousePress","left")),Q.forEach(at=>{a.events.trigger("touchStart",fa(new F(at.clientX-$.x,at.clientY-$.y)),at)})})},ze.touchmove=T=>{T.preventDefault(),a.events.onOnce("input",()=>{let Q=[...T.changedTouches],$=a.canvas.getBoundingClientRect();if(n.touchToMouse!==!1){let at=a.mousePos;a.mousePos=fa(new F(Q[0].clientX-$.x,Q[0].clientY-$.y)),a.mouseDeltaPos=a.mousePos.sub(at),a.events.trigger("mouseMove")}Q.forEach(at=>{a.events.trigger("touchMove",fa(new F(at.clientX-$.x,at.clientY-$.y)),at)})})},ze.touchend=T=>{a.events.onOnce("input",()=>{let Q=[...T.changedTouches],$=a.canvas.getBoundingClientRect();n.touchToMouse!==!1&&(a.mousePos=fa(new F(Q[0].clientX-$.x,Q[0].clientY-$.y)),a.mouseDeltaPos=new F(0,0),a.buttonsByMouse.has("left")&&a.buttonsByMouse.get("left")?.forEach(at=>{a.buttonState.release(at),a.events.trigger("buttonRelease",at)}),a.mouseState.release("left"),a.events.trigger("mouseRelease","left")),Q.forEach(at=>{a.events.trigger("touchEnd",fa(new F(at.clientX-$.x,at.clientY-$.y)),at)})})},ze.touchcancel=T=>{a.events.onOnce("input",()=>{let Q=[...T.changedTouches],$=a.canvas.getBoundingClientRect();n.touchToMouse!==!1&&(a.mousePos=fa(new F(Q[0].clientX-$.x,Q[0].clientY-$.y)),a.mouseState.release("left"),a.events.trigger("mouseRelease","left")),Q.forEach(at=>{a.events.trigger("touchEnd",fa(new F(at.clientX-$.x,at.clientY-$.y)),at)})})},ze.wheel=T=>{T.preventDefault(),a.events.onOnce("input",()=>{a.events.trigger("scroll",new F(T.deltaX,T.deltaY))})},ze.contextmenu=T=>T.preventDefault(),Ei.visibilitychange=()=>{document.visibilityState==="visible"?(a.skipTime=!0,a.isHidden=!1,a.events.trigger("show")):(a.isHidden=!0,a.events.trigger("hide"))},Qn.gamepadconnected=T=>{let Q=Dn(T.gamepad);a.events.onOnce("input",()=>{a.events.trigger("gamepadConnect",Q)})},Qn.gamepaddisconnected=T=>{let Q=Oe().filter($=>$.index===T.gamepad.index)[0];Ce(T.gamepad),a.events.onOnce("input",()=>{a.events.trigger("gamepadDisconnect",Q)})};for(let[T,Q]of Object.entries(ze))a.canvas.addEventListener(T,Q);for(let[T,Q]of Object.entries(Ei))document.addEventListener(T,Q);for(let[T,Q]of Object.entries(Qn))window.addEventListener(T,Q);let pa=new ResizeObserver(T=>{for(let Q of T)if(Q.target===a.canvas){if(a.lastWidth===a.canvas.offsetWidth&&a.lastHeight===a.canvas.offsetHeight)return;a.lastWidth=a.canvas.offsetWidth,a.lastHeight=a.canvas.offsetHeight,a.events.onOnce("input",()=>{a.events.trigger("resize")})}});return pa.observe(a.canvas),{state:a,dt:u,fixedDt:s,restDt:o,time:d,run:V,canvas:a.canvas,fps:y,numFrames:m,quit:U,isHidden:f,setFullscreen:x,isFullscreen:w,setCursor:b,screenshot:h,getGamepads:Oe,getCursor:S,setCursorLocked:p,isCursorLocked:M,isTouchscreen:P,mousePos:G,mouseDeltaPos:O,isKeyDown:vt,isKeyPressed:et,isKeyPressedRepeat:ut,isKeyReleased:pt,isMouseDown:X,isMousePressed:R,isMouseReleased:K,isMouseMoved:tt,isGamepadButtonPressed:yt,isGamepadButtonDown:N,isGamepadButtonReleased:k,getGamepadStick:Tn,isButtonPressed:lt,isButtonDown:rt,isButtonReleased:ft,setButton:j,getButton:C,pressButton:nt,releaseButton:it,charInputted:Vn,onResize:mt,onKeyDown:bt,onKeyPress:Ot,onKeyPressRepeat:re,onKeyRelease:Zt,onMouseDown:rn,onMousePress:De,onMouseRelease:ga,onMouseMove:ct,onCharInput:gt,onTouchStart:xt,onTouchMove:Yt,onTouchEnd:oe,onScroll:zt,onHide:ge,onShow:on,onGamepadButtonDown:xi,onGamepadButtonPress:Fa,onGamepadButtonRelease:Si,onGamepadStick:ye,onGamepadConnect:ql,onGamepadDisconnect:Je,onButtonPress:ma,onButtonDown:qn,onButtonRelease:Dl,getLastInputDeviceType:TA,events:a.events}};function Me(){return v.app.dt()}function af(){return v.app.fixedDt()}function lf(){return v.app.restDt()}var zA=new F(-1,-1),BA=new F(0,-1),UA=new F(1,-1),NA=new F(-1,0),HA=new F(0,0),_A=new F(1,0),jA=new F(-1,1),GA=new F(0,1),YA=new F(1,1);function bi(n){switch(n){case"topleft":return zA;case"top":return BA;case"topright":return UA;case"left":return NA;case"center":return HA;case"right":return _A;case"botleft":return jA;case"bot":return GA;case"botright":return YA;default:return n}}function LA(n){switch(n){case"left":return 0;case"center":return .5;case"right":return 1;default:return 0}}function XA(n){return n.createBuffer(1,1,44100)}var Ps=2.5949095,Km=1.70158+1,Jm=2*Math.PI/3,Fm=2*Math.PI/4.5,er={linear:n=>n,easeInSine:n=>1-Math.cos(n*Math.PI/2),easeOutSine:n=>Math.sin(n*Math.PI/2),easeInOutSine:n=>-(Math.cos(Math.PI*n)-1)/2,easeInQuad:n=>n*n,easeOutQuad:n=>1-(1-n)*(1-n),easeInOutQuad:n=>n<.5?2*n*n:1-Math.pow(-2*n+2,2)/2,easeInCubic:n=>n*n*n,easeOutCubic:n=>1-Math.pow(1-n,3),easeInOutCubic:n=>n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2,easeInQuart:n=>n*n*n*n,easeOutQuart:n=>1-Math.pow(1-n,4),easeInOutQuart:n=>n<.5?8*n*n*n*n:1-Math.pow(-2*n+2,4)/2,easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>1-Math.pow(1-n,5),easeInOutQuint:n=>n<.5?16*n*n*n*n*n:1-Math.pow(-2*n+2,5)/2,easeInExpo:n=>n===0?0:Math.pow(2,10*n-10),easeOutExpo:n=>n===1?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>n===0?0:n===1?1:n<.5?Math.pow(2,20*n-10)/2:(2-Math.pow(2,-20*n+10))/2,easeInCirc:n=>1-Math.sqrt(1-Math.pow(n,2)),easeOutCirc:n=>Math.sqrt(1-Math.pow(n-1,2)),easeInOutCirc:n=>n<.5?(1-Math.sqrt(1-Math.pow(2*n,2)))/2:(Math.sqrt(1-Math.pow(-2*n+2,2))+1)/2,easeInBack:n=>Km*n*n*n-1.70158*n*n,easeOutBack:n=>1+Km*Math.pow(n-1,3)+1.70158*Math.pow(n-1,2),easeInOutBack:n=>n<.5?Math.pow(2*n,2)*((Ps+1)*2*n-Ps)/2:(Math.pow(2*n-2,2)*((Ps+1)*(n*2-2)+Ps)+2)/2,easeInElastic:n=>n===0?0:n===1?1:-Math.pow(2,10*n-10)*Math.sin((n*10-10.75)*Jm),easeOutElastic:n=>n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n*10-.75)*Jm)+1,easeInOutElastic:n=>n===0?0:n===1?1:n<.5?-(Math.pow(2,20*n-10)*Math.sin((20*n-11.125)*Fm))/2:Math.pow(2,-20*n+10)*Math.sin((20*n-11.125)*Fm)/2+1,easeInBounce:n=>1-er.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?(1-er.easeOutBounce(1-2*n))/2:(1+er.easeOutBounce(2*n-1))/2},Cu=er;function VA(n,a,u){let s=[],o=a;for(s.push(o);o!==n;){if(o=u.get(o),o==null)return null;s.push(o)}return s.reverse()}function QA(n,a,u){let s=new Op((d,y)=>d.cost<y.cost);s.insert({cost:0,node:a});let o=new Map;o.set(a,a);let f=new Map;for(f.set(a,0);s.length!==0;){let d=s.remove()?.node;if(d===u)break;let y=n.getNeighbours(d);for(let m of y){let h=(f.get(d)||0)+n.getCost(d,m)+n.getHeuristic(m,u);(!f.has(m)||h<f.get(m))&&(f.set(m,h),s.insert({cost:h,node:m}),o.set(m,d))}}return VA(a,u,o)}var ZA=class{a;b;polygon;constructor(n,a,u){this.a=n,this.b=a,this.polygon=new WeakRef(u)}isLeft(n,a){return(this.b.x-this.a.x)*(a-this.a.y)-(n-this.a.x)*(this.b.y-this.a.y)}get middle(){return this.a.add(this.b).scale(.5)}},KA=class{_edges;_centroid;_id;constructor(n){this._id=n}get id(){return this._id}set edges(n){this._edges=n;let a=0,u=0,s=0;for(let o of this._edges){o.polygon=new WeakRef(this);let f=o.a.x*o.b.y-o.a.y*o.b.x;a+=(o.a.x+o.b.x)*f,u+=(o.a.y+o.b.y)*f,s+=f}s/=2,this._centroid=L(a/(6*s),u/(6*s))}get edges(){return this._edges}get centroid(){return this._centroid}contains(n){let a=!1;for(let u of this.edges)u.b.y>n.y!=u.a.y>n.y&&n.x<(u.a.x-u.b.x)*(n.y-u.b.y)/(u.a.y-u.b.y)+u.b.x&&(a=!a);return a}},JA=class{_polygons;_pointCache;_edgeCache;constructor(){this._polygons=[],this._pointCache={},this._edgeCache={}}_addPoint(n){let a=this._pointCache[`${n.x}_${n.y}`];return a||(a=n.clone(),this._pointCache[`${n.x}_${n.y}`]=a,a)}_addEdge(n){let a=`${n.a.x}_${n.a.y}-${n.b.x}_${n.b.y}`;return this._edgeCache[a]=n,n}_findEdge(n,a){let u=`${n.x}_${n.y}-${a.x}_${a.y}`;return this._edgeCache[u]}_findCommonEdge(n,a){for(let u of n.edges){let s=this._findEdge(u.b,u.a);if(s&&s.polygon.deref().id===a.id)return s}return null}addPolygon(n){let a=new KA(this._polygons.length),u=n.map((s,o)=>new ZA(s,n[(o+1)%n.length],a));a.edges=u,this._polygons.push(a);for(let s of a.edges)this._addEdge(s);return a}addRect(n,a){let u=this._addPoint(n),s=this._addPoint(n.add(a.x,0)),o=this._addPoint(n.add(a)),f=this._addPoint(n.add(0,a.y));return this.addPolygon([u,s,o,f])}_getLocation(n){for(let a of this._polygons)if(a.contains(n))return a;return null}getNeighbours(n){let a=[];for(let u of this._polygons[n].edges){let s=this._findEdge(u.b,u.a);if(s){let o=s.polygon.deref();o&&a.push(o.id)}}return a}getCost(n,a){return 1}getHeuristic(n,a){let u=this._polygons[n],s=this._polygons[a],o=u.centroid.x-s.centroid.x,f=u.centroid.y-s.centroid.y;return Math.sqrt(o*o+f*f)}getPath(n,a){return n===void 0||a===void 0?[]:n===a?[n,a]:QA(this,n,a)}getWaypointPath(n,a,u){let s=u?.type||"centroids",o=this._getLocation(n),f=this._getLocation(a);if(o===void 0||f===void 0)return[];let d=this.getPath(o.id,f.id);if(!d)return[];if(s==="edges"){let y=[];for(let m=1;m<d.length;m++){let h=this._polygons[d[m-1]],b=this._polygons[d[m]],S=this._findCommonEdge(h,b);y.push(S.middle.add(b.centroid.sub(S.middle).unit().scale(4)))}return[n,...y,a]}else return[n,...d.slice(1,-1).map(y=>this._polygons[y].centroid),a]}};function qu(n){let a=new Xn;return n.pos&&a.translate(n.pos),n.scale&&a.scale(n.scale),n.angle&&a.rotate(n.angle),n.parent?a.mult(n.parent.transform):a}function FA(n){return new F(n.x/qe()*2-1,-n.y/Ne()*2+1)}function Su(n,a,u,s,o,f=1){s=de(s%360),o=de(o%360),o<=s&&(o+=Math.PI*2);let d=[],y=Math.ceil((o-s)/de(8)*f),m=(o-s)/y,h=L(Math.cos(s),Math.sin(s)),b=L(Math.cos(m),Math.sin(m));for(let S=0;S<=y;S++)d.push(n.add(a*h.x,u*h.y)),h=L(h.x*b.x-h.y*b.y,h.x*b.y+h.y*b.x);return d}function kA(...n){let a=Gt(...n),u=n[3]??1;v.gfx.bgColor=a,v.gfx.bgAlpha=u,v.gfx.ggl.gl.clearColor(a.r/255,a.g/255,a.b/255,u)}function WA(){return v.gfx.bgColor?.clone?.()??null}function ae(...n){if(n[0]===void 0)return;let a=L(...n);a.x===0&&a.y===0||v.gfx.transform.translate(a)}function wn(){v.gfx.transformStack.push(v.gfx.transform.clone())}function IA(n){v.gfx.transform=n.clone()}function zu(...n){if(n[0]===void 0)return;let a=L(...n);a.x===1&&a.y===1||v.gfx.transform.scale(a)}function vi(n){n&&v.gfx.transform.rotate(n)}function nn(){v.gfx.transformStack.length>0&&(v.gfx.transform=v.gfx.transformStack.pop())}function xn(){v.gfx.renderer.flush()}function qe(){return v.gfx.width}function Ne(){return v.gfx.height}function Bp(){return(v.gfx.viewport.width+v.gfx.viewport.height)/(v.gfx.width+v.gfx.height)}function cr(){return L(qe()/2,Ne()/2)}var PA=class{lastTextureId=0;textures=[];bigTextures=[];texturesPosition=new Map;canvas;c2d;x=0;y=0;curHeight=0;gfx;padding;constructor(n,a,u,s){this.gfx=n,this.canvas=document.createElement("canvas"),this.canvas.width=a,this.canvas.height=u,this.textures=[Va.fromImage(n,this.canvas)],this.bigTextures=[],this.padding=s;let o=this.canvas.getContext("2d");if(!o)throw new Error("Failed to get 2d context");this.c2d=o}addSingle(n){let a=Va.fromImage(this.gfx,n);return this.bigTextures.push(a),[a,new te(0,0,1,1),0]}add(n){let a=n.width+this.padding*2,u=n.height+this.padding*2;if(a>this.canvas.width||u>this.canvas.height)return this.addSingle(n);this.x+a>this.canvas.width&&(this.x=0,this.y+=this.curHeight,this.curHeight=0),this.y+u>this.canvas.height&&(this.c2d.clearRect(0,0,this.canvas.width,this.canvas.height),this.textures.push(Va.fromImage(this.gfx,this.canvas)),this.x=0,this.y=0,this.curHeight=0);let s=this.textures[this.textures.length-1],o=new F(this.x+this.padding,this.y+this.padding);return this.x+=a,u>this.curHeight&&(this.curHeight=u),n instanceof ImageData?this.c2d.putImageData(n,o.x,o.y):this.c2d.drawImage(n,o.x,o.y),s.update(this.canvas),this.texturesPosition.set(this.lastTextureId,{position:o,size:new F(n.width,n.height),texture:s}),this.lastTextureId++,[s,new te(o.x/this.canvas.width,o.y/this.canvas.height,n.width/this.canvas.width,n.height/this.canvas.height),this.lastTextureId-1]}free(){for(let n of this.textures)n.free();for(let n of this.bigTextures)n.free()}};function En(n){return typeof n!="string"||Cp(n)?n:v.assets.urlPrefix+n}var Mn=class Up{loaded=!1;data=null;error=null;onLoadEvents=new Qe;onErrorEvents=new Qe;onFinishEvents=new Qe;constructor(a){a.then(u=>{this.loaded=!0,this.data=u,this.onLoadEvents.trigger(u)}).catch(u=>{if(this.error=u,this.onErrorEvents.numListeners()>0)this.onErrorEvents.trigger(u);else throw u}).finally(()=>{this.onFinishEvents.trigger(),this.loaded=!0})}static loaded(a){let u=new Up(Promise.resolve(a));return u.data=a,u.loaded=!0,u}onLoad(a){return this.loaded&&this.data?a(this.data):this.onLoadEvents.add(a),this}onError(a){return this.loaded&&this.error?a(this.error):this.onErrorEvents.add(a),this}onFinish(a){return this.loaded?a():this.onFinishEvents.add(a),this}then(a){return this.onLoad(a)}catch(a){return this.onError(a)}finally(a){return this.onFinish(a)}},gi=class{assets=new Map;lastUID=0;add(n,a){let u=n??this.lastUID+++"",s=new Mn(a);return this.assets.set(u,s),s}addLoaded(n,a){let u=n??this.lastUID+++"",s=Mn.loaded(a);return this.assets.set(u,s),s}get(n){return this.assets.get(n)}progress(){if(this.assets.size===0)return 1;let n=0;return this.assets.forEach(a=>{a.loaded&&n++}),n/this.assets.size}getFailedAssets(){return Array.from(this.assets.keys()).filter(n=>this.assets.get(n).error!==null).map(n=>[n,this.assets.get(n)])}};function Df(n){return fetch(n).then(a=>{if(!a.ok)throw new Error(`Failed to fetch "${n}"`);return a})}function br(n){return Df(n).then(a=>a.json())}function $A(n){return Df(n).then(a=>a.text())}function t2(n){return Df(n).then(a=>a.arrayBuffer())}function e2(n){return n!==void 0&&(v.assets.urlPrefix=n),v.assets.urlPrefix}function n2(n,a){return v.assets.custom.add(n,br(En(a)))}function wr(n){let a=new Image;return a.crossOrigin="anonymous",a.src=n,new Promise((u,s)=>{a.onload=()=>u(a),a.onerror=()=>s(new Error(`Failed to load image from "${n}"`))})}function wl(){let n=[v.assets.sprites,v.assets.sounds,v.assets.shaders,v.assets.fonts,v.assets.bitmapFonts,v.assets.custom];return n.reduce((a,u)=>a+u.progress(),0)/n.length}function Np(){return[v.assets.sprites,v.assets.sounds,v.assets.shaders,v.assets.fonts,v.assets.bitmapFonts,v.assets.custom].reduce((n,a)=>n.concat(a.getFailedAssets()),[])}function a2(n){return v.assets.custom.get(n)??null}function uf(n){return v.assets.custom.add(null,n)}var l2=(n,a)=>({urlPrefix:"",sprites:new gi,fonts:new gi,bitmapFonts:new gi,sounds:new gi,shaders:new gi,custom:new gi,music:{},packer:new PA(n,2048,2048,a),loaded:!1}),i2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAAA1CAYAAADyMeOEAAAAAXNSR0IArs4c6QAAAoVJREFUaIHdm7txwkAQhheGAqACiCHzOKQDQrqgILpwSAeEDBnEUAF0gCMxZ7G72qce/mec2Lpf9+3unaS78wgSNZ8uX5729+d1FNWXUuGmXlBOUUEIMckEpeQJgBu6C+BSFngztBR2vd+ovY+7g+p6LbgaWgJrAeUkDYIUXgXdBBwNi6kpABJwMTQH3AZsXRR8GHTfgEth8E3gjdAUcNewpbTgY85sCMCUuOokozE0YM0YRzM9NGAAXd8+omAF5h4lnmBRvpSnZHyLoLEbaN+aKB9KWv/KWw0tAbbANnlG+UvB2dm77NxxdwgBpjrF/d7rW9cbmpvio2A5z8iAYpVU8pGZlo6/2+MSco2lHfd3rv9jAP038e1xef9o2mjvYb2OqpqKE81028/jeietlSEVO5FRWsxWsJit1G3aFpW8iWe5RwpiCZAk25QvV6nz6fIlynRGuTd5WqpJ4guAlDfVKBK87hXljflgv1ON6fV+4+5gVlA17SfeG0heKqQd4l4jI/wrmaA9N9R4ar+wpHJDZyrrfcH0nB66PqAzPi76pn+faSyJk/vzOorYhGurQrzj/P68jtBMawHaHBIR9xoD5O34dy0qQOSYHvqExq2TpT2nf76+w7y251OYF0CRaU+J920TwLUa6inx6OxE6g80lu2ux7Y2eJLF/rCXE6zEPdnenk9o+4ih9AEdnW2q81HXl5LuU6OTl2fXUhqganbXAGq3g6jJOWV/OnoesO6YqqEB/GdNsjf7uHtwj2DzmRNpp7iOZfm6D9oAxB6Yi1gC4oIYeo4MIPdopEQRB+cAko5J1tW386HpB2Kz1eop4Epdwls/kgZ1sh8gZsEjdcWkr//D8Qu3Z3l5Nl1NtAAAAABJRU5ErkJggg==",Za=class Eu{tex;frames=[new te(0,0,1,1)];anims={};slice9=null;constructor(a,u,s={},o=null){this.tex=a,u&&(this.frames=u),this.anims=s,this.slice9=o}get width(){return this.tex.width*this.frames[0].w}get height(){return this.tex.height*this.frames[0].h}static from(a,u={}){return typeof a=="string"?Eu.fromURL(a,u):Promise.resolve(Eu.fromImage(a,u))}static fromImage(a,u={}){let[s,o]=u.singular?v.assets.packer.addSingle(a):v.assets.packer.add(a),f=u.frames?u.frames.map(d=>new te(o.x+d.x*o.w,o.y+d.y*o.h,d.w*o.w,d.h*o.h)):_p(u.sliceX||1,u.sliceY||1,o.x,o.y,o.w,o.h);return new Eu(s,f,u.anims,u.slice9)}static fromURL(a,u={}){return wr(a).then(s=>Eu.fromImage(s,u))}};function nr(n){if(typeof n=="string"){let a=Hp(n);if(a)return a;if(wl()<1)return null;throw new Error(`Sprite not found: ${n}`)}else{if(n instanceof Za)return Mn.loaded(n);if(n instanceof Mn)return n;throw new Error(`Invalid sprite: ${n}`)}}function Hp(n){return v.assets.sprites.get(n)??null}function Du(n,a,u={sliceX:1,sliceY:1,anims:{}}){return a=En(a),Array.isArray(a)?a.some(s=>typeof s=="string")?v.assets.sprites.add(n,Promise.all(a.map(s=>typeof s=="string"?wr(s):Promise.resolve(s))).then(s=>km(s,u))):v.assets.sprites.addLoaded(n,km(a,u)):typeof a=="string"?v.assets.sprites.add(n,Za.from(a,u)):v.assets.sprites.addLoaded(n,Za.fromImage(a,u))}function _p(n=1,a=1,u=0,s=0,o=1,f=1){let d=[],y=o/n,m=f/a;for(let h=0;h<a;h++)for(let b=0;b<n;b++)d.push(new te(u+b*y,s+h*m,y,m));return d}function km(n,a={}){let u=document.createElement("canvas"),s=n[0].width,o=n[0].height;u.width=s*n.length,u.height=o;let f=u.getContext("2d");if(!f)throw new Error("Failed to create canvas context");n.forEach((y,m)=>{y instanceof ImageData?f.putImageData(y,m*s,0):f.drawImage(y,m*s,0)});let d=f.getImageData(0,0,n.length*s,o);return Za.fromImage(d,{...a,sliceX:n.length,sliceY:1})}function u2(n="bean"){return Du(n,i2)}function s2(n,a,u){a=En(a),u=En(u),typeof a=="string"&&!u&&(u=oA(a)+".json");let s=typeof u=="string"?br(u):Promise.resolve(u);return v.assets.sprites.add(n,s.then(o=>{let f=o.meta.size,d=o.frames.map(m=>new te(m.frame.x/f.w,m.frame.y/f.h,m.frame.w/f.w,m.frame.h/f.h)),y={};for(let m of o.meta.frameTags)m.from===m.to?y[m.name]=m.from:y[m.name]={from:m.from,to:m.to,speed:10,loop:!0,pingpong:m.direction==="pingpong"};return Za.from(a,{frames:d,anims:y})}))}var ar=class{fontface;filter=$c;outline=null;size=64;constructor(n,a={}){if(this.fontface=n,this.filter=a.filter??$c,this.size=a.size??64,this.size>256)throw new Error("Max font size: 256");a.outline&&(this.outline={width:1,color:Gt(0,0,0)},typeof a.outline=="number"?this.outline.width=a.outline:typeof a.outline=="object"&&(a.outline.width&&(this.outline.width=a.outline.width),a.outline.color&&(this.outline.color=a.outline.color)))}};function jp(n){if(!n)return jp(v.globalOpt.font??Jv);if(typeof n=="string"){let a=Yp(n),u=Gp(n);if(a)return a.data??a;if(u)return u.data??u;if(document.fonts.check(`64px ${n}`))return n;if(wl()<1)return null;throw new Error(`Font not found: ${n}`)}else if(n instanceof Mn)return n.data?n.data:n;return n}function Gp(n){return v.assets.fonts.get(n)??null}function r2(n,a,u={}){let s=En(a),o=new FontFace(n,typeof a=="string"?`url(${s})`:s);return document.fonts.add(o),v.assets.fonts.add(n,o.load().catch(f=>{throw new Error(`Failed to load font from "${s}": ${f}`)}).then(f=>new ar(f,u)))}function o2(n,a,u,s){let o=n.width/a,f={},d=s.split("").entries();for(let[y,m]of d)f[m]=new te(y%o*a,Math.floor(y/o)*u,a,u);return{tex:n,map:f,size:u}}function Yp(n){return v.assets.bitmapFonts.get(n)??null}function c2(n,a,u,s,o={}){let f=En(a);return v.assets.bitmapFonts.add(n,wr(f).then(d=>o2(Va.fromImage(v.gfx.ggl,d,o),u,s,o.chars??Ep)))}function f2(n,a){return a=En(a),v.assets.sprites.add(n,new Promise(async u=>{let s=typeof a=="string"?await br(a):a,o=await Promise.all(s.frames.map(wr)),f=document.createElement("canvas");f.width=s.width,f.height=s.height*s.frames.length;let d=f.getContext("2d");if(!d)throw new Error("Failed to create canvas context");o.forEach((m,h)=>{d.drawImage(m,0,h*s.height)});let y=await Du(null,f,{sliceY:s.frames.length,anims:s.anims});u(y)}))}var h2=class{ctx;glProgram;constructor(n,a,u,s){this.ctx=n,n.onDestroy(()=>this.free());let o=n.gl,f=o.createShader(o.VERTEX_SHADER),d=o.createShader(o.FRAGMENT_SHADER);if(!f||!d)throw new Error("Failed to create shader");o.shaderSource(f,a),o.shaderSource(d,u),o.compileShader(f),o.compileShader(d);let y=o.createProgram();if(this.glProgram=y,o.attachShader(y,f),o.attachShader(y,d),s.forEach((m,h)=>o.bindAttribLocation(y,h,m)),o.linkProgram(y),!o.getProgramParameter(y,o.LINK_STATUS)){let m=o.getShaderInfoLog(f);if(m)throw new Error("VERTEX SHADER "+m);let h=o.getShaderInfoLog(d);if(h)throw new Error("FRAGMENT SHADER "+h)}o.deleteShader(f),o.deleteShader(d)}bind(){this.ctx.pushProgram(this.glProgram)}unbind(){this.ctx.popProgram()}send(n){let a=this.ctx.gl;for(let u in n){let s=n[u],o=a.getUniformLocation(this.glProgram,u);if(typeof s=="number")a.uniform1f(o,s);else if(s instanceof Xn)a.uniformMatrix4fv(o,!1,new Float32Array(s.m));else if(s instanceof Dt)a.uniform3f(o,s.r,s.g,s.b);else if(s instanceof F)a.uniform2f(o,s.x,s.y);else if(Array.isArray(s))s[0],iA(s)?a.uniform1fv(o,s):lA(s)?a.uniform2fv(o,s.map(f=>[f.x,f.y]).flat()):aA(s)&&a.uniform3fv(o,s.map(f=>[f.r,f.g,f.b]).flat());else throw new Error("Unsupported uniform data type")}}free(){this.ctx.gl.deleteProgram(this.glProgram)}};function Of(n,a=tf,u=ef){let s=Iv.replace("{{user}}",a??tf),o=Pv.replace("{{user}}",u??ef);try{return new h2(n,s,o,Ef.map(f=>f.name))}catch(f){let d=/(?<type>^\w+) SHADER ERROR: 0:(?<line>\d+): (?<msg>.+)/,y=cA(f).match(d);if(!y?.groups)throw f;let m=Number(y.groups.line)-14,h=y.groups.msg.trim(),b=y.groups.type.toLowerCase();throw new Error(`${b} shader line ${m}: ${h}`)}}function d2(n){if(!n)return v.gfx.defShader;if(typeof n=="string"){let a=Lp(n);if(a)return a.data??a;if(wl()<1)return null;throw new Error(`Shader not found: ${n}`)}else if(n instanceof Mn)return n.data?n.data:n;return n}function Lp(n){return v.assets.shaders.get(n)??null}function g2(n,a,u){return v.assets.shaders.addLoaded(n,Of(v.gfx.ggl,a,u))}function m2(n,a,u){a=En(a),u=En(u);let s=f=>f?$A(f):Promise.resolve(null),o=Promise.all([s(a),s(u)]).then(([f,d])=>Of(v.gfx.ggl,f,d));return v.assets.shaders.add(n,o)}var Bu=class lr{buf;constructor(a){this.buf=a}static fromArrayBuffer(a){return new Promise((u,s)=>v.audio.ctx.decodeAudioData(a,u,s)).then(u=>new lr(u))}static fromURL(a){return Cp(a)?lr.fromArrayBuffer(sA(a)):t2(a).then(u=>lr.fromArrayBuffer(u))}};function p2(n){if(typeof n=="string"){let a=Xp(n);if(a)return a;if(wl()<1)return null;throw new Error(`Sound not found: ${n}`)}else{if(n instanceof Bu)return Mn.loaded(n);if(n instanceof Mn)return n;throw new Error(`Invalid sound: ${n}`)}}function Xp(n){return v.assets.sounds.get(n)??null}function y2(n,a){return a=En(a),v.assets.sounds.add(n,typeof a=="string"?Bu.fromURL(a):Bu.fromArrayBuffer(a))}function v2(n,a){let u=En(a),s=new Audio(u);return s.preload="auto",v.assets.music[n]=u}function Vp(n,a){return n=En(n),uf(typeof a=="string"?new Promise((u,s)=>{br(a).then(o=>{Vp(n,o).then(u).catch(s)})}):Za.from(n).then(u=>{let s={};for(let o in a){let f=a[o],d=u.frames[0],y=2048*d.w,m=2048*d.h,h=f.frames?f.frames.map(S=>new te(d.x+(f.x+S.x)/y*d.w,d.y+(f.y+S.y)/m*d.h,S.w/y*d.w,S.h/m*d.h)):_p(f.sliceX||1,f.sliceY||1,d.x+f.x/y*d.w,d.y+f.y/m*d.h,f.width/y*d.w,f.height/m*d.h),b=new Za(u.tex,h,f.anims);v.assets.sprites.addLoaded(o,b),s[o]=b}return s}))}function Ka(n,a,u=!1,s,o,f={}){let d=s??v.gfx.defTex,y=o??v.gfx.defShader,m=d2(y);if(!m||m instanceof Mn)return;let h=v.gfx.fixed||u?v.gfx.transform:v.game.cam.transform.mult(v.gfx.transform),b=[];for(let S of n){let p=FA(h.multVec2(S.pos));b.push(p.x,p.y,S.uv.x,S.uv.y,S.color.r/255,S.color.g/255,S.color.b/255,S.opacity)}v.gfx.renderer.push(v.gfx.ggl.gl.TRIANGLES,b,a,m,d,f)}function Xa(n){if(!n.pts)throw new Error('drawPolygon() requires property "pts".');let a=n.pts.length;if(!(a<3)){if(wn(),ae(n.pos),zu(n.scale),vi(n.angle),ae(n.offset),n.fill!==!1){let u=n.color??Dt.WHITE,s=n.pts.map((f,d)=>({pos:new F(f.x,f.y),uv:n.uv?n.uv[d]:new F(0,0),color:n.colors&&n.colors[d]?n.colors[d].mult(u):u,opacity:n.opacity??1})),o;n.triangulate?o=Sp(n.pts).map(f=>f.map(d=>n.pts.indexOf(d))).flat():o=[...Array(a-2).keys()].map(f=>[0,f+1,f+2]).flat(),Ka(s,n.indices??o,n.fixed,n.uv?n.tex:v.gfx.defTex,n.shader,n.uniform??void 0)}n.outline&&Rf({pts:[...n.pts,n.pts[0]],radius:n.radius,width:n.outline.width,color:n.outline.color,join:n.outline.join,uniform:n.uniform,fixed:n.fixed,opacity:n.opacity??n.outline.opacity}),nn()}}function Qp(n){if(n.radiusX===void 0||n.radiusY===void 0)throw new Error('drawEllipse() requires properties "radiusX" and "radiusY".');if(n.radiusX===0||n.radiusY===0)return;let a=n.start??0,u=n.end??360,s=bi(n.anchor??"center").scale(new F(-n.radiusX,-n.radiusY)),o=Su(s,n.radiusX,n.radiusY,a,u,n.resolution);o.unshift(s);let f=Object.assign({},n,{pts:o,radius:0,...n.gradient?{colors:[n.gradient[0],...Array(o.length-1).fill(n.gradient[1])]}:{}});if(u-a>=360&&n.outline){n.fill!==!1&&Xa(Object.assign({},f,{outline:null})),Xa(Object.assign({},f,{pts:o.slice(1),fill:!1}));return}Xa(f)}function wi(n){if(typeof n.radius!="number")throw new Error('drawCircle() requires property "radius".');n.radius!==0&&Qp(Object.assign({},n,{radiusX:n.radius,radiusY:n.radius,angle:0}))}function Mu(n){let{p1:a,p2:u}=n;if(!a||!u)throw new Error('drawLine() requires properties "p1" and "p2".');let s=n.width||1,o=u.sub(a).unit().normal().scale(s*.5),f=[a.sub(o),a.add(o),u.add(o),u.sub(o)].map(d=>({pos:new F(d.x,d.y),uv:new F(0),color:n.color??Dt.WHITE,opacity:n.opacity??1}));Ka(f,[0,1,3,1,2,3],n.fixed,v.gfx.defTex,n.shader,n.uniform??void 0)}function A2(n){let a=n.pts,u=[],s=(n.width||1)*.5,o=a[0]===a[a.length-1]||a[0].eq(a[a.length-1]),f=n.pos||L(0,0),d;o?d=a[0].sub(a[a.length-2]):d=a[1].sub(a[0]);let y=d.len(),m=d.normal().scale(-s/y),h,b=a[0];if(!o)switch(n.cap){case"square":{let E=d.scale(-s/y);u.push(b.add(E).add(m)),u.push(b.add(E).sub(m));break}case"round":{let E=Math.max(s,10),D=Math.PI/E,x=m.scale(-1),w=Math.cos(D),U=Math.sin(D);for(let V=0;V<E;V++)u.push(b),u.push(b.sub(x)),x=L(x.x*w-x.y*U,x.x*U+x.y*w)}}for(let E=1;E<a.length;E++){if(b===a[E]||b.eq(a[E]))continue;h=b,b=a[E];let D=b.sub(h),x=D.len(),w=D.normal().scale(-s/x),U=d.cross(D);if(Math.abs(U)/(y*x)<.05){u.push(h.add(m)),u.push(h.sub(m)),d.dot(D)<0&&(u.push(h.sub(m)),u.push(h.add(m))),d=D,y=x,m=w;continue}let V=w.sub(m).cross(D)/U,P=m.add(d.scale(V));U>0?(u.push(h.add(P)),u.push(h.sub(m)),u.push(h.add(P)),u.push(h.sub(w))):(u.push(h.add(m)),u.push(h.sub(P)),u.push(h.add(w)),u.push(h.sub(P))),d=D,y=x,m=w}if(!o)switch(u.push(b.add(m)),u.push(b.sub(m)),n.cap){case"square":{let E=d.scale(s/y);u.push(b.add(E).add(m)),u.push(b.add(E).sub(m));break}case"round":{let E=Math.max(s,10),D=Math.PI/E,x=m.scale(1),w=Math.cos(D),U=Math.sin(D);for(let V=0;V<E;V++)x=L(x.x*w-x.y*U,x.x*U+x.y*w),u.push(b),u.push(b.sub(x))}}if(u.length<4)return;let S=u.map(E=>({pos:f.add(E),uv:L(),color:n.color||Dt.WHITE,opacity:n.opacity??1})),p=[],M=0;for(let E=0;E<u.length-2;E+=2)p[M++]=E+1,p[M++]=E,p[M++]=E+2,p[M++]=E+2,p[M++]=E+3,p[M++]=E+1;o&&(p[M++]=u.length-1,p[M++]=u.length-2,p[M++]=0,p[M++]=0,p[M++]=1,p[M++]=u.length-1),Ka(S,p,n.fixed,v.gfx.defTex,n.shader,n.uniform??void 0)}function b2(n){let a=n.pts,u=[],s=(n.width||1)*.5,o=a[0]===a[a.length-1]||a[0].eq(a[a.length-1]),f=n.pos||L(0,0),d;o?d=a[0].sub(a[a.length-2]):d=a[1].sub(a[0]);let y=d.len(),m=d.normal().scale(-s/y),h,b=a[0];if(!o)switch(n.cap){case"square":{let E=d.scale(-s/y);u.push(b.add(E).add(m)),u.push(b.add(E).sub(m));break}case"round":{let E=Math.max(s,10),D=Math.PI/E,x=m.scale(-1),w=Math.cos(D),U=Math.sin(D);for(let V=0;V<E;V++)u.push(b),u.push(b.sub(x)),x=L(x.x*w-x.y*U,x.x*U+x.y*w)}}for(let E=1;E<a.length;E++){if(b===a[E]||b.eq(a[E]))continue;h=b,b=a[E];let D=b.sub(h),x=D.len(),w=D.normal().scale(-s/x),U=d.cross(D);if(Math.abs(U)/(y*x)<.05){u.push(h.add(m)),u.push(h.sub(m)),d.dot(D)<0&&(u.push(h.sub(m)),u.push(h.add(m))),d=D,y=x,m=w;continue}let V=w.sub(m).cross(D)/U,P=m.add(d.scale(V));if(U>0){let G=h.add(P),O=Math.max(s,10),R=de(m.angleBetween(w)/O),X=m,K=Math.cos(R),tt=Math.sin(R);for(let et=0;et<O;et++)u.push(G),u.push(h.sub(X)),X=L(X.x*K-X.y*tt,X.x*tt+X.y*K)}else{let G=h.sub(P),O=Math.max(s,10),R=de(m.angleBetween(w)/O),X=m,K=Math.cos(R),tt=Math.sin(R);for(let et=0;et<O;et++)u.push(h.add(X)),u.push(G),X=L(X.x*K-X.y*tt,X.x*tt+X.y*K)}d=D,y=x,m=w}if(!o)switch(u.push(b.add(m)),u.push(b.sub(m)),n.cap){case"square":{let E=d.scale(s/y);u.push(b.add(E).add(m)),u.push(b.add(E).sub(m));break}case"round":{let E=Math.max(s,10),D=Math.PI/E,x=m.scale(1),w=Math.cos(D),U=Math.sin(D);for(let V=0;V<E;V++)x=L(x.x*w-x.y*U,x.x*U+x.y*w),u.push(b),u.push(b.sub(x))}}if(u.length<4)return;let S=u.map(E=>({pos:f.add(E),uv:L(),color:n.color||Dt.WHITE,opacity:n.opacity??1})),p=[],M=0;for(let E=0;E<u.length-2;E+=2)p[M++]=E+1,p[M++]=E,p[M++]=E+2,p[M++]=E+2,p[M++]=E+3,p[M++]=E+1;o&&(p[M++]=u.length-1,p[M++]=u.length-2,p[M++]=0,p[M++]=0,p[M++]=1,p[M++]=u.length-1),Ka(S,p,n.fixed,v.gfx.defTex,n.shader,n.uniform??void 0)}function w2(n){let a=n.pts,u=[],s=(n.width||1)*.5,o=a[0]===a[a.length-1]||a[0].eq(a[a.length-1]),f=n.pos||L(0,0),d;o?d=a[0].sub(a[a.length-2]):d=a[1].sub(a[0]);let y=d.len(),m=d.normal().scale(-s/y),h,b=a[0];if(!o)switch(n.cap){case"square":{let E=d.scale(-s/y);u.push(b.add(E).add(m)),u.push(b.add(E).sub(m));break}case"round":{let E=Math.max(s,10),D=Math.PI/E,x=m.scale(-1),w=Math.cos(D),U=Math.sin(D);for(let V=0;V<E;V++)u.push(b),u.push(b.sub(x)),x=L(x.x*w-x.y*U,x.x*U+x.y*w)}}for(let E=1;E<a.length;E++){if(b===a[E]||b.eq(a[E]))continue;h=b,b=a[E];let D=b.sub(h),x=D.len(),w=D.normal().scale(-s/x),U=d.cross(D);if(Math.abs(U)/(y*x)<.05){u.push(h.add(m)),u.push(h.sub(m)),d.dot(D)<0&&(u.push(h.sub(m)),u.push(h.add(m))),d=D,y=x,m=w;continue}let V=w.sub(m).cross(D)/U,P=m.add(d.scale(V));u.push(h.add(P)),u.push(h.sub(P)),d=D,y=x,m=w}if(!o)switch(u.push(b.add(m)),u.push(b.sub(m)),n.cap){case"square":{let E=d.scale(s/y);u.push(b.add(E).add(m)),u.push(b.add(E).sub(m));break}case"round":{let E=Math.max(s,10),D=Math.PI/E,x=m.scale(1),w=Math.cos(D),U=Math.sin(D);for(let V=0;V<E;V++)x=L(x.x*w-x.y*U,x.x*U+x.y*w),u.push(b),u.push(b.sub(x))}}if(u.length<4)return;let S=u.map(E=>({pos:f.add(E),uv:L(),color:n.color||Dt.WHITE,opacity:n.opacity??1})),p=[],M=0;for(let E=0;E<u.length-2;E+=2)p[M++]=E+1,p[M++]=E,p[M++]=E+2,p[M++]=E+2,p[M++]=E+3,p[M++]=E+1;o&&(p[M++]=u.length-1,p[M++]=u.length-2,p[M++]=0,p[M++]=0,p[M++]=1,p[M++]=u.length-1),Ka(S,p,n.fixed,v.gfx.defTex,n.shader,n.uniform??void 0)}function Rf(n){let a=n.pts,u=n.width??1;if(!a)throw new Error('drawLines() requires property "pts".');if(!(a.length<2)){if(a.length>2)switch(n.join){case"bevel":return A2(n);case"round":return b2(n);case"miter":return w2(n)}if(n.radius&&a.length>=3){Mu(Object.assign({},n,{p1:a[0],p2:a[1]}));for(let s=1;s<a.length-2;s++){let o=a[s],f=a[s+1];Mu(Object.assign({},n,{p1:o,p2:f}))}Mu(Object.assign({},n,{p1:a[a.length-2],p2:a[a.length-1]}))}else for(let s=0;s<a.length-1;s++)Mu(Object.assign({},n,{p1:a[s],p2:a[s+1]})),n.join!=="none"&&wi(Object.assign({},n,{pos:a[s],radius:u/2}))}}function Zp(n,a){let u=a.segments??16,s=[];for(let o=0;o<=u;o++)s.push(n(o/u));Rf({pts:s,width:a.width||1,pos:a.pos,color:a.color,opacity:a.opacity})}function x2(n){Zp(a=>Sf(n.pt1,n.pt2,n.pt3,n.pt4,a),n)}var Va=class Kp{ctx;src=null;glTex;width;height;constructor(a,u,s,o={}){this.ctx=a;let f=a.gl,d=a.gl.createTexture();if(!d)throw new Error("Failed to create texture");this.glTex=d,a.onDestroy(()=>this.free()),this.width=u,this.height=s;let y={linear:f.LINEAR,nearest:f.NEAREST}[o.filter??a.opts.texFilter??"nearest"],m={repeat:f.REPEAT,clampToEdge:f.CLAMP_TO_EDGE}[o.wrap??"clampToEdge"];this.bind(),u&&s&&f.texImage2D(f.TEXTURE_2D,0,f.RGBA,u,s,0,f.RGBA,f.UNSIGNED_BYTE,null),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,y),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,y),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,m),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,m),f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this.unbind()}static fromImage(a,u,s={}){let o=new Kp(a,u.width,u.height,s);return o.update(u),o.src=u,o}update(a,u=0,s=0){let o=this.ctx.gl;this.bind(),o.texSubImage2D(o.TEXTURE_2D,0,u,s,o.RGBA,o.UNSIGNED_BYTE,a),this.unbind()}bind(){this.ctx.pushTexture2D(this.glTex)}unbind(){this.ctx.popTexture2D()}free(){this.ctx.gl.deleteTexture(this.glTex)}},fr=class{ctx;tex;glFramebuffer;glRenderbuffer;constructor(n,a,u,s={}){this.ctx=n;let o=n.gl;n.onDestroy(()=>this.free()),this.tex=new Va(n,a,u,s);let f=o.createFramebuffer(),d=o.createRenderbuffer();if(!f||!d)throw new Error("Failed to create framebuffer");this.glFramebuffer=f,this.glRenderbuffer=d,this.bind(),o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,a,u),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,this.tex.glTex,0),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,this.glRenderbuffer),this.unbind()}get width(){return this.tex.width}get height(){return this.tex.height}toImageData(){let n=this.ctx.gl,a=new Uint8ClampedArray(this.width*this.height*4);this.bind(),n.readPixels(0,0,this.width,this.height,n.RGBA,n.UNSIGNED_BYTE,a),this.unbind();let u=this.width*4,s=new Uint8Array(u);for(let o=0;o<(this.height/2|0);o++){let f=o*u,d=(this.height-o-1)*u;s.set(a.subarray(f,f+u)),a.copyWithin(f,d,d+u),a.set(s,d)}return new ImageData(a,this.width,this.height)}toDataURL(){let n=document.createElement("canvas"),a=n.getContext("2d");if(n.width=this.width,n.height=this.height,!a)throw new Error("Failed to get 2d context");return a.putImageData(this.toImageData(),0,0),n.toDataURL()}clear(){let n=this.ctx.gl;n.clear(n.COLOR_BUFFER_BIT)}draw(n){this.bind(),n(),this.unbind()}bind(){this.ctx.pushFramebuffer(this.glFramebuffer),this.ctx.pushRenderbuffer(this.glRenderbuffer),this.ctx.pushViewport({x:0,y:0,w:this.width,h:this.height})}unbind(){this.ctx.popFramebuffer(),this.ctx.popRenderbuffer(),this.ctx.popViewport()}free(){let n=this.ctx.gl;n.deleteFramebuffer(this.glFramebuffer),n.deleteRenderbuffer(this.glRenderbuffer),this.tex.free()}},S2=class{ctx;glVBuf;glIBuf;vqueue=[];iqueue=[];stride;maxVertices;maxIndices;vertexFormat;numDraws=0;curPrimitive=null;curTex=null;curShader=null;curUniform={};constructor(n,a,u,s){let o=n.gl;this.vertexFormat=a,this.ctx=n,this.stride=a.reduce((d,y)=>d+y.size,0),this.maxVertices=u,this.maxIndices=s;let f=o.createBuffer();if(!f)throw new Error("Failed to create vertex buffer");this.glVBuf=f,n.pushArrayBuffer(this.glVBuf),o.bufferData(o.ARRAY_BUFFER,u*4,o.DYNAMIC_DRAW),n.popArrayBuffer(),this.glIBuf=o.createBuffer(),n.pushElementArrayBuffer(this.glIBuf),o.bufferData(o.ELEMENT_ARRAY_BUFFER,s*4,o.DYNAMIC_DRAW),n.popElementArrayBuffer()}push(n,a,u,s,o=null,f={}){(n!==this.curPrimitive||o!==this.curTex||s!==this.curShader||!Tf(this.curUniform,f)||this.vqueue.length+a.length*this.stride>this.maxVertices||this.iqueue.length+u.length>this.maxIndices)&&this.flush();let d=this.vqueue.length/this.stride;for(let y of a)this.vqueue.push(y);for(let y of u)this.iqueue.push(y+d);this.curPrimitive=n,this.curShader=s,this.curTex=o,this.curUniform=f}flush(){if(!this.curPrimitive||!this.curShader||this.vqueue.length===0||this.iqueue.length===0)return;let n=this.ctx.gl;this.ctx.pushArrayBuffer(this.glVBuf),n.bufferSubData(n.ARRAY_BUFFER,0,new Float32Array(this.vqueue)),this.ctx.pushElementArrayBuffer(this.glIBuf),n.bufferSubData(n.ELEMENT_ARRAY_BUFFER,0,new Uint16Array(this.iqueue)),this.ctx.setVertexFormat(this.vertexFormat),this.curShader.bind(),this.curShader.send(this.curUniform),this.curTex?.bind(),n.drawElements(this.curPrimitive,this.iqueue.length,n.UNSIGNED_SHORT,0),this.curTex?.unbind(),this.curShader.unbind(),this.ctx.popArrayBuffer(),this.ctx.popElementArrayBuffer(),this.vqueue=[],this.iqueue=[],this.numDraws++}free(){let n=this.ctx.gl;n.deleteBuffer(this.glVBuf),n.deleteBuffer(this.glIBuf)}};function pl(n){let a=[],u=f=>{a.push(f),n(f)},s=()=>{a.pop(),n(o()??null)},o=()=>a[a.length-1];return[u,s,o]}function E2(n,a={}){let u=[];function s(G){u.push(G)}function o(){u.forEach(O=>O());let G=n.getExtension("WEBGL_lose_context");G&&G.loseContext()}let f=null;function d(G){if(Tf(G,f))return;f=G;let O=G.reduce((R,X)=>R+X.size,0);G.reduce((R,X,K)=>(n.vertexAttribPointer(K,X.size,n.FLOAT,!1,O*4,R),n.enableVertexAttribArray(K),R+X.size*4),0)}let[y,m]=pl(G=>n.bindTexture(n.TEXTURE_2D,G)),[h,b]=pl(G=>n.bindBuffer(n.ARRAY_BUFFER,G)),[S,p]=pl(G=>n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,G)),[M,E]=pl(G=>n.bindFramebuffer(n.FRAMEBUFFER,G)),[D,x]=pl(G=>n.bindRenderbuffer(n.RENDERBUFFER,G)),[w,U]=pl(G=>{if(!G)return;let{x:O,y:R,w:X,h:K}=G;n.viewport(O,R,X,K)}),[V,P]=pl(G=>n.useProgram(G));return w({x:0,y:0,w:n.drawingBufferWidth,h:n.drawingBufferHeight}),{gl:n,opts:a,onDestroy:s,destroy:o,pushTexture2D:y,popTexture2D:m,pushArrayBuffer:h,popArrayBuffer:b,pushElementArrayBuffer:S,popElementArrayBuffer:p,pushFramebuffer:M,popFramebuffer:E,pushRenderbuffer:D,popRenderbuffer:x,pushViewport:w,popViewport:U,pushProgram:V,popProgram:P,setVertexFormat:d}}var Vc={};function Wm(n,a){if(a.override){Object.assign(n,a);return}a.pos&&(n.pos=n.pos.add(a.pos)),a.scale&&(n.scale=n.scale.scale(L(a.scale))),a.angle&&(n.angle+=a.angle),a.color&&n.ch.length===1&&(n.color=n.color.mult(a.color)),a.opacity!=null&&(n.opacity*=a.opacity)}function sf(n){let a={},u="",s=[],o=String(n),f=d=>{s.length>0&&(a[u.length]=s.slice()),u+=d};for(;o!=="";){if(o[0]==="\\"){if(o.length===1)throw new Error("Styled text error: \\ at end of string");f(o[1]),o=o.slice(2);continue}if(o[0]==="["){let d=/^\[(\/)?(\w+?)\]/.exec(o);if(!d){f(o[0]),o=o.slice(1);continue}let[y,m,h]=d;if(m!==void 0){let b=s.pop();if(b!==h)throw b!==void 0?new Error(`Styled text error: mismatched tags. Expected [/${b}], got [/${h}]`):new Error(`Styled text error: stray end tag [/${h}]`)}else s.push(h);o=o.slice(y.length);continue}f(o[0]),o=o.slice(1)}if(s.length>0)throw new Error(`Styled text error: unclosed tags ${s}`);return{charStyleMap:a,text:u}}function xl(n){if(n.text===void 0)throw new Error('formatText() requires property "text".');let a=jp(n.font);if(!n.text||n.text===""||a instanceof Mn||!a)return{width:0,height:0,chars:[],opt:n,renderedText:""};let{charStyleMap:u,text:s}=sf(n.text+""),o=dA(s);if(a instanceof ar||typeof a=="string"){let V=a instanceof ar?a.fontface.family:a,P=a instanceof ar?{outline:a.outline,filter:a.filter}:{outline:null,filter:$c},G=Vc[V]??{font:{tex:new Va(v.gfx.ggl,2048,2048,{filter:P.filter}),map:{},size:64},cursor:new F(0),maxHeight:0,outline:P.outline};Vc[V]||(Vc[V]=G),a=G.font;for(let O of o)if(!G.font.map[O]){let R=v.fontCacheC2d;if(!R)throw new Error("fontCacheC2d is not defined.");if(!v.fontCacheCanvas)throw new Error("fontCacheCanvas is not defined.");R.clearRect(0,0,v.fontCacheCanvas.width,v.fontCacheCanvas.height),R.font=`${a.size}px ${V}`,R.textBaseline="top",R.textAlign="left",R.fillStyle="#ffffff";let X=R.measureText(O),K=Math.ceil(X.width);if(!K)continue;let tt=Math.ceil(Math.abs(X.actualBoundingBoxAscent))+Math.ceil(Math.abs(X.actualBoundingBoxDescent));G.outline&&G.outline.width&&G.outline.color&&(R.lineJoin="round",R.lineWidth=G.outline.width*2,R.strokeStyle=G.outline.color.toHex(),R.strokeText(O,G.outline.width,G.outline.width),K+=G.outline.width*2,tt+=G.outline.width*3),R.fillText(O,G.outline?.width??0,G.outline?.width??0);let et=R.getImageData(0,0,K,tt);if(G.cursor.x+K>2048&&(G.cursor.x=0,G.cursor.y+=G.maxHeight,G.maxHeight=0,G.cursor.y>2048))throw new Error("Font atlas exceeds character limit");a.tex.update(et,G.cursor.x,G.cursor.y),a.map[O]=new te(G.cursor.x,G.cursor.y,K,tt),G.cursor.x+=K+1,G.maxHeight=Math.max(G.maxHeight,tt)}}let f=n.size||a.size,d=L(n.scale??1).scale(f/a.size),y=n.lineSpacing??0,m=n.letterSpacing??0,h=0,b=0,S=0,p=[],M=[],E=0,D=null,x=0,w;for(;E<o.length;){let V=o[E];if(V===`
`)S+=f+y,p.push({width:h-m,chars:M}),D=null,x=0,h=0,M=[],w=void 0;else{let P=a.map[V];if(P){let G=P.w*d.x;n.width&&h+G>n.width&&(S+=f+y,D!=null&&(E-=M.length-D,V=o[E],P=a.map[V],G=P.w*d.x,M=M.slice(0,D-1),h=x),D=null,x=0,p.push({width:h-m,chars:M}),h=w??0,M=[]),M.push({tex:a.tex,width:P.w,height:P.h,quad:new te(P.x/a.tex.width,P.y/a.tex.height,P.w/a.tex.width,P.h/a.tex.height),ch:V,pos:new F(h,S),opacity:n.opacity??1,color:n.color??Dt.WHITE,scale:L(d),angle:0}),V===" "&&(D=M.length,x=h),n.indentAll&&w===void 0&&/\S/.test(V)&&(w=h),h+=G,b=Math.max(b,h),h+=m}}E++}p.push({width:h-m,chars:M}),S+=f,n.width&&(b=n.width);let U=[];for(let V=0;V<p.length;V++){let P=(b-p[V].width)*LA(n.align??"left");for(let G of p[V].chars){let O=a.map[G.ch],R=U.length+V;if(G.pos=G.pos.add(P,0).add(O.w*d.x*.5,O.h*d.y*.5),n.transform){let X=typeof n.transform=="function"?n.transform(R,G.ch):n.transform;X&&Wm(G,X)}if(u[R]){let X=u[R];for(let K of X){let tt=n.styles?.[K],et=typeof tt=="function"?tt(R,G.ch):tt;et&&Wm(G,et)}}U.push(G)}}return{width:b,height:S,chars:U,opt:n,renderedText:s}}function Uu(n){if(n.width===void 0||n.height===void 0)throw new Error('drawUVQuad() requires property "width" and "height".');if(n.width<=0||n.height<=0)return;let a=n.width,u=n.height,s=bi(n.anchor||Ar).scale(new F(a,u).scale(-.5)),o=n.quad||new te(0,0,1,1),f=n.color||Gt(255,255,255),d=n.opacity??1,y=n.tex?.1/n.tex.width:0,m=n.tex?.1/n.tex.height:0,h=o.x+y,b=o.y+m,S=o.w-y*2,p=o.h-m*2;wn(),ae(n.pos),vi(n.angle),zu(n.scale),ae(s),Ka([{pos:new F(-a/2,u/2),uv:new F(n.flipX?h+S:h,n.flipY?b:b+p),color:f,opacity:d},{pos:new F(-a/2,-u/2),uv:new F(n.flipX?h+S:h,n.flipY?b+p:b),color:f,opacity:d},{pos:new F(a/2,-u/2),uv:new F(n.flipX?h:h+S,n.flipY?b+p:b),color:f,opacity:d},{pos:new F(a/2,u/2),uv:new F(n.flipX?h:h+S,n.flipY?b:b+p),color:f,opacity:d}],[0,1,3,1,2,3],n.fixed,n.tex,n.shader,n.uniform??void 0),nn()}function Sl(n){wn(),ae(n.opt.pos),vi(n.opt.angle),ae(bi(n.opt.anchor??"topleft").add(1,1).scale(n.width,n.height).scale(-.5)),n.chars.forEach(a=>{Uu({tex:a.tex,width:a.width,height:a.height,pos:a.pos,scale:a.scale,angle:a.angle,color:a.color,opacity:a.opacity,quad:a.quad,anchor:"center",uniform:n.opt.uniform,shader:n.opt.shader,fixed:n.opt.fixed})}),nn()}function Sn(n){if(n.width===void 0||n.height===void 0)throw new Error('drawRect() requires property "width" and "height".');if(n.width<=0||n.height<=0)return;let a=n.width,u=n.height,s=bi(n.anchor||Ar).add(1,1).scale(new F(a,u).scale(-.5)),o=[new F(0,0),new F(a,0),new F(a,u),new F(0,u)];if(n.radius){let f=Math.min(a,u)/2,d=Array.isArray(n.radius)?n.radius.map(y=>Math.min(f,y)):new Array(4).fill(Math.min(f,n.radius));o=[new F(d[0],0),...d[1]?Su(new F(a-d[1],d[1]),d[1],d[1],270,360):[L(a,0)],...d[2]?Su(new F(a-d[2],u-d[2]),d[2],d[2],0,90):[L(a,u)],...d[3]?Su(new F(d[3],u-d[3]),d[3],d[3],90,180):[L(0,u)],...d[0]?Su(new F(d[0],d[0]),d[0],d[0],180,270):[]]}Xa(Object.assign({},n,{offset:s,pts:o,...n.gradient?{colors:n.horizontal?[n.gradient[0],n.gradient[1],n.gradient[1],n.gradient[0]]:[n.gradient[0],n.gradient[0],n.gradient[1],n.gradient[1]]}:{}}))}function La(n){xn();let a=v.gfx.width,u=v.gfx.height;v.gfx.width=v.gfx.viewport.width,v.gfx.height=v.gfx.viewport.height,n(),xn(),v.gfx.width=a,v.gfx.height=u}function Im(n,a){La(()=>{let u=L(8);wn(),ae(n);let s=xl({text:a,font:or,size:16,pos:u,color:Gt(255,255,255),fixed:!0}),o=s.width+u.x*2,f=s.height+u.x*2;n.x+o>=qe()&&ae(L(-o,0)),n.y+f>=Ne()&&ae(L(0,-f)),Sn({width:o,height:f,color:Gt(0,0,0),radius:4,opacity:.8,fixed:!0}),Sl(s),nn()})}function Jp(n){if(!n.p1||!n.p2||!n.p3)throw new Error('drawTriangle() requires properties "p1", "p2" and "p3".');return Xa(Object.assign({},n,{pts:[n.p1,n.p2,n.p3]}))}function M2(){if(v.debug.inspect){let n=null;for(let a of v.game.root.get("*",{recursive:!0}))if(a.has("area")&&a.isHovering()){n=a;break}if(v.game.root.drawInspect(),n){let a=[],u=n.inspect();for(let s in u)u[s]?a.push(`${u[s]}`):a.push(`${s}`);Im(MA(v.k.mousePos()),a.join(`
`))}Im(L(8),`FPS: ${v.debug.fps()}`)}v.debug.paused&&La(()=>{wn(),ae(qe(),0),ae(-8,8);let n=32;Sn({width:n,height:n,anchor:"topright",color:Gt(0,0,0),opacity:.8,radius:4,fixed:!0});for(let a=1;a<=2;a++)Sn({width:4,height:n*.6,anchor:"center",pos:L(-n/3*a,n*.5),color:Gt(255,255,255),radius:2,fixed:!0});nn()}),v.debug.timeScale!==1&&La(()=>{wn(),ae(qe(),Ne()),ae(-8,-8);let n=8,a=xl({text:v.debug.timeScale.toFixed(1),font:or,size:16,color:Gt(255,255,255),pos:L(-n),anchor:"botright",fixed:!0});Sn({width:a.width+n*2+n*4,height:a.height+n*2,anchor:"botright",color:Gt(0,0,0),opacity:.8,radius:4,fixed:!0});for(let u=0;u<2;u++){let s=v.debug.timeScale<1;Jp({p1:L(-a.width-n*(s?2:3.5),-n),p2:L(-a.width-n*(s?2:3.5),-n-a.height),p3:L(-a.width-n*(s?3.5:2),-n-a.height/2),pos:L(-u*n*1+(s?-n*.5:0),0),color:Gt(255,255,255),fixed:!0})}Sl(a),nn()}),v.debug.curRecording&&La(()=>{wn(),ae(0,Ne()),ae(24,-24),wi({radius:12,color:Gt(255,0,0),opacity:sp(0,1,v.app.time()*4),fixed:!0}),nn()}),v.debug.showLog&&v.game.logs.length>0&&La(()=>{wn(),ae(0,Ne()),ae(8,-8);let n=8,a=[];for(let s of v.game.logs){let o="",f=s.msg instanceof Error?"error":"info";o+=`[time]${s.time.toFixed(2)}[/time]`,o+=" ",o+=`[${f}]${rf(s.msg)}[/${f}]`,a.push(o)}v.game.logs=v.game.logs.filter(s=>v.app.time()-s.time<(v.globalOpt.logTime||4));let u=xl({text:a.join(`
`),font:or,pos:L(n,-n),anchor:"botleft",size:16,width:qe()*.6,lineSpacing:n/2,fixed:!0,styles:{time:{color:Gt(127,127,127)},info:{color:Gt(255,255,255)},error:{color:Gt(255,0,127)}}});Sn({width:u.width+n*2,height:u.height+n*2,anchor:"botleft",color:Gt(0,0,0),radius:4,opacity:.8,fixed:!0}),Sl(u),nn()})}function rf(n,a=!1,u=new Set){if(u.has(n))return"<recursive>";var s="",o;return a&&typeof n=="string"&&(n=JSON.stringify(n)),Array.isArray(n)&&(s=["[",n.map(f=>rf(f,!0,u.union(new Set([n])))).join(", "),"]"].join(""),n=s),n===null?"null":(typeof n=="object"&&n.toString===Object.prototype.toString&&(n.constructor!==Object&&(s+=n.constructor.name+" "),s+=["{",(o=Object.getOwnPropertyNames(n).map(f=>`${/^\w+$/.test(f)?f:JSON.stringify(f)}: ${rf(n[f],!0,u.union(new Set([n])))}`).join(", "))?` ${o} `:"","}"].join(""),n=s),String(n).replaceAll(new RegExp("(?<!\\\\)\\[","g"),"\\["))}function T2(){let n=v.game.cam,a=F.fromAngle(Ee(0,360)).scale(n.shake);n.shake=an(n.shake,0,5*Me()),n.transform=new Xn().translate(cr()).scale(n.scale).rotate(n.angle).translate((n.pos??cr()).scale(-1).add(a)),v.game.root.draw(),xn()}function q2(){let n=wl();v.game.events.numListeners("loading")>0?v.game.events.trigger("loading",n):La(()=>{let a=qe()/2,u=24,s=L(qe()/2,Ne()/2).sub(L(a/2,u/2));Sn({pos:L(0),width:qe(),height:Ne(),color:Gt(0,0,0)}),Sn({pos:s,width:a,height:u,fill:!1,outline:{width:4}}),Sn({pos:s,width:a*n,height:u})})}function Fp(n,a,u){let s=v.gfx.ggl.gl;xn(),s.clear(s.STENCIL_BUFFER_BIT),s.enable(s.STENCIL_TEST),s.stencilFunc(s.NEVER,1,255),s.stencilOp(s.REPLACE,s.REPLACE,s.REPLACE),a(),xn(),s.stencilFunc(u,1,255),s.stencilOp(s.KEEP,s.KEEP,s.KEEP),n(),xn(),s.disable(s.STENCIL_TEST)}function D2(n,a){let u=v.gfx.ggl.gl;Fp(n,a,u.EQUAL)}function hr(n){if(!n.tex)throw new Error('drawTexture() requires property "tex".');let a=n.quad??new te(0,0,1,1),u=n.tex.width*a.w,s=n.tex.height*a.h,o=new F(1);if(n.tiled){let f=bi(n.anchor||Ar);(n.pos?.x||0)-(f.x+1)*.5*(n.width||u),(n.pos?.y||0)-(f.y+1)*.5*(n.height||s);let d=(n.width||u)/u,y=(n.height||s)/s,m=Math.floor(d),h=Math.floor(y),b=d-m,S=y-h,p=(m+b?1:0)*(h+S?1:0),M=new Array(p*6),E=new Array(p*4),D=0,x=(w,U,V,P,G)=>{M[D*6+0]=D*4+0,M[D*6+1]=D*4+1,M[D*6+2]=D*4+3,M[D*6+3]=D*4+1,M[D*6+4]=D*4+2,M[D*6+5]=D*4+3,E[D*4+0]={pos:new F(w-f.x,U-f.y),uv:new F(G.x,G.y),color:n.color||Dt.WHITE,opacity:n.opacity||1},E[D*4+1]={pos:new F(w+V-f.x,U-f.y),uv:new F(G.x+G.w,G.y),color:n.color||Dt.WHITE,opacity:n.opacity||1},E[D*4+2]={pos:new F(w+V-f.x,U+P-f.y),uv:new F(G.x+G.w,G.y+G.h),color:n.color||Dt.WHITE,opacity:n.opacity||1},E[D*4+3]={pos:new F(w-f.x,U+P-f.y),uv:new F(G.x,G.y+G.h),color:n.color||Dt.WHITE,opacity:n.opacity||1},D++};for(let w=0;w<h;w++){for(let U=0;U<m;U++)x(U*u,w*s,u,s,a);b&&x(m*u,w*s,u*b,s,new te(a.x,a.y,a.w*b,a.h))}if(S){for(let w=0;w<m;w++)x(w*u,h*s,u,s*S,new te(a.x,a.y,a.w,a.h*S));b&&x(m*u,h*s,u*b,s*S,new te(a.x,a.y,a.w*b,a.h*S))}Ka(E,M,n.fixed,n.tex,n.shader,n.uniform??void 0)}else n.width&&n.height?(o.x=n.width/u,o.y=n.height/s):n.width?(o.x=n.width/u,o.y=o.x):n.height&&(o.y=n.height/s,o.x=o.y),Uu(Object.assign({},n,{scale:o.scale(n.scale||new F(1)),tex:n.tex,quad:a,width:u,height:s}))}function O2(n){if(!n.sprite)throw new Error('drawSprite() requires property "sprite"');let a=nr(n.sprite);if(!a||!a.data)return;let u=a.data.frames[n.frame??0];if(!u)throw new Error(`Frame not found: ${n.frame??0}`);hr(Object.assign({},n,{tex:a.data.tex,quad:u.scale(n.quad??new te(0,0,1,1))}))}function R2(n,a){let u=v.gfx.ggl.gl;Fp(n,a,u.NOTEQUAL)}function Pm(n){Sl(xl(n))}var C2=(n,a)=>{let u=Of(a,tf,ef),s=n.pixelDensity??1,o=n.scale??1,{gl:f}=a,d=Va.fromImage(a,new ImageData(new Uint8ClampedArray([255,255,255,255]),1,1)),y=n.width&&n.height?new fr(a,n.width*s*o,n.height*s*o):new fr(a,f.drawingBufferWidth,f.drawingBufferHeight),m=null,h=1;n.background&&(typeof n.background=="string"?m=Gt(n.background):(m=Gt(...n.background),h=n.background[3]??1),f.clearColor(m.r/255,m.g/255,m.b/255,h??1)),f.enable(f.BLEND),f.blendFuncSeparate(f.ONE,f.ONE_MINUS_SRC_ALPHA,f.ONE,f.ONE_MINUS_SRC_ALPHA);let b=new S2(a,Ef,kv,Wv),S=Va.fromImage(a,new ImageData(new Uint8ClampedArray([128,128,128,255,190,190,190,255,190,190,190,255,128,128,128,255]),2,2),{wrap:"repeat",filter:"nearest"});return{lastDrawCalls:0,ggl:a,defShader:u,defTex:d,frameBuffer:y,postShader:null,postShaderUniform:null,renderer:b,transform:new Xn,transformStack:[],bgTex:S,bgColor:m,bgAlpha:h,width:n.width??f.drawingBufferWidth/s/o,height:n.height??f.drawingBufferHeight/s/o,viewport:{x:0,y:0,width:f.drawingBufferWidth,height:f.drawingBufferHeight,scale:1},fixed:!1}};function Al(n){return n.fixed?!0:n.parent?Al(n.parent):!1}function El(n){return{color:n.color,opacity:n.opacity,anchor:n.anchor,outline:n.outline,shader:n.shader,uniform:n.uniform}}function z2(n,a={}){return{id:"circle",radius:n,draw(){wi(Object.assign(El(this),{radius:this.radius,fill:a.fill}))},renderArea(){return new Wt(new F(this.anchor?0:-this.radius),this.radius*2,this.radius*2)},inspect(){return`radius: ${Math.ceil(this.radius)}`}}}function kp(...n){return{id:"color",color:Gt(...n),inspect(){return`color: ${this.color.toString()}`}}}function B2(n){return{add(){this.canvas=n}}}function U2(n=1){let a,u=0,s=!1;return{require:["opacity"],add(){a=this.opacity,this.opacity=0},update(){s||(u+=Me(),this.opacity=Yn(u,0,n,0,a),u>=n&&(this.opacity=a,s=!0))}}}function N2(n="intersect"){return{id:"mask",mask:n}}function Wp(n){return{id:"opacity",opacity:n??1,fadeIn(a=1,u=v.k.easings.linear){return v.game.root.tween(0,this.opacity,a,s=>this.opacity=s,u)},fadeOut(a=1,u=v.k.easings.linear){return v.game.root.tween(this.opacity,0,a,s=>this.opacity=s,u)},inspect(){return`opacity: ${nf(this.opacity,1)}`}}}function H2(n=1,a=Gt(0,0,0),u=1,s="miter",o=10,f="butt"){return{id:"outline",outline:{width:n,color:a,opacity:u,join:s,miterLimit:o,cap:f},inspect(){return`outline: ${this.outline.width}px, ${this.outline.color}`}}}var _2=class{pos=L(0);vel=L(0);acc=L(0);angle=0;angularVelocity=0;damping=0;t;lt=null;gc;constructor(){this.t=0,this.gc=!0}get progress(){return this.lt?this.t/this.lt:this.t}};function j2(n,a){let u=a.lifetime,s=[],o=n.colors||[Dt.WHITE],f=n.opacities||[1],d=n.quads||[new te(0,0,1,1)],y=n.scales||[1],m=n.lifeTime,h=a.direction,b=a.spread,S=n.speed||[0,0],p=n.angle||[0,0],M=n.angularVelocity||[0,0],E=n.acceleration||[L(0),L(0)],D=n.damping||[0,0],x=[],w=new Array(n.max),U=0,V=0;for(let O=0;O<n.max;O++){x[O*6+0]=O*4+0,x[O*6+1]=O*4+1,x[O*6+2]=O*4+3,x[O*6+3]=O*4+1,x[O*6+4]=O*4+2,x[O*6+5]=O*4+3;for(let R=0;R<4;R++)w[O*4+R]={pos:new F(0,0),uv:new F(0,0),color:Gt(255,255,255),opacity:1};s[O]=new _2}let P=new Qe;function G(O=0){for(;O<n.max;){if(s[O].gc)return O;O++}return null}return{id:"particles",emit(O){let R=0;for(let X=0;X<O;X++){if(R=G(R),R==null)return;let K=Ee(h-b,h+b),tt=F.fromAngle(K).scale(Ee(S[0],S[1])),et=Ee(p[0],p[1]),ut=Ee(M[0],M[1]),vt=L(Ee(E[0].x,E[1].x),Ee(E[0].y,E[1].y)),pt=Ee(D[0],D[1]),yt=m?Ee(m[0],m[1]):null,N=a.shape?a.shape.random():L(),k=s[R];k.lt=yt,k.pos=N,k.vel=tt,k.acc=vt,k.angle=et,k.angularVelocity=ut,k.damping=pt,k.angularVelocity=ut,k.gc=!1}U+=O},update(){if(u!==void 0&&u<=0)return;let O=Me();for(let R of s)if(!R.gc){if(R.t+=O,R.lt&&R.t>=R.lt){R.gc=!0,U--;continue}R.vel=R.vel.add(R.acc.scale(O)).scale(1-R.damping*O),R.pos=R.pos.add(R.vel.scale(O)),R.angle+=R.angularVelocity*O}for(u!==void 0&&(u-=O,u<=0&&P.trigger()),V+=O;U<n.max&&a.rate&&V>a.rate;)this.emit(1),U++,V-=a.rate},draw(){if(!(u!==void 0&&u<=0)){for(let O=0;O<s.length;O++){let R=s[O];if(R.gc)continue;let X=R.progress,K=Math.floor(R.progress*o.length),tt=K<o.length-1?an(o[K],o[K+1],Yn(X,K/o.length,(K+1)/o.length,0,1)):o[K],et=Math.floor(R.progress*f.length),ut=et<f.length-1?an(f[et],f[et+1],Yn(X,et/f.length,(et+1)/f.length,0,1)):f[et],vt=Math.floor(R.progress*d.length),pt=d[vt],yt=Math.floor(R.progress*y.length),N=y[yt],k=Math.cos(R.angle*Math.PI/180),lt=Math.sin(R.angle*Math.PI/180),rt=(n.texture?n.texture.width:10)*pt.w/2,ft=(n.texture?n.texture.height:10)*pt.h/2,C=O*4,j=w[C];j.pos.x=R.pos.x+-rt*N*k- -ft*N*lt,j.pos.y=R.pos.y+-rt*N*lt+-ft*N*k,j.uv.x=pt.x,j.uv.y=pt.y,j.color.r=tt.r,j.color.g=tt.g,j.color.b=tt.b,j.opacity=ut,j=w[C+1],j.pos.x=R.pos.x+rt*N*k- -ft*N*lt,j.pos.y=R.pos.y+rt*N*lt+-ft*N*k,j.uv.x=pt.x+pt.w,j.uv.y=pt.y,j.color.r=tt.r,j.color.g=tt.g,j.color.b=tt.b,j.opacity=ut,j=w[C+2],j.pos.x=R.pos.x+rt*N*k-ft*N*lt,j.pos.y=R.pos.y+rt*N*lt+ft*N*k,j.uv.x=pt.x+pt.w,j.uv.y=pt.y+pt.h,j.color.r=tt.r,j.color.g=tt.g,j.color.b=tt.b,j.opacity=ut,j=w[C+3],j.pos.x=R.pos.x+-rt*N*k-ft*N*lt,j.pos.y=R.pos.y+-rt*N*lt+ft*N*k,j.uv.x=pt.x,j.uv.y=pt.y+pt.h,j.color.r=tt.r,j.color.g=tt.g,j.color.b=tt.b,j.opacity=ut}Ka(w,x,this.fixed,n.texture,this.shader,this.uniform)}},onEnd(O){return P.add(O)},inspect(){return`count: ${U}/${n.max}`}}}function G2(n,a={}){if(n.length<3)throw new Error(`Polygon's need more than two points, ${n.length} points provided`);return{id:"polygon",pts:n,colors:a.colors,uv:a.uv,tex:a.tex,radius:a.radius,draw(){Xa(Object.assign(El(this),{pts:this.pts,colors:this.colors,uv:this.uv,tex:this.tex,radius:this.radius,fill:a.fill,triangulate:a.triangulate}))},renderArea(){return new Ke(this.pts)},inspect(){return`polygon: ${this.pts.map(u=>`[${u.x},${u.y}]`).join(",")}`}}}function Ip(n,a,u){let s;return v.game.root.get("area").forEach(o=>{if(u&&u.some(d=>o.is(d)))return;let f=o.worldArea().raycast(n,a);f&&(s?f.fraction<s.fraction&&(s=f,s.object=o):(s=f,s.object=o))}),s}function Pp(n,a,u={}){return{id:"rect",width:n,height:a,radius:u.radius||0,draw(){Sn(Object.assign(El(this),{width:this.width,height:this.height,radius:this.radius,fill:u.fill}))},renderArea(){return new Wt(L(0),this.width,this.height)},inspect(){return`rect: (${Math.ceil(this.width)}w, ${Math.ceil(this.height)}h)`}}}function Y2(n,a){return{id:"shader",shader:n,...typeof a=="function"?{uniform:a(),update(){this.uniform=a()}}:{uniform:a},inspect(){return`shader: ${n}`}}}function L2(n,a){if(!a.tileWidth||!a.tileHeight)throw new Error("Must provide tileWidth and tileHeight.");let u=v.game.root.add([dr(a.pos??L(0))]),s=n.length,o=0,f=null,d=null,y=null,m=null,h=O=>O.x+O.y*o,b=O=>L(Math.floor(O%o),Math.floor(O/o)),S=()=>{f=[];for(let O of u.children)p(O)},p=O=>{let R=h(O.tilePos);f[R]?f[R].push(O):f[R]=[O]},M=O=>{let R=h(O.tilePos);if(f[R]){let X=f[R].indexOf(O);X>=0&&f[R].splice(X,1)}},E=()=>{let O=!1;for(let R of u.children){let X=u.pos2Tile(R.pos);(R.tilePos.x!=X.x||R.tilePos.y!=X.y)&&(O=!0,M(R),R.tilePos.x=X.x,R.tilePos.y=X.y,p(R))}O&&u.trigger("spatialMapChanged")},D=()=>{let O=u.getSpatialMap(),R=u.numRows()*u.numColumns();d?d.length=R:d=new Array(R),d.fill(1,0,R);for(let X=0;X<O.length;X++){let K=O[X];if(K){let tt=0;for(let et of K)if(et.isObstacle){tt=1/0;break}else tt+=et.cost;d[X]=tt||1}}},x=()=>{let O=u.getSpatialMap(),R=u.numRows()*u.numColumns();y?y.length=R:y=new Array(R),y.fill(15,0,R);for(let X=0;X<O.length;X++){let K=O[X];if(K){let tt=K.length,et=15;for(let ut=0;ut<tt;ut++)et|=K[ut].edgeMask;y[X]=et}}},w=()=>{let O=u.numRows()*u.numColumns(),R=(K,tt)=>{let et=[];for(et.push(K);et.length>0;){let ut=et.pop();P(ut).forEach(vt=>{m[vt]<0&&(m[vt]=tt,et.push(vt))})}};m?m.length=O:m=new Array(O),m.fill(-1,0,O);let X=0;for(let K=0;K<d.length;K++){if(m[K]>=0){X++;continue}R(K,X),X++}},U=(O,R)=>d[R],V=(O,R)=>{let X=b(O),K=b(R);return X.dist(K)},P=(O,R)=>{let X=[],K=Math.floor(O%o),tt=K>0&&y[O]&1&&d[O-1]!==1/0,et=O>=o&&y[O]&2&&d[O-o]!==1/0,ut=K<o-1&&y[O]&4&&d[O+1]!==1/0,vt=O<o*s-o-1&&y[O]&8&&d[O+o]!==1/0;return R?(tt&&(et&&X.push(O-o-1),X.push(O-1),vt&&X.push(O+o-1)),et&&X.push(O-o),ut&&(et&&X.push(O-o+1),X.push(O+1),vt&&X.push(O+o+1)),vt&&X.push(O+o)):(tt&&X.push(O-1),et&&X.push(O-o),ut&&X.push(O+1),vt&&X.push(O+o)),X},G={id:"level",tileWidth(){return a.tileWidth},tileHeight(){return a.tileHeight},spawn(O,...R){let X=L(...R),K=(()=>{if(typeof O=="string"){if(a.tiles[O]){if(typeof a.tiles[O]!="function")throw new Error("Level symbol def must be a function returning a component list");return a.tiles[O](X)}else if(a.wildcardTile)return a.wildcardTile(O,X)}else{if(Array.isArray(O))return O;throw new Error("Expected a symbol or a component list")}})();if(!K)return null;let tt=!1,et=!1;for(let vt of K)vt.id==="tile"&&(et=!0),vt.id==="pos"&&(tt=!0);tt||K.push(dr(this.tile2Pos(X))),et||K.push(p0());let ut=u.add(K);return tt&&(ut.tilePosOffset=ut.pos.clone()),ut.tilePos=X,ut.transform=qu(ut),f&&(p(ut),this.trigger("spatialMapChanged"),this.trigger("navigationMapInvalid")),ut},numColumns(){return o},numRows(){return s},levelWidth(){return o*this.tileWidth()},levelHeight(){return s*this.tileHeight()},tile2Pos(...O){return L(...O).scale(this.tileWidth(),this.tileHeight())},pos2Tile(...O){let R=L(...O);return L(Math.floor(R.x/this.tileWidth()),Math.floor(R.y/this.tileHeight()))},getSpatialMap(){return f||S(),f},removeFromSpatialMap:M,insertIntoSpatialMap:p,onSpatialMapChanged(O){return this.on("spatialMapChanged",O)},onNavigationMapInvalid(O){return this.on("navigationMapInvalid",O)},getAt(O){f||S();let R=h(O);return f[R]||[]},raycast(O,R){let X=this.toWorld(O),K=this.toWorld(O.add(R)).sub(X),tt=1/this.tileWidth(),et=O.scale(tt),ut=xv(et,R,vt=>{let pt=this.getAt(vt);if(pt.some(N=>N.isObstacle))return!0;let yt=null;for(let N of pt)if(N.has("area")){let k=N.worldArea().raycast(X,K);k&&(yt?k.fraction<yt.fraction&&(yt=k,yt.object=N):(yt=k,yt.object=N))}return yt&&(yt.point=this.fromWorld(yt.point).scale(tt)),yt||!1},64);return ut&&(ut.point=ut.point.scale(this.tileWidth())),ut},update(){f&&E()},invalidateNavigationMap(){d=null,y=null,m=null},onNavigationMapChanged(O){return this.on("navigationMapChanged",O)},getTilePath(O,R,X={}){if(d||D(),y||x(),m||w(),O.x<0||O.x>=o||O.y<0||O.y>=s||R.x<0||R.x>=o||R.y<0||R.y>=s)return null;let K=h(O),tt=h(R);if(d[tt]===1/0)return null;if(K===tt)return[];if(m[K]!=-1&&m[K]!==m[tt])return null;let et=new Op((k,lt)=>k.cost<lt.cost);et.insert({cost:0,node:K});let ut=new Map;ut.set(K,K);let vt=new Map;for(vt.set(K,0);et.length!==0;){let k=et.remove()?.node;if(k===tt)break;let lt=P(k,X.allowDiagonals);for(let rt of lt){let ft=(vt.get(k)||0)+U(k,rt)+V(rt,tt);(!vt.has(rt)||ft<vt.get(rt))&&(vt.set(rt,ft),et.insert({cost:ft,node:rt}),ut.set(rt,k))}}let pt=[],yt=tt,N=b(yt);for(pt.push(N);yt!==K;){let k=ut.get(yt);if(k===void 0)throw new Error("Bug in pathfinding algorithm");yt=k;let lt=b(yt);pt.push(lt)}return pt.reverse()},getPath(O,R,X={}){let K=this.tileWidth(),tt=this.tileHeight(),et=this.getTilePath(this.pos2Tile(O),this.pos2Tile(R),X);return et?[O,...et.slice(1,-1).map(ut=>ut.scale(K,tt).add(K/2,tt/2)),R]:null}};return u.use(G),u.onNavigationMapInvalid(()=>{u.invalidateNavigationMap(),u.trigger("navigationMapChanged")}),n.forEach((O,R)=>{let X=O.split("");o=Math.max(X.length,o),X.forEach((K,tt)=>{u.spawn(K,L(tt,R))})}),u}function sn(n,a,u){return v.game.objEvents.registers[n]||(v.game.objEvents.registers[n]=new qp),v.game.objEvents.on(n,(s,...o)=>{s.is(a)&&u(s,...o)})}var X2=(n,a,...u)=>{for(let s of v.game.root.children)s.is(a)&&s.trigger(n,u)},V2=It(n=>{let a=v.game.root.add([{fixedUpdate:n}]);return{get paused(){return a.paused},set paused(u){a.paused=u},cancel:()=>a.destroy()}},(n,a)=>sn("fixedUpdate",n,a)),$p=It(n=>{let a=v.game.root.add([{update:n}]);return{get paused(){return a.paused},set paused(u){a.paused=u},cancel:()=>a.destroy()}},(n,a)=>sn("update",n,a)),Q2=It(n=>{let a=v.game.root.add([{draw:n}]);return{get paused(){return a.hidden},set paused(u){a.hidden=u},cancel:()=>a.destroy()}},(n,a)=>sn("draw",n,a)),t0=It(n=>v.game.events.on("add",n),(n,a)=>sn("add",n,a)),Z2=It(n=>v.game.events.on("destroy",n),(n,a)=>sn("destroy",n,a)),K2=It(n=>v.game.events.on("use",n),(n,a)=>sn("use",n,a)),J2=It(n=>v.game.events.on("unuse",n),(n,a)=>sn("unuse",n,a)),e0=It(n=>v.game.events.on("tag",n),(n,a)=>sn("tag",n,a)),F2=It(n=>v.game.events.on("untag",n),(n,a)=>sn("untag",n,a));function k2(n,a,u){return sn("collide",n,(s,o,f)=>o.is(a)&&u(s,o,f))}function W2(n,a,u){return sn("collideUpdate",n,(s,o,f)=>o.is(a)&&u(s,o,f))}function I2(n,a,u){return sn("collideEnd",n,(s,o,f)=>o.is(a)&&u(s,o,f))}function xr(n,a){v.game.root.get(n,{recursive:!0}).forEach(a),t0(n,a),e0((u,s)=>{s===n&&a(u)})}var P2=It(n=>v.app.onMousePress(n),(n,a)=>{let u=[];return xr(n,s=>{if(!s.area)throw new Error("onClick() requires the object to have area() component");u.push(s.onClick(()=>a(s)))}),Ml.join(u)});function $2(n,a){let u=[];return xr(n,s=>{if(!s.area)throw new Error("onHover() requires the object to have area() component");u.push(s.onHover(()=>a(s)))}),Ml.join(u)}function tb(n,a){let u=[];return xr(n,s=>{if(!s.area)throw new Error("onHoverUpdate() requires the object to have area() component");u.push(s.onHoverUpdate(()=>a(s)))}),Ml.join(u)}function eb(n,a){let u=[];return xr(n,s=>{if(!s.area)throw new Error("onHoverEnd() requires the object to have area() component");u.push(s.onHoverEnd(()=>a(s)))}),Ml.join(u)}function nb(n){v.game.events.on("loading",n)}function ab(n){v.app.onResize(n)}function lb(n){v.game.events.on("error",n)}function Cf(n){v.assets.loaded?n():v.game.events.on("load",n)}function ib(n){if(v.assets.loaded)Np().forEach(a=>n(...a));else return v.game.events.on("loadError",n)}function n0(...n){v.game.cam.pos=L(...n)}function a0(){return v.game.cam.pos?v.game.cam.pos.clone():cr()}function l0(...n){v.game.cam.scale=L(...n)}function i0(){return v.game.cam.scale.clone()}function u0(n){v.game.cam.angle=n}function s0(){return v.game.cam.angle}function ub(){return v.game.cam.transform.clone()}function r0(n=Gt(255,255,255),a=1){let u=v.game.root.add([Pp(qe(),Ne()),kp(n),Wp(1),A0()]),s=u.fadeOut(a);return s.onEnd(()=>m0(u)),s}function sb(){return v.game.cam.transform.clone()}function rb(n=12){v.game.cam.shake+=n}function of(n){return v.game.cam.transform.multVec2(n)}function o0(n){return v.game.cam.transform.invert().multVec2(n)}function ob(...n){return Ai("camPos","setCamPos / getCamPos"),n.length>0&&n0(...n),a0()}function cb(...n){return Ai("camScale","setCamScale / getCamScale"),n.length>0&&l0(...n),i0()}function fb(n){return Ai("camRot","setCamRot / getCamRot"),n!==void 0&&u0(n),s0()}function hb(n=Gt(255,255,255),a=1){return Ai("camFlash","flash"),r0(n,a)}function zf(n=[]){let a=new Map,u=[],s={},o=new Ru,f=[],d=new Set("*"),y=v.globalOpt.tagsAsComponents,m=null,h=!1,b={id:SA(),hidden:!1,transform:new Xn,children:[],parent:null,set paused(p){if(p!==h){h=p;for(let M of f)M.paused=p}},get paused(){return h},get tags(){return Array.from(d)},add(p){let M=Array.isArray(p)?zf(p):p;if(M.parent)throw new Error("Cannot add a game obj that already has a parent.");return M.parent=this,M.transform=qu(M),this.children.push(M),M.trigger("add",M),v.game.events.trigger("add",M),M},readd(p){let M=this.children.indexOf(p);return M!==-1&&(this.children.splice(M,1),this.children.push(p)),p},remove(p){let M=this.children.indexOf(p);if(M!==-1){p.parent=null,this.children.splice(M,1);let E=D=>{D.trigger("destroy"),v.game.events.trigger("destroy",D),D.children.forEach(x=>E(x))};E(p)}},removeAll(p){if(p)this.get(p).forEach(M=>this.remove(M));else for(let M of[...this.children])this.remove(M)},fixedUpdate(){this.paused||(this.children.forEach(p=>p.fixedUpdate()),this.trigger("fixedUpdate"))},update(){this.paused||(this.children.forEach(p=>p.update()),this.trigger("update"))},draw(){if(this.hidden)return;this.canvas&&(xn(),this.canvas.bind());let p=v.gfx.fixed;this.fixed&&(v.gfx.fixed=!0),wn(),ae(this.pos),zu(this.scale),vi(this.angle);let M=this.children.sort((E,D)=>{let x=E.layerIndex??v.game.defaultLayerIndex,w=D.layerIndex??v.game.defaultLayerIndex;return x-w||(E.z??0)-(D.z??0)});if(this.mask){let E={intersect:v.k.drawMasked,subtract:v.k.drawSubtracted}[this.mask];if(!E)throw new Error(`Invalid mask func: "${this.mask}"`);E(()=>{M.forEach(D=>D.draw())},()=>{this.trigger("draw")})}else this.trigger("draw"),M.forEach(E=>E.draw());nn(),v.gfx.fixed=p,this.canvas&&(xn(),this.canvas.unbind())},drawInspect(){this.hidden||(wn(),ae(this.pos),zu(this.scale),vi(this.angle),this.children.forEach(p=>p.drawInspect()),this.trigger("drawInspect"),nn())},use(p){if(typeof p=="string")return d.add(p);if(!p||typeof p!="object")throw new Error(`You can only pass a component or a string to .use(), you passed a "${typeof p}"`);let M=[];p.id?(this.unuse(p.id),s[p.id]=[],M=s[p.id],a.set(p.id,p),y&&d.add(p.id)):u.push(p);for(let D in p){if($v.has(D))continue;let x=Object.getOwnPropertyDescriptor(p,D);if(x)if(typeof x.value=="function"&&(p[D]=p[D].bind(this)),x.set&&Object.defineProperty(p,D,{set:x.set.bind(this)}),x.get&&Object.defineProperty(p,D,{get:x.get.bind(this)}),tA.has(D)){let w=D==="add"?()=>{m=U=>M.push(U),p[D]?.(),m=null}:p[D];M.push(this.on(D,w).cancel)}else if(this[D]===void 0)Object.defineProperty(this,D,{get:()=>p[D],set:w=>p[D]=w,configurable:!0,enumerable:!0}),M.push(()=>delete this[D]);else{let w=a.values().find(U=>U[D]!==void 0)?.id;throw new Error(`Duplicate component property: "${D}" while adding component "${p.id}"`+(w?` (originally added by "${w}")`:""))}}let E=()=>{if(p.require){for(let D of p.require)if(!this.c(D))throw new Error(`Component "${p.id}" requires component "${D}"`)}};p.destroy&&M.push(p.destroy.bind(this)),this.exists()?(E(),p.add&&(m=D=>M.push(D),p.add.call(this),m=null),p.id&&(this.trigger("use",p.id),v.game.events.trigger("use",this,p.id))):p.require&&M.push(this.on("add",E).cancel)},unuse(p){if(a.has(p)){for(let M of a.values())if(M.require&&M.require.includes(p))throw new Error(`Can't unuse. Component "${M.id}" requires component "${p}"`);a.delete(p),this.trigger("unuse",p),v.game.events.trigger("unuse",this,p)}else y&&d.has(p)&&d.delete(p);s[p]&&(s[p].forEach(M=>M()),delete s[p])},c(p){return a.get(p)??null},get(p,M={}){let E=(x,w)=>M.only==="comps"?x.has(w):M.only==="tags"?x.is(w):x.is(w)||x.has(w),D=M.recursive?this.children.flatMap(function x(w){return[w,...w.children.flatMap(x)]}):this.children;if(D=D.filter(x=>p?E(x,p):!0),M.liveUpdate){let x=U=>M.recursive?this.isAncestorOf(U):U.parent===this,w=[];w.push(v.k.onAdd(U=>{x(U)&&E(U,p)&&D.push(U)})),w.push(v.k.onDestroy(U=>{if(x(U)&&E(U,p)){let V=D.findIndex(P=>P.id===U.id);V!==-1&&D.splice(V,1)}})),this.onDestroy(()=>{for(let U of w)U.cancel()})}return D},query(p){let M=p.hierarchy||"children",E=p.include,D=p.exclude,x=[];switch(M){case"children":x=this.children;break;case"siblings":x=this.parent?this.parent.children.filter(U=>U!==this):[];break;case"ancestors":let w=this.parent;for(;w;)x.push(w),w=w.parent;break;case"descendants":x=this.children.flatMap(function U(V){return[V,...V.children.flatMap(U)]});break}if(E&&((p.includeOp||"and")==="and"||!Array.isArray(p.include)?x=x.filter(w=>w.is(E)):x=x.filter(w=>p.include.some(U=>w.is(U)))),D&&((p.includeOp||"and")==="and"||!Array.isArray(p.include)?x=x.filter(w=>!w.is(D)):x=x.filter(w=>!p.exclude.some(U=>w.is(U)))),p.visible===!0&&(x=x.filter(w=>w.visible)),p.distance){if(!this.pos)throw Error("Can't do a distance query from an object without pos");let w=p.distanceOp||"near",U=p.distance*p.distance;w==="near"?x=x.filter(V=>V.pos&&this.pos.sdist(V.pos)<=U):x=x.filter(V=>V.pos&&this.pos.sdist(V.pos)>U)}return p.name&&(x=x.filter(w=>w.name===p.name)),x},isAncestorOf(p){return p.parent?p.parent===this||this.isAncestorOf(p.parent):!1},exists(){return v.game.root.isAncestorOf(this)},is(p,M="and"){return Array.isArray(p)?M==="and"?p.every(E=>d.has(E)):p.some(E=>d.has(E)):d.has(p)},tag(p){if(Array.isArray(p))for(let M of p)d.add(M),this.trigger("tag",M),v.game.events.trigger("tag",this,M);else d.add(p),this.trigger("tag",p),v.game.events.trigger("tag",this,p)},untag(p){if(Array.isArray(p))for(let M of p)d.delete(M),this.trigger("untag",M),v.game.events.trigger("untag",this,M);else d.delete(p),this.trigger("untag",p),v.game.events.trigger("untag",this,p)},has(p,M="and"){return Array.isArray(p)?M==="and"?p.every(E=>a.has(E)):p.some(E=>a.has(E)):a.has(p)},on(p,M){let E=o.on(p,M.bind(this));return m&&m(()=>E.cancel()),E},trigger(p,...M){o.trigger(p,...M),v.game.objEvents.trigger(p,this,...M)},destroy(){this.parent&&this.parent.remove(this)},inspect(){let p={};for(let[M,E]of a)p[M]=E.inspect?.()??null;for(let[M,E]of u.entries()){if(E.inspect){p[M]=E.inspect();continue}for(let[D,x]of Object.entries(E))typeof x!="function"&&(p[D]=`${D}: ${x}`)}return p},onAdd(p){return this.on("add",p)},onFixedUpdate(p){return this.on("fixedUpdate",p)},onUpdate(p){return this.on("update",p)},onDraw(p){return this.on("draw",p)},onDestroy(p){return this.on("destroy",p)},onUse(p){return this.on("use",p)},onUnuse(p){return this.on("unuse",p)},clearEvents(){o.clear()}},S=["onKeyPress","onKeyPressRepeat","onKeyDown","onKeyRelease","onMousePress","onMouseDown","onMouseRelease","onMouseMove","onCharInput","onMouseMove","onTouchStart","onTouchMove","onTouchEnd","onScroll","onGamepadButtonPress","onGamepadButtonDown","onGamepadButtonRelease","onGamepadStick","onButtonPress","onButtonDown","onButtonRelease"];for(let p of S)b[p]=(...M)=>{let E=v.app[p]?.(...M);return f.push(E),b.onDestroy(()=>E.cancel()),b.on("sceneEnter",()=>{f.splice(f.indexOf(E),1);let D=v.app[p]?.(...M);Ml.replace(E,D),f.push(E)}),E};for(let p of n)b.use(p);return b}var db=()=>({events:new Ru,objEvents:new Ru,root:zf([]),gravity:null,scenes:{},currentScene:null,layers:null,defaultLayerIndex:0,logs:[],cam:{pos:null,scale:new F(1),angle:0,shake:0,transform:new Xn}});function gb(n){v.game.gravity=n?(v.game.gravity||L(0,1)).unit().scale(n):null}function mb(){return v.game.gravity?v.game.gravity.len():0}function pb(n){v.game.gravity=n.unit().scale(v.game.gravity?v.game.gravity.len():1)}function Ou(){return v.game.gravity?v.game.gravity.unit():L(0,1)}var yb=$1("//uUBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAATAAAeAAANDQ0NDRoaGhoaKCgoKCg1NTU1NTVDQ0NDQ1BQUFBQXl5eXl5ra2tra2t5eXl5eYaGhoaGlJSUlJShoaGhoaGvr6+vr7y8vLy8ysrKysrX19fX19fl5eXl5fLy8vLy//////8AAAA5TEFNRTMuMTAwAaoAAAAAAAAAABSAJAOPhgAAgAAAHgBaqIlmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uUBAAP8h1kPIABR4BEDGeQAEbkSb2RAACBFMEyMiAAASJw4xjgwAGyRvfIoZT2QKGV5YNw/tKID9+X93qXtBQUFBQ/e+EFKTQUT/dy3f5dK/3d04rkXHpufCClDAaH7jDMgFAQEGfPt+jI352U9vU4GLRpzkUDeeeTQggQe2ggF3d7/3j697DnhCH5iGf38//iNj9oy2Jk71oj+CBAABGNB4RJNMwgCABCB//8//l////1z6XEGd73az07sOkwZD9VYgjzjmQ6j4EMfZM86OJ7GUWwvFw3ZPcdVEtczf9RNf6xMyxLjZZgjMQ7KDkLSU8g2E12UDUWrf//////9LdtFdeeqKwSitW9SJL59VM5pyUGiBNiK0jIGO0j7p3pUpWpaeqi1nTvqP3b43mGmM6HeXFjIlRwiFiIDQRRAGgkDQhxMMv//+f1//6XM/PfMvysJa3993MjDjhaRkrV3cRPXjGptDDGTHtFKUeMHU0K5STvVfMtVX/UXHctt1Z1//uUBB0AgnZkQAAgRTBMzIgAACiqCdB9E1QRgAFuIuGmhjABPZRJRCHi4etY2gcEYRwFw5KFBMMRV/////z6kX2ppnJszEzKbkZKEumm+pBRUDBg9IsgXGXrazn1QhmGjBrLVjT5Xvir0HT7d//HSZh18IZdji2N5JZgbA3DwQAahogSDqUhQuNtpJmBTwAGMY2QP3c/dy4EKsAABoXEJEFmlf/c4TgYtwcAbwfD4gOOoS1QIH7jDnNzYVe1x4mNFyD2jMVaaykjV29ePMARwXcUOgAFr+UjhVz4jhwMDFxPKgYs3cDFpohVgAAYAIO7u8eAAjRNA7hBFAwN3ACDvu7nETkLMrnyIj8v/9fNwhF9vKRfm82P5zPPmLV/WKs9G3d16n/v3rubEN0zgs7RdWrHne9brdv5bI4EwEAM6lj7aVdTKtXQHgLdzCKQ2kcihe4FyMcD1r3nR4TWxuax5EOZJEs3DEQnjyqyB8cSfrI6GEcoJxiHBDEfrTOFYrO1//uUBCgAA406ym5hgAB1R1ktzDwACxDBZzj0gAFhGrA3HoACypAXH9HY4umZan4ZlZKldajczMzMzOTnzMvnb77f/1IuSzHIbnJLJdapWmwUAQBXqWPtqV1OyqVqXhB9abR90OyKEsM51pIJK/nXplbDPtKz2dH+oVWeZSm8z7nvAZ19bneqhk3qeBhrhZiLbCc8sRnXb520RnPFd61/AgSR4f8CVlfWpD/////+N6/jv8v4f/6Ln///06c8YYcQIaGmAJ9VhMHEZYc9Kn0TOOYKv2cibDoZieAaGy4Cd6AfGkxQQr+agomAw+dC7AkjOxklIZEpUgmHxXP7/znl/4qT9Z/8+T2a0WF9/lvpv39if/KZnV6Gp1vQRmN1rYDAADfLGQxVR2d49LQLXdImm5n40smwjQ4aIYKMeKCOEw0OBV5cHA8cFV8mB5LyIIeksHspy79/iTv9SH+v66f2Wn/i+Lt//x9y//5MohgAAXiTCVBil4RUZ7XUvPRCD9Uc//uUBAoAAro3Wzc9AABXRutm56AACrUhc6eYT0FWpC508wnoO35hs9j6x7PQOB0PF0JWIkYwigNPoXUBA0cKA6JwDB7lRKDm/93r/mb6iEqL5lv3Vq//6YgYd1AgECi4xACCYbHyukYAAF4kwlQYpeEVGe11Lz0Qg/VHDt+YbPY+sez0DgdDxdCViJGMIoDT6F1AQNHCgOicAwe5USg5v/d6/5m+ohKi+Zb91av/+mIGHdQIBAouMQAgmGx8rptmoLKSACTuBBUPFsH6RlCz+UhoKeVfJy/eqOspBG4PScFOnOxYJJcf/nVzmyfR42Zwxy//hfSUrPq1SzFnO7q/SzNUzst+GQpnZ/kLwzVZ9xJ2lVa02zUFlJABJ3AgqHi2D9IyhZ/KQ0FPKvk5fvVHWUgjcHpOCnTnYsEkuP/zq5zZPo8bM4Y5f/wvpKVn1apZiznd1fpZmqZ2W/DIUzs/yF4Zqs+4k7SqtaYkWgEGMgppYQlMVdKcos2bWFZbFIJp//uUBAsAAr0wWe1hAABXpgs9rCAACwS5azj0gAFgly1nHpAAVgWmZa3LaUWCcGh5HgOEYkViyQUjrX+G5FUr5Dla1ZhtXDf7ckpazXwzeusqq+zXwUePSw8NYzlZKWfbyzod4dCRItAIMZBTSwhKYq6U5RZs2sKy2KQTSrAtMy1uW0osE4NDyPAcIxIrFkgpHWv8NyKpXyHK1qzDauG/25JS1mvhm9dZVV9mvgo8elh4axnKyUs+3lnQ7w6EkIEIIZFKlBSAGwRMrEIEuM658s5gvyVtFDrQtgTY2YSPlAJcgwlXLmokM8sUQJYJOm3eaW04jWVsoghX+ZBt3SHFZOypVez//VONpL+du6U+4WLXBC79cuhAhBDIpUoKQA2CJlYhAlxnXPlnMF+StoodaFsCbGzCR8oBLkGEq5c1EhnliiBLBJ027zS2nEaytlEEK/zINu6Q4rJ2VKr2f/6pxtJfzt3Sn3Cxa4IXfrl6IGEh4icUSUDRZk/k88VFEmCy//uUBAkAAociWgZh4ABQ5EtAzDwAC6zBXBmXgAF1mCuDMvAART7WmhWQ9QwYJexoKJ+z1bcQqfEFmtDtXH8lUg2omFi2b/4+UhW/j+bHgwAM8SqMAQFxYj9wqAwhlftf//sSQMJDxE4okoGizJ/J54qKJMFkin2tNCsh6hgwS9jQUT9nq24hU+ILNaHauP5KpBtRMLFs3/x8pCt/H82PBgAZ4lUYAgLixH7hUBhDK/a///YmHznKbibgJd0lEi0TfuHXCfhZ0faHA6GL3GuUpLTgTwnd/upcFAbo+BGMfzKxWE9PNg+sbrEwwRLn6uFElWTc/zN8Yvf5V3xV29///8OO/f7j3cT0mgMTPP9uPEwIQ+c5TcTcBLukokWib9w64T8LOj7Q4HQxe41ylJacCeE7v91LgoDdHwIxj+ZWKwnp5sH1jdYmGCJc/Vwokqybn+ZvjF7/Ku+Ku3v///hx37/ce7iek0BiZ5/tx4mBCmI5QXQAgigG+j0P8fdg2Xjs//uUBAiAAqwlWwY94ABVhKtgx7wACoilZ7z0AAFUlOz3noAAii2PkO1AMBYBIssJqQ5PtEdSQ2WE3xIF22b19axY89F5QQmWCwxJrf51h5mt74jRvBahCxQkS0MgJxY15ITjX3sb+vlGI5QXQAgigG+j0P8fdg2Xjsii2PkO1AMBYBIssJqQ5PtEdSQ2WE3xIF22b19axY89F5QQmWCwxJrf51h5mt74jRvBahCxQkS0MgJxY15ITjX3sb+vlEBsAgCSkHfwmFY/MMKQyg4tjhHeuR2mpSZWstSwEQAw00wZaogwgZL3PPVWw9vuB51zUXf3Df/ytV917DjxQEGA+0mbu4YYg4TnkRcMGQsxH/Ioc1AbAIAkpB38JhWPzDCkMoOLY4R3rkdpqUmVrLUsBEAMNNMGWqIMIGS9zz1VsPb7gedc1F39w3/8rVfdew48UQIFwus29HKDIAW8tcsSGAOKXK/jHmF1AkIAAC8ZUaEFwTHUylbannoarv7HwxH8//uUBAwEAtAx18sMQuBVJisaYSJeCmhnX6eZLQFZJy208wmidE7zXIRk0ZLYCqc1eg1sKc3HZuweFNeSCHHGg+JyhTcd8RE3/+rJXIdH6UpI2qUdVtHGRCOewEOXGUfKG2/v+RIoA0MAAAByh2gABL0EpLTwNTz0qzjM2ER8SF2lsSRLESGiqG5JXMCauo+aTB1GQKTyJd6SDnG6Iv8rkaoYeRihQbVGzJSSQ4sOghQh7vhkf+T0agMeCYAcAABBO40gsg/gOpfIiHoQgldEIGLVK9EaTFmFH9jkkvLA41VT/4q0XDJLUopJkJmWHAqZyRAPJOvBUS+NYSLC4FFjoJkUfGP/La3XNJCMJPep5CkIaRQCSTuM4ikUepPHAnZLEErtHuqs1EWDizBAvsdVeWBxqqn9aiS9FK24Z0KUhvVkY7ZbylKV/SrKiK0yrKqFkPe3/sZ//8xt6t2dajIDpFMRf6tSU9FIlJJKChTJIgq2hhZlrTlNcpaB/Xv5rDOU//uUBA2AAoQl1lVgwARQxLrKrBgAjCyVTrmngAGFkqnXNPAAg4ANdH9PKxIijn/xmvyjW2ZISnLe5yUtyv2ufSTfVJUGyoFiU6s6Crgyd2PEyn5Ul/85kUElPRSJSSSgoUySIKtoYWZa05TXKWgf17+awzlIOADXR/TxLEiKOf/GZ/KNbZkhKct7nJS3K/a59JN9UlQbKgWJTqzoKuDJ3Y8TKflSX/zmRQSCs10kCQCFAcBJCZCbl2c0bF5RBELfoQBmp3G2m3m3lgZoN0/BmhutukeGPbe/GtGj9jtiXNZdfDjIwYiYvnePS27ebO75y/Edksl4SONB/PlBrg6dNh8h+pW2//lktFhYcFZrpIEgEKA4CSEyE3Ls5o2LyiCIW/QgDNTuNtNvNvLAzQbp+DNDdbdI8Me29+NaNH7HbEuay6+HGRgxExfO8elt282d3zl+I7JZLwkcaD+fKDXB06bD5D9Stt//LJaLCw4AhAEAACKEywIJz0PRwTBn6tS2//uUBAmAAmUjVNdhAABMpGqa7CAACWiNUay8pYEtEao1l5SwsvqET9LUv/TIpAROYdsSHIoHxzccjRUPRZmVQnHLH7FYdB9rF8Q11yOCAKeHZHyIhMO///lWz0JPcAQgCAABFCZYEE56Ho4Jgz9WpbWX1CJ+lqX/pkUgInMO2JDkUD45uORoqHoszKoTjlj9isOg+1i+Ia65HBAFPDsj5EQmHf//yrZ6EnuACgcjEAKT2Dfl0wUuCCDwOHgDLjMYs6OLViO840e/fHfBZmadNu+NYYNVT84fPkYRCJ/K5V3vsq0Gh0H0YgBP+moubbodw+IHr/kgAoHIxACk9g35dMFLggg8Dh4Ay4zGLOji1YjvONHv3x3wWZmnTbvjWGDVU/OHz5GEQifyuVd77KtBodB9GIAT/pqLm26HcPiB6/5KAE6OeESRRgDMViF4jCI2bT5fbThs6iKGQfPTVaYtXdjMROEbiIqKlZk1KJAzpcWEnNs6FapfKXq1jerLEhaS//uUBB+BAmUqVWsMKrhMpUqtYYVXCTSlTzWSgAE0lKp2sFAAqcgRPyRHxKsBPAQVtIgCdHPCJIowBmKxC8RhEbNp8vtpw2dRFDIPnpqtMWruxmInCNxEVFSsyalEgZ0uLCTm2dCtUvlL1axvVliQtJVOQIn5Ij4lWAngIK2kQCHQhVnhkMD1BlLGveBt13z8bjbsI+MtfqdjdaAQiJFeBGV0AQFB2Qr8QDBc8iiATM25R8+fqp/Izn9CHGC7CEg5BTqd6jM4IBoADCiIYSTWAeAwKIoGBRr+EfZ3bjcbhhdDLX6nY3WgEIiRXgRloICoOyFfiA4+RRAJmbco+fP1U/kZz+hDjBdhCQcgp1O9QZnAQAbiCQAm485bonLdZ5NLqAAAEaPfiGAJsDpfUrAhC8wIZFkkEsiX6UBGvscp3FQfN5VNjWCnQ6AGqvk/UqZBbG3rpCt0gR7qtiNBxOfSeTupa6fMjXaMuYTclIn9ZIVayP2pYMiVUajtVYufukCu//uUBDWABAw9Uu5p4AKDx9qdzLwAiiyjShmngAFFlGlDNPAAm9bW7Vct6q61jNa/e6f/0cL33T31CoACacjUkabckdbjkoAAQ2Pe5fJoCshU+EXmCMRGkCbpN6UCNfKFHfcVB8kSOgSgDsuTAAtXyfqVMgtjb10hW6QI91XCQyZP85jl1K90+ZGuz5Ewl0gGT+skKsGAr0weA/JVRqO1Vi5+6QK6b1tbtFct6q61jNa+26fG/RwvfdPeIpm6BswQctcoCeIAYEYf1mWXRGbxQSwlUiCoY91ytUSo4mqDAgHrhQ3Y/4l2ptfeDG/xHfQXlda18S59aW+rZz8/Gtf7vXU0aFeJUKxkREA+tA5tnJGCDlrlATxADAjD+syy6IzeKCWEqkQVDHuuVqiVHE1QYEA9cKG7H/Eu1Nr7wY3+I76C8rrWviXPrS31bOfn41r/d66mjQrxKhWMiIgH1oHNs5Iw4nNwugqcGVUIoOnFryq5YBVMFyLPEAM4rxNXgSVW//uUBA+AAtkszwZtgABapZngzbAACxyZTzmkgAljkynnNJABzA8PYTFvx2VIR78NqPytscLolrRXGbLUv3rfHNp37BGU77n4xv9NNmu7larWfrk294JgJMNJQ9k6Z//3mHE5uF0FTgyqhFB04teVXLAKpguRZ4gBnFeJq8CSq2YHh7CYt+OypCPfhtR+VtjhdEtaK4zZal+9b45tO/YIynfc/GN/pps13crVaz9cm3vBMBJhpKLJ0z//vAA/m9Y8//8wALImAAl3wUQQSnfKuPXkDS5Ql5I8JfOufQG0twDlAxToCFKYarEoVqWFNJ6nNVd9fnX5/O72D/GEfeJf1TBIwjlyh7XHDg+dW/e///9oGG0YAH83rHn//mABZEwAEu+CiCCU75Vx68gaXKEvJHhL51z6A2luAcoGKdAQpTDVYlCtSwppPU5qrvr86/P53ewf4wj7xL+qYJGEcuUPa44cHzq373///tAw2joy5iMKijE5A82dFg4+liKoGBQF//uUBAmAAqobToZt4ABVI2nQzbwAClBrX7j0gBFKDWv3HpACuAcKpXhYKYZtV8OtethxIYxrF3onBiRVg0Z5VNJHjodV8sWdI031RiPzue4vQ9IA5zgUawg6s0J1ixM4H0rkVfR6DLmIwqKMTkDzZ0WDj6WIqgYFAW4BwqleFgphm1Xw6162HEhjGsXeicGJFWDRnlU2I8dDqvlizpGm+qMR+dz3F6HpAHOcCjWEHVmhOsWJnA+lcir6PQCI3I43G43HIxGIwIABFJObxBmwXEYYlhzHKcYl4ccyEKlyI6ONNnSpVx1pORjqKXEvGgpRqN/VI1tIQnEAogesbyZtJhhEj7rQutav+WB4ClRCCI3I43G43HIxGIwIABFJObxBmwXEYYlhzHKcYl4ccyEKlyI6ONNnSpVx1pORjqKXEvGgpRqN/VI1tIQnEAogesbyZtJhhEj7rQutav+WB4ClRDWAElxIBP/fgA5BRsQaBJEcORBgUrqXzDOmyQ7B8Js0//uUBA+AAnIbz+9swABNA3nq7ZgACYxbKSxpgQEzi6UljTAh0ph0igLRRPKosl/+21oMFkUfTMlPbu5vLWMhsIpBoJlEBWacSYwqxs0adkSycpqwAugFfb4AMMU0BUCAJUc6VBAkwaXzDlPhDsnkNmmlMVAKAOiieBJHkv/22tBkzUfXZJ+37zy1jILgmkGjpRAVmnCVjCrGzRozkSydWoAAhAKsACEHAmDZAyOJvjXlQsCbLAhfALBGnDuUyMsKxSWoyN41Ma1yzl81ldaycS4FmOc/HeG0F0EouNMvOJY8wRknQ2MHFgo50O9wABCAVYAEIOBMGyBkcTfGvKhYE2WBC+AWCNOHcpkZYViktRkbxqY1rlnL5rK61k4lwLMc5+Od4vceyz2aZfD2t6Yf1T8VpbBUmvyf/6WSCIaFJmBQHBBPnChjBCJpALOEZzWEOoXAjEVcJwU6QNMnCQemw5lYr1wP4Yrd7Kh813KsJITdZtDZdO/Nb/EeIEOq6mn9//uUBCMMglwayou4eTBKg1lRdw8mCRxbKCzswxEuGGWdow2oj0ziXaKZIIhoUmYFAcEE+cKGMEImkAs4RnNYQ6hcCMRVwnBTpA0ycJB6bDmVivXA/hit3sqHzXcqwkhN1m0Nl0781v8R4gQ3qup/2PTcl2geDKLS0Dlz62OeezARhAXGxQHQWEYYrFAT3TZw4FCwS4JDTF8AkaliQVaJoBk2ZlkiTQ2GgZmiQ1TzBSo+AA7JnYoKkVD1ZLuX4AtuEAwAFeAsHNMiPlXBIxSunQZU2GQTJoCe6bOHAoWCXBIaYvkUWljkvhpGS5mWFUrqaky+ZUivDyLT+PkTH9Nf5Jc8MPCT5LS5agFKBGvwAEGuOYUBgViPhKwULrvceUN2EYE5cfjEPVa76oYHc8iajBh079LyeBx+8xsatjP5+f/v9moz085O0y92c1/TLeIQBc5iarAMAtQBhIDsHMLAswKiDlZBMLgFd7jyhuwXBjO4/GIeq131ERQsohipJqEF//uUBDuAAl4rSc1swABNpWkWriAAT6S1N7msABH4Fqa3NYACK3Y2lxKnyqWlj4I9evjntWStpWltoH3a1c9wPfBQe51tv4QIRW5JWpHY2wmAQCAA3Ez8JQ0wQP/M2RNaIDhCYutAAONBBkAlvb4j4+qi40CU4Bh3bhxXygTVd/7vSq0iY6iSWWXrsXQ29eVJCqUsoXWy7X/vdWvP1JZg/tBEovFId////7rne699onXkM9DUl/+GAZBQDf8JEQCKo//+ogQCRyuRRuRthMAgEABkJp6CMpiBP+aMybcYnwznWkEqoAuaC5GfvF8HZFWg/FXSa8blglIwmKgd/7XpVaYZFGTZZe5DuQPushJSpXIpuwbX/vdWvL6kswcmPQFF4Ef3////LXO917pQHTyGedqP//DAMgoD3/CREAiqP/2eqv////////3dk90KlpVV3eUWVjHLZSMUp5hxnpOcO1WpXVXu4ijKYTSd3IJ7Kzt6Wp7FWiGQUEGFRgdCgpRM//uUBB8P8lRjwIcAoABJLFgQ4BQASJmNAgAFHEkIsiAAAaegRMowxhYVZBMOCoAh7/////////79CTkvIITTqZkZjVGEMPHvEBE7IZXMpGVFYqsKyOYw5jjmOZkFDdkZLkW+9NjEIZxbiYixXO5QkcoRVQoYBgYPlK+XmRGbwXaEFZGvWIpZLWEizxltQ9uELQV7E73d3HESrONG7w3dTdpF6Skf/zNT3I6rIKxJy1oKCtGGjj5FDxcKB+HpYd/3//i3rZFOT0N05+QpgWZYZ3pi5biJNCj4fRQQwYK8p48BQUTWPDTbNjkPn8+1VXKvJ7dJ5Gb2mESWLjnHOYNH07r6//////////icK81KXqTXuvQEteLGdY0DKwrjQVTIMKbgE0b41Egi1KxtuNwUpf9X+bNqTUlXbDClWgIlS4wMVc1F0QZc3/N/yto/7eUShjGUstRgIUZXKUrFYwU5SgKOxgYE+krfVkf6St/VpnMaYwpwoCjoZwoCZwqFC4LH//uUBD+P4jNjPwAjN8I7THfwAEnqR8mAugCAcQkHsheEERr40LUwj//hIzL//9k/9rJZ9lks+yyVDL/////81YHZUMj//yZZLHIy7/5qwMHHIyZZL/sslQyNWt/I1DBQYRxPYaxS/////5kn///6on0VEVP/6on/7OVFVO5QwUGEOzyhgaoqKhQwMGCUjt////8qaLdr/qTiyzLxaJxpRTt6RBhIhDZMQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"),vb=()=>(()=>{let n=new(window.AudioContext||window.webkitAudioContext),a=n.createGain();a.connect(n.destination);let u=new Bu(XA(n));return n.decodeAudioData(yb.buffer.slice(0)).then(s=>{u.buf=s}).catch(s=>{console.error("Failed to load burp: ",s)}),{ctx:n,masterNode:a,burpSnd:u}})();function Ab(n,a={}){let u=new Qe,s=new Audio(n);s.crossOrigin="anonymous",s.loop=!!a.loop,v.audio.ctx.createMediaElementSource(s).connect(v.audio.masterNode);function o(){v.debug.paused||v.app.isHidden()&&!v.globalOpt.backgroundAudio||v.audio.ctx.resume()}function f(){o(),s.play()}return a.paused||f(),s.onended=()=>u.trigger(),{play(){f()},seek(d){s.currentTime=d},stop(){s.pause(),this.seek(0)},set loop(d){s.loop=d},get loop(){return s.loop},set paused(d){d?s.pause():f()},get paused(){return s.paused},time(){return s.currentTime},duration(){return s.duration},set volume(d){s.volume=Ln(d,0,1)},get volume(){return s.volume},set speed(d){s.playbackRate=Math.max(d,0)},get speed(){return s.playbackRate},set detune(d){},get detune(){return 0},onEnd(d){return u.add(d)},then(d){return this.onEnd(d)}}}function bb(n,a={}){if(typeof n=="string"&&v.assets.music[n])return Ab(v.assets.music[n],a);let u=v.audio.ctx,s=a.paused??!1,o=u.createBufferSource(),f=new Qe,d=u.createGain(),y=u.createStereoPanner(),m=a.seek??0,h=0,b=0,S=!1;o.loop=!!a.loop,o.detune.value=a.detune??0,o.playbackRate.value=a.speed??1,o.connect(y),o.onended=()=>{E()>=(o.buffer?.duration??Number.POSITIVE_INFINITY)&&f.trigger()},y.pan.value=a.pan??0,y.connect(d),d.connect(v.audio.masterNode),d.gain.value=a.volume??1;let p=x=>{o.buffer=x.buf,s||(h=u.currentTime,o.start(0,m),S=!0)},M=p2(n);M instanceof Mn&&M.onLoad(p);let E=()=>{if(!o.buffer)return 0;let x=s?b-h:u.currentTime-h,w=o.buffer.duration;return o.loop?x%w:Math.min(x,w)},D=x=>{let w=u.createBufferSource();return w.buffer=x.buffer,w.loop=x.loop,w.playbackRate.value=x.playbackRate.value,w.detune.value=x.detune.value,w.onended=x.onended,w.connect(y),w};return{stop(){this.paused=!0,this.seek(0)},set paused(x){if(s!==x)if(s=x,x)S&&(o.stop(),S=!1),b=u.currentTime;else{o=D(o);let w=b-h;o.start(0,w),S=!0,h=u.currentTime-w,b=0}},get paused(){return s},play(x=0){this.seek(x),this.paused=!1},seek(x){o.buffer?.duration&&(x>o.buffer.duration||(s?(o=D(o),h=b-x):(o.stop(),o=D(o),h=u.currentTime-x,o.start(0,x),S=!0,b=0)))},set speed(x){o.playbackRate.value=x},get speed(){return o.playbackRate.value},set detune(x){o.detune.value=x},get detune(){return o.detune.value},set volume(x){d.gain.value=Math.max(x,0)},get volume(){return d.gain.value},set pan(x){y.pan.value=x},get pan(){return y.pan.value},set loop(x){o.loop=x},get loop(){return o.loop},duration(){return o.buffer?.duration??0},time(){return E()%this.duration()},onEnd(x){return f.add(x)},then(x){return this.onEnd(x)}}}function c0(n){return v.k.play(v.audio.burpSnd,n)}function f0(n){v.audio.masterNode.gain.value=n}function h0(){return v.audio.masterNode.gain.value}function wb(n){return Ai("volume","setVolume / getVolume"),n!==void 0&&f0(n),h0()}function d0(){v.app.onHide(()=>{v.globalOpt.backgroundAudio||v.audio.ctx.suspend()}),v.app.onShow(()=>{!v.globalOpt.backgroundAudio&&!v.debug.paused&&v.audio.ctx.resume()}),v.app.onResize(()=>{if(v.app.isFullscreen())return;let n=v.globalOpt.width&&v.globalOpt.height;n&&!v.globalOpt.stretch&&!v.globalOpt.letterbox||(v.canvas.width=v.canvas.offsetWidth*v.pixelDensity,v.canvas.height=v.canvas.offsetHeight*v.pixelDensity,zp(),n||(v.gfx.frameBuffer.free(),v.gfx.frameBuffer=new fr(v.gfx.ggl,v.gfx.ggl.gl.drawingBufferWidth,v.gfx.ggl.gl.drawingBufferHeight),v.gfx.width=v.gfx.ggl.gl.drawingBufferWidth/v.pixelDensity/v.gscale,v.gfx.height=v.gfx.ggl.gl.drawingBufferHeight/v.pixelDensity/v.gscale))}),v.globalOpt.debug!==!1&&(v.app.onKeyPress(v.globalOpt.debugKey??"f1",()=>v.debug.inspect=!v.debug.inspect),v.app.onKeyPress("f2",()=>v.debug.clearLog()),v.app.onKeyPress("f8",()=>v.debug.paused=!v.debug.paused),v.app.onKeyPress("f7",()=>{v.debug.timeScale=nf(Ln(v.debug.timeScale-.2,0,2),1)}),v.app.onKeyPress("f9",()=>{v.debug.timeScale=nf(Ln(v.debug.timeScale+.2,0,2),1)}),v.app.onKeyPress("f10",()=>v.debug.stepFrame())),v.globalOpt.burp&&v.app.onKeyPress("b",()=>c0())}function xb(n,a={}){let u=v.game.root.add([dr(n),v0()]),s=(a.speed||1)*5,o=a.scale||1;u.add([cf(v.boomSprite),gr(0),df("center"),tp(s,o),...a.comps??[]]);let f=u.add([cf(v.kaSprite),gr(0),df("center"),ff(),...a.comps??[]]);return f.wait(.4/s,()=>f.use(tp(s,o))),f.onDestroy(()=>u.destroy()),u}function g0(n,a){if(v.game.layers)throw Error("Layers can only be assigned once.");let u=n.indexOf(a);if(u==-1)throw Error("The default layer name should be present in the layers list.");v.game.layers=n,v.game.defaultLayerIndex=u}function Sb(){return v.game.layers}function Eb(){return v.game.layers?.[v.game.defaultLayerIndex]??null}function Mb(n,a){Ai("layers","setLayers"),g0(n,a)}function m0(n){n.destroy()}function Tb(){return v.game.root}function qb(n,a){v.game.scenes[n]=a}function Db(n,...a){if(!v.game.scenes[n])throw new Error(`Scene not found: ${n}`);v.game.events.onOnce("frameEnd",()=>{v.game.events.trigger("sceneLeave",n),v.app.events.clear(),v.game.events.clear(),v.game.objEvents.clear(),[...v.game.root.children].forEach(u=>{!u.stay||u.scenesToStay&&!u.scenesToStay.includes(n)?v.game.root.remove(u):u.trigger("sceneEnter",n)}),v.game.root.clearEvents(),d0(),v.game.cam={pos:null,scale:L(1),angle:0,shake:0,transform:new Xn},v.game.scenes[n](...a)}),v.game.currentScene=n}function Ob(n){return v.game.events.on("sceneLeave",n)}function Rb(){return v.game.currentScene}function cf(n,a={}){let u=null,s=null,o=null,f=new Qe;if(!n)throw new Error("Please pass the resource name or data to sprite()");let d=(h,b,S,p)=>{let M=L(1,1);return S&&p?(M.x=S/(h.width*b.w),M.y=p/(h.height*b.h)):S?(M.x=S/(h.width*b.w),M.y=M.x):p&&(M.y=p/(h.height*b.h),M.x=M.y),M},y=(h,b)=>{if(!b)return;let S=b.frames[0].clone();a.quad&&(S=S.scale(a.quad));let p=d(b.tex,S,a.width,a.height);if(h.width=b.tex.width*S.w*p.x,h.height=b.tex.height*S.h*p.y,b.anims)for(let M in b.anims){let E=b.anims[M];typeof E!="number"&&(E.frames=m(E))}u=b,f.trigger(u),a.anim&&h.play(a.anim)},m=h=>{if(h.frames)return h.frames;let b=[];if(h.from===void 0||h.to===void 0)throw new Error("Sprite anim 'from' and 'to' must be defined if 'frames' is not defined");let S=Math.abs(h.to-h.from)+1;for(let p=0;p<S;p++)b.push(h.from+p*Math.sign(h.to-h.from));if(h.pingpong)for(let p=S-2;p>0;p--)b.push(b[p]);return b};return{id:"sprite",width:0,height:0,frame:a.frame||0,quad:a.quad||new te(0,0,1,1),animSpeed:a.animSpeed??1,flipX:a.flipX??!1,flipY:a.flipY??!1,get sprite(){return n.toString()},set sprite(h){let b=nr(h);b&&b.onLoad(S=>y(this,S))},get animFrame(){if(!u||!s||o===null)return this.frame;let h=u.anims[s.name];return typeof h=="number"?h:h.from===void 0||h.to===void 0?s.frameIndex:this.frame-Math.min(h.from,h.to)},draw(){if(!u)return;let h=u.frames[this.frame??0];if(!h)throw new Error(`Frame not found: ${this.frame??0}`);if(u.slice9){let{left:b,right:S,top:p,bottom:M}=u.slice9,E=u.tex.width*h.w,D=u.tex.height*h.h,x=this.width-b-S,w=this.height-p-M,U=b/E,V=S/E,P=1-U-V,G=p/D,O=M/D,R=1-G-O,X=[he(0,0,U,G),he(U,0,P,G),he(U+P,0,V,G),he(0,G,U,R),he(U,G,P,R),he(U+P,G,V,R),he(0,G+R,U,O),he(U,G+R,P,O),he(U+P,G+R,V,O),he(0,0,b,p),he(b,0,x,p),he(b+x,0,S,p),he(0,p,b,w),he(b,p,x,w),he(b+x,p,S,w),he(0,p+w,b,M),he(b,p+w,x,M),he(b+x,p+w,S,M)];for(let K=0;K<9;K++){let tt=X[K],et=X[K+9];hr(Object.assign(El(this),{pos:et.pos(),tex:u.tex,quad:h.scale(tt),flipX:this.flipX,flipY:this.flipY,tiled:a.tiled,width:et.w,height:et.h}))}}else hr(Object.assign(El(this),{tex:u.tex,quad:h.scale(this.quad??new te(0,0,1,1)),flipX:this.flipX,flipY:this.flipY,tiled:a.tiled,width:this.width,height:this.height}))},add(){let h=nr(n);h?h.onLoad(b=>y(this,b)):Cf(()=>y(this,nr(n).data))},update(){if(!u||!s||o===null)return;let h=u.anims[s.name];if(typeof h=="number"){this.frame=h;return}if(h.speed===0)throw new Error("Sprite anim speed cannot be 0");if(s.timer+=Me()*this.animSpeed,s.timer>=1/s.speed){s.timer=0,s.frameIndex+=o;let b=h.frames;if(s.frameIndex>=b.length)if(s.pingpong&&!h.pingpong)o=-1,s.frameIndex=b.length-2;else if(s.loop)s.frameIndex=0;else{this.frame=b.at(-1),s.onEnd(),this.stop();return}else if(s.frameIndex<0)if(s.pingpong&&s.loop)o=1,s.frameIndex=1;else if(s.loop)s.frameIndex=b.length-1;else{this.frame=b[0],s.onEnd(),this.stop();return}this.frame=b[s.frameIndex]}},play(h,b={}){if(!u){f.add(()=>this.play(h,b));return}let S=u.anims[h];if(S===void 0)throw new Error(`Anim not found: ${h}`);s&&this.stop(),s=typeof S=="number"?{name:h,timer:0,loop:!1,pingpong:!1,speed:0,frameIndex:0,onEnd:()=>{}}:{name:h,timer:0,loop:b.loop??S.loop??!1,pingpong:b.pingpong??S.pingpong??!1,speed:b.speed??S.speed??10,frameIndex:0,onEnd:b.onEnd??(()=>{})},o=typeof S=="number"?null:1,this.frame=typeof S=="number"?S:S.frames[0],this.trigger("animStart",h)},stop(){if(!s)return;let h=s.name;s=null,this.trigger("animEnd",h)},numFrames(){return u?.frames.length??0},getCurAnim(){return s},curAnim(){return s?.name},getAnim(h){return u?.anims[h]??null},hasAnim(h){return!!this.getAnim(h)},onAnimEnd(h){return this.on("animEnd",h)},onAnimStart(h){return this.on("animStart",h)},renderArea(){return new Wt(L(0),this.width,this.height)},inspect(){return typeof n=="string"?`sprite: "${n}"`:null}}}function Cb(n,a={}){function u(o){let f=xl(Object.assign(El(o),{text:o.text+"",size:o.textSize,font:o.font,width:a.width&&o.width,align:o.align,letterSpacing:o.letterSpacing,lineSpacing:o.lineSpacing,transform:o.textTransform,styles:o.textStyles,indentAll:a.indentAll}));return a.width||(o.width=f.width/(o.scale?.x||1)),o.height=f.height/(o.scale?.y||1),f}let s={id:"text",set text(o){n=o,u(this),this.renderedText=sf(n).text},get text(){return n},textSize:a.size??36,font:a.font,width:a.width??0,height:0,align:a.align,lineSpacing:a.lineSpacing,letterSpacing:a.letterSpacing,textTransform:a.transform,textStyles:a.styles,renderedText:n?sf(n).text:"",add(){Cf(()=>u(this))},draw(){Sl(u(this))},renderArea(){return new Wt(L(0),this.width,this.height)}};return u(s),s}function zb(n,a){return{id:"rect",width:n,height:a,draw(){Uu(Object.assign(El(this),{width:this.width,height:this.height}))},renderArea(){return new Wt(L(0),this.width,this.height)},inspect(){return`uvquad: (${Math.ceil(this.width)}w, ${Math.ceil(this.height)})h`}}}function Bb(n={}){let a=null,u=null,s=null,o=null;return{id:"agent",require:["pos","tile"],agentSpeed:n.speed??100,allowDiagonals:n.allowDiagonals??!0,getDistanceToTarget(){return a?this.pos.dist(a):0},getNextLocation(){return u&&s?u[s]:null},getPath(){return u?u.slice():null},getTarget(){return a},isNavigationFinished(){return u?s===null:!0},isTargetReachable(){return u!==null},isTargetReached(){return a?this.pos.eq(a):!0},setTarget(f){a=f,u=this.getLevel().getPath(this.pos,a,{allowDiagonals:this.allowDiagonals}),s=u?0:null,u&&s!==null?(o||(o=this.getLevel().onNavigationMapChanged(()=>{a&&u&&s!==null&&(u=this.getLevel().getPath(this.pos,a,{allowDiagonals:this.allowDiagonals}),u?(s=0,this.trigger("navigationNext",this,u[s])):(s=null,this.trigger("navigationEnded",this)))}),this.onDestroy(()=>o?.cancel())),this.trigger("navigationStarted",this),this.trigger("navigationNext",this,u[s])):this.trigger("navigationEnded",this)},update(){if(a&&u&&s!==null){if(this.pos.sdist(u[s])<2)if(s===u.length-1){this.pos=a.clone(),s=null,this.trigger("navigationEnded",this),this.trigger("targetReached",this);return}else s++,this.trigger("navigationNext",this,u[s]);this.moveTo(u[s],this.agentSpeed)}},onNavigationStarted(f){return this.on("navigationStarted",f)},onNavigationNext(f){return this.on("navigationNext",f)},onNavigationEnded(f){return this.on("navigationEnded",f)},onTargetReached(f){return this.on("targetReached",f)},inspect(){return"agent: "+JSON.stringify({target:JSON.stringify(a),path:JSON.stringify(u)})}}}function Ub(n){let a=n.graph;return{id:"pathfinder",require:["pos"],navigateTo(u){return this.graph?.getWaypointPath(this.pos,u,n.navigationOpt)},get graph(){if(a)return a;let u=this.parent;for(;u;){if(u.has("pathfinderMap"))return u.graph;u=u.parent}},set graph(u){a=u}}}function Nb(n={}){let a=n.waypoints,u=n.speed||100,s=n.endBehavior||"stop",o=0,f=a!=null;return{id:"patrol",require:["pos"],get patrolSpeed(){return u},set patrolSpeed(d){u=d},get waypoints(){return a},set waypoints(d){a=d,o=0,f=!1},get nextLocation(){return a?a[o]:void 0},update(){let d=this.nextLocation;if(!(!a||!d||f)&&(this.moveTo(d,u),this.pos.sdist(d)<9))switch(s){case"loop":o=(o+1)%a.length;break;case"ping-pong":o=o+1,o==a.length&&(a.reverse(),o=0);break;case"stop":o<a.length-1?o+=1:f||(f=!0,this.trigger("patrolFinished",this));break}},onPatrolFinished(d){return this.on("patrolFinished",d)}}}function Hb(n,a={}){let u=typeof n=="function"?n:()=>v.game.root.query(n),s=a.checkFrequency||1,o=typeof a.direction=="number"?F.fromAngle(a.direction):a.direction,f=0;return{id:"sentry",require:["pos"],direction:typeof a.direction=="number"?F.fromAngle(a.direction):a.direction,spotted:[],set directionAngle(d){this.direction=d!==void 0?F.fromAngle(d):void 0},get directionAngle(){return this.direction?this.direction.angle():void 0},fieldOfView:a.fieldOfView||200,isWithinFieldOfView(d,y,m){let h=(typeof y=="number"?F.fromAngle(y):y)||o,b=m||a.fieldOfView;if(!h||!b||b>=360)return!0;let S=b/2;return d.pos&&h.angleBetween(d.pos.sub(this.pos))<=S},hasLineOfSight(d){let y=Ip(this.pos,d.pos.sub(this.pos),a.raycastExclude);return y!=null&&y.object===d},update(){if(f+=Me(),f>s){f-=s;let d=u();if(d.length&&o&&this.fieldOfView&&this.fieldOfView<360){let y=this.fieldOfView/2;d=d.filter(m=>m.pos&&o.angleBetween(m.pos.sub(this.pos))<=y)}d.length&&a.lineOfSight&&(d=d.filter(y=>y.pos&&this.hasLineOfSight(y))),d.length>0&&(this.spotted=d,this.trigger("objectSpotted",d))}},onObjectsSpotted(d){return this.on("objectSpotted",d)}}}function p0(n={}){let a=L(0),u=n.isObstacle??!1,s=n.cost??0,o=n.edges??[],f=()=>{let y={left:1,top:2,right:4,bottom:8};return o.map(m=>y[m]||0).reduce((m,h)=>m|h,0)},d=f();return{id:"tile",tilePosOffset:n.offset??L(0),set tilePos(y){let m=this.getLevel();a=y.clone(),this.pos=L(this.tilePos.x*m.tileWidth(),this.tilePos.y*m.tileHeight()).add(this.tilePosOffset)},get tilePos(){return a},set isObstacle(y){u!==y&&(u=y,this.getLevel().invalidateNavigationMap())},get isObstacle(){return u},set cost(y){s!==y&&(s=y,this.getLevel().invalidateNavigationMap())},get cost(){return s},set edges(y){o=y,d=f(),this.getLevel().invalidateNavigationMap()},get edges(){return o},get edgeMask(){return d},getLevel(){return this.parent},tileMove(y){let m=this.getLevel();m.removeFromSpatialMap(this),this.tilePos=this.tilePos.add(y),m.insertIntoSpatialMap(this),m.trigger("spatialMapChanged")},moveLeft(){this.tileMove(L(-1,0))},moveRight(){this.tileMove(L(1,0))},moveUp(){this.tileMove(L(0,-1))},moveDown(){this.tileMove(L(0,1))}}}var Bf=class{name;duration;loops;direction;easing;interpolation;isFinished;timing;easings;relative;constructor(n,a,u){this.name=n,this.duration=a.duration,this.loops=a.loops||0,this.direction=a.direction||"forward",this.easing=a.easing||Cu.linear,this.interpolation=a.interpolation||"linear",this.isFinished=!1,this.timing=a.timing,this.easings=a.easings,this.relative=u}update(n,a){return!0}getLowerKeyIndexAndRelativeTime(n,a,u){let s=a-1,o=n/this.duration;if(this.loops!==0&&o>=this.loops)return[s,0,!0];let f=Math.trunc(o);if(o-=f,(this.direction=="reverse"||this.direction=="ping-pong"&&f&1)&&(o=1-o),u){let d=0;for(;u[d+1]!==void 0&&u[d+1]<o;)d++;return d>=s?[s,0,!0]:[d,(o-u[d])/(u[d+1]-u[d]),!1]}else{let d=Math.floor((a-1)*o);return[d,(o-d/s)*s,!1]}}setValue(n,a,u){if(this.relative)switch(a){case"pos":n.pos=n.base.pos.add(u);break;case"angle":n.angle=n.base.angle+u;break;case"scale":n.scale=n.base.scale.scale(u);break;case"opacity":n.opacity=n.base.opacity*u;break;default:n[a]=u}else n[a]=u}serialize(){let n={duration:this.duration,keys:[]};return this.loops&&(n.loops=this.loops),this.direction!=="forward"&&(n.direction=this.direction),this.easing!=Cu.linear&&(n.easing=this.easing.name),this.interpolation!=="linear"&&(n.interpolation=this.interpolation),this.timing&&(n.timing=this.timing),this.easings&&(n.easings=this.easings.map(a=>this.easing.name)),n}};function $m(n,a){return a.add(a.sub(n))}var _b=class extends Bf{keys;constructor(n,a,u,s){super(n,u,s),this.keys=a}update(n,a){let[u,s,o]=this.getLowerKeyIndexAndRelativeTime(a,this.keys.length,this.timing);if(s==0||this.interpolation==="none")this.setValue(n,this.name,this.keys[u]);else{let f=this.easings?this.easings[u]:this.easing;this.setValue(n,this.name,an(this.keys[u],this.keys[u+1],f(s)))}return o}serialize(){return Object.assign(super.serialize(),{keys:this.keys})}},jb=class extends Bf{keys;curves;dcurves;constructor(n,a,u,s,o){if(super(n,u,s),this.keys=a,this.interpolation==="spline"){this.curves=[],o&&(this.dcurves=[]);for(let f=0;f<this.keys.length-1;f++){let d=this.keys[f],y=f+1,m=this.keys[y],h=f>0?this.keys[f-1]:$m(m,d),b=y<this.keys.length-1?this.keys[y+1]:$m(d,m);this.curves.push(rr(h,d,m,b)),o&&this.dcurves?.push(rr(h,d,m,b,Nv))}}}update(n,a){let[u,s,o]=this.getLowerKeyIndexAndRelativeTime(a,this.keys.length,this.timing);if(s==0||this.interpolation==="none")this.setValue(n,this.name,this.keys[u]);else{let f=this.easings?this.easings[u]:this.easing;switch(this.interpolation){case"linear":this.setValue(n,this.name,this.keys[u].lerp(this.keys[u+1],f(s)));break;case"slerp":this.setValue(n,this.name,this.keys[u].slerp(this.keys[u+1],f(s)));break;case"spline":if(this.curves){this.setValue(n,this.name,this.curves[u](f(s))),this.dcurves&&this.setValue(n,"angle",this.dcurves[u](f(s)).angle());break}}}return o}serialize(){return Object.assign(super.serialize(),{keys:this.keys.map(n=>[n.x,n.y])})}},Gb=class extends Bf{keys;constructor(n,a,u,s){super(n,u,s),this.keys=a}update(n,a){let[u,s,o]=this.getLowerKeyIndexAndRelativeTime(a,this.keys.length,this.timing);if(s==0||this.interpolation=="none")this.setValue(n,this.name,this.keys[u]);else{let f=this.easings?this.easings[u]:this.easing;this.setValue(n,this.name,this.keys[u].lerp(this.keys[u+1],f(s)))}return o}serialize(){return Object.assign(super.serialize(),{keys:this.keys})}};function Yb(n={}){let a=[],u=0,s=!1;return{id:"animate",require:n.followMotion?["rotate"]:void 0,base:{pos:L(0,0),angle:0,scale:L(1,1),opacity:1},animation:{paused:!1,seek(o){u=Ln(o,0,this.duration),a.forEach(f=>{f.isFinished=!1}),s=!1},get duration(){return a.reduce((o,f)=>Math.max(f.duration,o),0)}},add(){n.relative&&(this.has("pos")&&(this.base.pos=this.pos.clone()),this.has("rotate")&&(this.base.angle=this.angle),this.has("scale")&&(this.base.scale=this.scale),this.has("opacity")&&(this.base.opacity=this.opacity))},update(){if(this.animation.paused)return;let o=!0,f;u+=Me();for(let d of a)f=d.update(this,u),f&&!d.isFinished&&(d.isFinished=!0,this.trigger("animateChannelFinished",d.name)),o&&=f;o&&!s&&(s=!0,this.trigger("animateFinished"))},animate(o,f,d){s=!1,this.unanimate(o),typeof f[0]=="number"?a.push(new _b(o,f,d,n.relative||!1)):f[0]instanceof F?a.push(new jb(o,f,d,n.relative||!1,o==="pos"&&(n.followMotion||!1))):f[0]instanceof Dt&&a.push(new Gb(o,f,d,n.relative||!1))},unanimate(o){let f=a.findIndex(d=>d.name===o);f>=0&&a.splice(f,1)},unanimateAll(){a.splice(0,a.length)},onAnimateFinished(o){return this.on("animateFinished",o)},onAnimateChannelFinished(o){return this.on("animateChannelFinished",o)},serializeAnimationChannels(){return a.reduce((o,f)=>(o[f.name]=f.serialize(),o),{})},serializeAnimationOptions(){let o={};return n.followMotion&&(o.followMotion=!0),n.relative&&(o.relative=!0),o}}}function y0(n,a){let u={name:n.name};return n.has("animate")&&(u.channels=n.serializeAnimationChannels(),Object.assign(u,n.serializeAnimationOptions())),n.children.length>0&&(u.children=n.children.filter(s=>s.has("named")).map(s=>y0(s,s.name))),u}function tp(n=2,a=1){let u=0;return{require:["scale"],update(){let s=Math.sin(u*n)*a;s<0&&this.destroy(),this.scale=L(s),u+=Me()}}}function Lb(n,a){if(n==null)throw new Error("health() requires the initial amount of hp");return{id:"health",hurt(u=1){this.setHP(n-u),this.trigger("hurt",u)},heal(u=1){let s=n;this.setHP(n+u),this.trigger("heal",n-s)},hp(){return n},maxHP(){return a??null},setMaxHP(u){a=u},setHP(u){n=a?Math.min(a,u):u,n<=0&&this.trigger("death")},onHurt(u){return this.on("hurt",u)},onHeal(u){return this.on("heal",u)},onDeath(u){return this.on("death",u)},inspect(){return`health: ${n}`}}}function Xb(n,a={}){if(n==null)throw new Error("lifespan() requires time");let u=a.fade??0;return{id:"lifespan",require:["opacity"],add(){v.game.root.wait(n,()=>{this.opacity=this.opacity??1,u>0?v.game.root.tween(this.opacity,0,u,s=>this.opacity=s,Cu.linear).onEnd(()=>{this.destroy()}):this.destroy()})}}}function Vb(n){return{id:"named",name:n}}function Qb(n,a,u){if(!n)throw new Error("state() requires an initial state");let s={};function o(m){s[m]||(s[m]={enter:new Qe,end:new Qe,update:new Qe,draw:new Qe})}function f(m,h,b){return o(h),s[h][m].add(b)}function d(m,h,...b){o(h),s[h][m].trigger(...b)}let y=!1;return{id:"state",state:n,enterState(m,...h){if(y=!0,a&&!a.includes(m))throw new Error(`State not found: ${m}`);let b=this.state;if(u){if(!u?.[b])return;let S=typeof u[b]=="string"?[u[b]]:u[b];if(!S.includes(m))throw new Error(`Cannot transition state from "${b}" to "${m}". Available transitions: ${S.map(p=>`"${p}"`).join(", ")}`)}d("end",b,...h),this.state=m,d("enter",m,...h),d("enter",`${b} -> ${m}`,...h)},onStateTransition(m,h,b){return f("enter",`${m} -> ${h}`,b)},onStateEnter(m,h){return f("enter",m,h)},onStateUpdate(m,h){return f("update",m,h)},onStateDraw(m,h){return f("draw",m,h)},onStateEnd(m,h){return f("end",m,h)},update(){y||(d("enter",n),y=!0),d("update",this.state)},draw(){d("draw",this.state)},inspect(){return`state: ${this.state}`}}}function v0(n){return{id:"stay",stay:!0,scenesToStay:n}}function Zb(n=!0,a){let u,s;return{id:"textInput",hasFocus:n,require:["text"],typedText:"",add(){let o=()=>{this.text=this.typedText.replace(/([\[\\])/g,"\\$1")};u=v.k.onCharInput(f=>{this.hasFocus&&(!a||this.typedText.length<a)&&(v.k.isKeyDown("shift")?this.typedText+=f.toUpperCase():this.typedText+=f,o())}),s=v.k.onKeyPressRepeat("backspace",()=>{this.hasFocus&&(this.typedText=this.typedText.slice(0,-1),o())})},destroy(){u.cancel(),s.cancel()}}}function ff(n=1e3){return{id:"timer",maxLoopsPerFrame:n,loop(a,u,s=1/0,o=!1){let f=o?0:a,d=new Qe,y=this.onUpdate(()=>{f+=v.app.state.dt;for(let m=0;f>=a&&m<this.maxLoopsPerFrame;m++)if(s--,u(),f-=a,s<=0){y.cancel(),d.trigger();return}});return{get paused(){return y.paused},set paused(m){y.paused=m},cancel:y.cancel,onEnd(m){d.add(m)},then(m){return d.add(m),this}}},wait(a,u){return this.loop(a,u??(()=>{}),1,!0)},tween(a,u,s,o,f=Cu.linear){let d=0,y=[],m=this.onUpdate(()=>{d+=v.app.state.dt;let h=Math.min(d/s,1);o(an(a,u,f(h))),h===1&&(m.cancel(),o(u),y.forEach(b=>b()))});return{get paused(){return m.paused},set paused(h){m.paused=h},onEnd(h){y.push(h)},then(h){return this.onEnd(h),this},cancel(){m.cancel()},finish(){m.cancel(),o(u),y.forEach(h=>h())}}}}}var hf=0;function Kb(){return hf>0}function Jb(n={}){let a={},u=new Set,s=[];return{id:"area",collisionIgnore:n.collisionIgnore??[],add(){hf++,this.area.cursor&&s.push(this.onHover(()=>v.app.setCursor(this.area.cursor))),s.push(this.onCollideUpdate((o,f)=>{if(!o.id)throw new Error("area() requires the object to have an id");a[o.id]||this.trigger("collide",o,f),f&&(a[o.id]=f,u.add(o.id))}))},destroy(){hf--;for(let o of s)o.cancel()},fixedUpdate(){for(let o in a)u.has(Number(o))||(this.trigger("collideEnd",a[o].target),delete a[o]);u.clear()},drawInspect(){let o=this.localArea();wn(),ae(this.area.offset);let f={outline:{width:4/Bp(),color:Gt(0,0,255)},anchor:this.anchor,fill:!1,fixed:Al(this)};o instanceof Wt?Sn({...f,pos:o.pos,width:o.width*this.area.scale.x,height:o.height*this.area.scale.y}):o instanceof Ke?Xa({...f,pts:o.pts,scale:this.area.scale}):o instanceof ln&&wi({...f,pos:o.center,radius:o.radius}),nn()},area:{shape:n.shape??null,scale:n.scale?L(n.scale):L(1),offset:n.offset??L(0),cursor:n.cursor??null},isClicked(){return v.app.isMousePressed()&&this.isHovering()},isHovering(){let o=Al(this)?v.k.mousePos():v.k.toWorld(v.k.mousePos());return this.hasPoint(o)},checkCollision(o){if(!o.id)throw new Error("checkCollision() requires the object to have an id");return a[o.id]??null},getCollisions(){return Object.values(a)},isColliding(o){if(!o.id)throw new Error("isColliding() requires the object to have an id");return!!a[o.id]},isOverlapping(o){if(!o.id)throw new Error("isOverlapping() requires the object to have an id");let f=a[o.id];return f&&f.hasOverlap()},onClick(o,f="left"){let d=this.onMousePress(f,()=>{this.isHovering()&&o()});return s.push(d),d},onHover(o){let f=!1;return this.onUpdate(()=>{f?f=this.isHovering():this.isHovering()&&(f=!0,o())})},onHoverUpdate(o){return this.onUpdate(()=>{this.isHovering()&&o()})},onHoverEnd(o){let f=!1;return this.onUpdate(()=>{f?this.isHovering()||(f=!1,o()):f=this.isHovering()})},onCollide(o,f){if(typeof o=="function"&&f===void 0)return this.on("collide",o);if(typeof o=="string")return this.onCollide((d,y)=>{d.is(o)&&f?.(d,y)});throw new Error("onCollide() requires either a function or a tag")},onCollideUpdate(o,f){if(typeof o=="function"&&f===void 0)return this.on("collideUpdate",o);if(typeof o=="string")return this.on("collideUpdate",(d,y)=>d.is(o)&&f?.(d,y));throw new Error("onCollideUpdate() requires either a function or a tag")},onCollideEnd(o,f){if(typeof o=="function"&&f===void 0)return this.on("collideEnd",o);if(typeof o=="string")return this.on("collideEnd",d=>d.is(o)&&f?.(d));throw new Error("onCollideEnd() requires either a function or a tag")},hasPoint(o){return Qa(this.worldArea(),o)},resolveCollision(o){let f=this.checkCollision(o);f&&!f.resolved&&(this.pos=this.pos.add(f.displacement),f.resolved=!0)},localArea(){return this.area.shape?this.area.shape:this.renderArea()},worldArea(){let o=this.localArea();if(!(o instanceof Ke||o instanceof Wt))throw new Error("Only support polygon and rect shapes for now");let f=this.transform.clone().translate(this.area.offset).scale(L(this.area.scale??1));if(o instanceof Wt){let d=bi(this.anchor||Ar).add(1,1).scale(-.5).scale(o.width,o.height);f.translate(d)}return o.transform(f)},screenArea(){let o=this.worldArea();return Al(this)?o:o.transform(v.game.cam.transform)},inspect(){return this.area.scale?.x==this.area.scale?.y?`area: ${this.area.scale?.x?.toFixed(1)}x`:`area: (${this.area.scale?.x?.toFixed(1)}x, ${this.area.scale.y?.toFixed(1)}y)`}}}function Fb(n={}){let a=null,u=null,s=!1,o=L(0),f=null,d=null,y;return{id:"body",require:["pos"],vel:L(0),drag:n.drag??0,jumpForce:n.jumpForce??eA,gravityScale:n.gravityScale??1,isStatic:n.isStatic??!1,mass:n.mass??1,add(){if(f=this.pos.clone(),d=this.pos.clone(),y=this.pos.clone(),this.mass===0)throw new Error("Can't set body mass to 0");this.has("area")&&(this.onCollideUpdate((m,h)=>{if(!h||!m.has("body")||h.resolved)return;this.trigger("beforePhysicsResolve",h);let b=h.reverse();if(m.trigger("beforePhysicsResolve",b),!(h.resolved||b.resolved)&&!(this.isStatic&&m.isStatic)){if(!this.isStatic&&!m.isStatic){let S=this.mass+m.mass;this.pos=this.pos.add(h.displacement.scale(m.mass/S)),m.pos=m.pos.add(h.displacement.scale(-this.mass/S)),this.transform=qu(this),m.transform=qu(m)}else{let S=!this.isStatic&&m.isStatic?h:h.reverse();S.source.pos=S.source.pos.add(S.displacement),S.source.transform=qu(S.source)}h.resolved=!0,this.trigger("physicsResolve",h),m.trigger("physicsResolve",h.reverse())}}),this.onPhysicsResolve(m=>{if(v.game.gravity)if(m.isBottom()&&this.isFalling()){this.vel=this.vel.reject(v.game.gravity.unit());let h=a;a=m.target,h!=a&&(u=m.target.pos),s?s=!1:h||(this.trigger("ground",a),m.target.trigger("land",this))}else m.isTop()&&this.isJumping()&&(this.vel=this.vel.reject(v.game.gravity.unit()),this.trigger("headbutt",m.target),m.target.trigger("headbutted",this))}))},update(){a&&this.isColliding(a)&&a.exists()&&a.has("body")&&(u&&!a.pos.eq(u)&&n.stickToPlatform!==!1&&this.moveBy(a.pos.sub(u)),u=a.pos);let m=lf();m&&(this.pos.x==y.x&&(this.pos.x=an(f.x,d.x,m/af()),y.x=this.pos.x),this.pos.y==y.y&&(this.pos.y=an(f.y,d.y,m/af()),y.y=this.pos.y))},fixedUpdate(){if(f&&(this.pos.x==y.x&&(this.pos.x=f.x),this.pos.y==y.y&&(this.pos.y=f.y),f=null),v.game.gravity&&!this.isStatic){s&&(a=null,u=null,this.trigger("fallOff"),s=!1),a&&(!this.isColliding(a)||!a.exists()||!a.has("body"))&&(s=!0);let m=this.vel.clone();this.vel=this.vel.add(v.game.gravity.scale(this.gravityScale*Me()));let h=n.maxVelocity??nA;this.vel.slen()>h*h&&(this.vel=this.vel.unit().scale(h)),m.dot(v.game.gravity)<0&&this.vel.dot(v.game.gravity)>=0&&this.trigger("fall")}if(this.vel.x+=o.x*Me(),this.vel.y+=o.y*Me(),this.vel.x*=1-this.drag*Me(),this.vel.y*=1-this.drag*Me(),this.move(this.vel),lf()){f=this.pos.clone();let m=this.vel.add(o.scale(Me()));d=this.pos.add(m.scale(Me())),y=this.pos.clone()}o.x=0,o.y=0},onPhysicsResolve(m){return this.on("physicsResolve",m)},onBeforePhysicsResolve(m){return this.on("beforePhysicsResolve",m)},curPlatform(){return a},isGrounded(){return a!==null},isFalling(){return this.vel.dot(Ou())>0},isJumping(){return this.vel.dot(Ou())<0},applyImpulse(m){this.isStatic||(this.vel=this.vel.add(m))},addForce(m){this.isStatic||(o.x+=m.x/this.mass,o.y+=m.y/this.mass)},jump(m){this.isStatic||(a=null,u=null,this.vel=Ou().scale(-m||-this.jumpForce))},onGround(m){return this.on("ground",m)},onFall(m){return this.on("fall",m)},onFallOff(m){return this.on("fallOff",m)},onHeadbutt(m){return this.on("headbutt",m)},onLand(m){return this.on("land",m)},onHeadbutted(m){return this.on("headbutted",m)},inspect(){return`gravityScale: ${this.gravityScale}x`}}}function kb(n=2){let a=n;return{id:"doubleJump",require:["body"],numJumps:n,add(){this.onGround(()=>{a=this.numJumps})},doubleJump(u){a<=0||(a<this.numJumps&&this.trigger("doubleJump"),a--,this.jump(u))},onDoubleJump(u){return this.on("doubleJump",u)},inspect(){return`jumpsLeft: ${a}`}}}function Wb(n){return{id:"surfaceEffector",require:["area"],speed:n.speed,speedVariation:n.speedVariation??0,forceScale:n.speedVariation??.9,add(){this.onCollideUpdate("body",(a,u)=>{let s=u?.normal.normal(),o=a.vel.project(s),f=s?.scale(this.speed)?.sub(o);a.addForce(f?.scale(a.mass*this.forceScale))})}}}function Ib(n){return{id:"areaEffector",require:["area"],useGlobalAngle:n.useGlobalAngle||!1,forceAngle:n.forceAngle,forceMagnitude:n.forceMagnitude,forceVariation:n.forceVariation??0,linearDrag:n.linearDrag??0,add(){this.onCollideUpdate("body",(a,u)=>{if(!a.has("body"))return;let s=F.fromAngle(this.forceAngle).scale(this.forceMagnitude);a.addForce(s),this.linearDrag&&a.addForce(a.vel.scale(-this.linearDrag))})}}}function Pb(n){return{id:"pointEffector",require:["area","pos"],forceMagnitude:n.forceMagnitude,forceVariation:n.forceVariation??0,distanceScale:n.distanceScale??1,forceMode:n.forceMode||"inverseLinear",linearDrag:n.linearDrag??0,add(){this.onCollideUpdate("body",(a,u)=>{let s=this.pos.sub(a.pos),o=s.len(),f=o*this.distanceScale/10,d=this.forceMode==="constant"?1:this.forceMode==="inverseLinear"?1/f:1/f**2,y=s.scale(this.forceMagnitude*d/o);a.addForce(y),this.linearDrag&&a.addForce(a.vel.scale(-this.linearDrag))})}}}function $b(n){return{id:"constantForce",require:["body"],force:n.force,update(){this.force&&this.addForce(this.force)}}}function tw(n){return{id:"platformEffector",require:["area","body"],surfaceArc:n.surfaceArc??180,useOneWay:n.useOneWay??!1,add(){this.onBeforePhysicsResolve(a=>{let u=a.target.vel,s=Ou().scale(-1).angleBetween(u);Math.abs(s)>this.surfaceArc/2&&a.preventResolution()})}}}function ew(n){return{id:"buoyancyEffector",require:["area"],surfaceLevel:n.surfaceLevel,density:n.density??1,linearDrag:n.linearDrag??1,angularDrag:n.angularDrag??.2,flowAngle:n.flowAngle??0,flowMagnitude:n.flowMagnitude??0,flowVariation:n.flowVariation??0,add(){this.onCollideUpdate("body",(a,u)=>{let s=a,o=s.worldArea(),[f,d]=o.cut(L(-100,this.surfaceLevel),L(100,this.surfaceLevel));f&&(this.applyBuoyancy(s,f),this.applyDrag(s,f)),this.flowMagnitude&&s.addForce(F.fromAngle(this.flowAngle).scale(this.flowMagnitude))})},applyBuoyancy(a,u){let s=this.density*u.area(),o=L(0,1).scale(-s);a.addForce(o)},applyDrag(a,u){let s=a.vel,o=this.density*this.linearDrag,f=s.scale(-o);a.addForce(f)}}}function df(n){if(!n)throw new Error("Please define an anchor");return{id:"anchor",anchor:n,inspect(){return typeof this.anchor=="string"?"anchor: "+this.anchor:"anchor: "+this.anchor.toString()}}}function A0(){return{id:"fixed",fixed:!0}}function nw(n,a){return{id:"follow",require:["pos"],follow:{obj:n,offset:a??L(0)},add(){n.exists()&&(this.pos=this.follow.obj.pos.add(this.follow.offset))},update(){n.exists()&&(this.pos=this.follow.obj.pos.add(this.follow.offset))}}}function aw(n){let a=v.game.layers?.indexOf(n);return{id:"layer",get layerIndex(){return a??null},get layer(){return a?v.game.layers?.[a]??null:null},set layer(u){if(a=v.game.layers?.indexOf(u),a==-1)throw Error("Invalid layer name")},inspect(){return`layer: ${this.layer}`}}}function lw(n,a){let u=typeof n=="number"?F.fromAngle(n):n.unit();return{id:"move",require:["pos"],update(){this.move(u.scale(a))}}}function iw(n={}){let a=!1,u=new Wt(L(0),qe(),Ne()),s=new Wt(L(0),0,0),o=f=>{f.isOffScreen()?(a||(f.trigger("exitView"),a=!0),n.hide&&(f.hidden=!0),n.pause&&(f.paused=!0),n.destroy&&f.destroy()):(a&&(f.trigger("enterView"),a=!1),n.hide&&(f.hidden=!1),n.pause&&(f.paused=!1))};return{id:"offscreen",require:["pos"],offscreenDistance:n.distance??Lm,isOffScreen(){let f=this.screenPos();if(!f)return!1;if(u.width=qe(),u.height=Ne(),!this.offscreenDistance&&this.width&&this.height)return s.width=this.width,s.height=this.height,s.pos=this.pos,s.collides(u);let d=this.offscreenDistance?this.offscreenDistance:Lm;return!pr(u,f)&&u.sdistToPoint(f)>d*d},onExitScreen(f){return this.on("exitView",f)},onEnterScreen(f){return this.on("enterView",f)},add(){n.pause&&n.unpause?$p(()=>o(this)):this.onUpdate(()=>o(this))}}}function dr(...n){return{id:"pos",pos:L(...n),moveBy(...a){this.pos=this.pos.add(L(...a))},move(...a){this.moveBy(L(...a).scale(Me()))},moveTo(...a){if(typeof a[0]=="number"&&typeof a[1]=="number")return this.moveTo(L(a[0],a[1]),a[2]);let u=a[0],s=a[1];if(s===void 0){this.pos=L(u);return}let o=u.sub(this.pos);if(o.len()<=s*Me()){this.pos=L(u);return}this.move(o.unit().scale(s))},worldPos(a=null){return a?(this.pos=this.pos.add(this.fromWorld(a)),null):this.parent?this.parent.transform.multVec2(this.pos):this.pos},toWorld(a){return this.parent?this.parent.transform.multVec2(this.pos.add(a)):this.pos.add(a)},fromWorld(a){return this.parent?this.parent.transform.invert().multVec2(a).sub(this.pos):a.sub(this.pos)},screenPos(a=null){if(a)return this.pos=this.pos.add(this.fromScreen(a)),null;{let u=this.worldPos();return u?Al(this)?u:of(u):null}},toScreen(a){let u=this.toWorld(a);return Al(this)?u:of(u)},fromScreen(a){return Al(this)?this.fromWorld(a):this.fromWorld(o0(a))},toOther(a,u){return a.fromWorld(this.toWorld(u))},fromOther(a,u){return a.toOther(this,u)},inspect(){return`pos: (${Math.round(this.pos.x)}x, ${Math.round(this.pos.y)}y)`},drawInspect(){wi({color:Gt(255,0,0),radius:4/Bp()})}}}function uw(n){return{id:"rotate",angle:n??0,rotateBy(a){this.angle+=a},rotateTo(a){this.angle=a},inspect(){return`angle: ${Math.round(this.angle)}`}}}function gr(...n){if(n.length===0)return gr(1);let a=L(...n);return{id:"scale",set scale(u){if(!(u instanceof F))throw Error("The scale property on scale is a vector. Use scaleTo or scaleBy to set the scale with a number.");a=L(u)},get scale(){return a},scaleTo(...u){a=L(...u)},scaleBy(...u){a=a.scale(L(...u))},inspect(){return a.x==a.y?`scale: ${a.x.toFixed(1)}x`:`scale: (${a.x.toFixed(1)}x, ${a.y.toFixed(1)}y)`}}}function sw(n){return{id:"z",z:n,inspect(){return`z: ${this.z}`}}}var rw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOcAAACDCAYAAAB2kQxsAAAAAXNSR0IArs4c6QAABqxJREFUeJztnU1yFDkQRtMEB+AG7Fk6fBPO6ZsQLGc/N5gbMAtosJvqKv2kpPxS763A0W5XSXqVqZ+SngzgF58/fflx/7N///vnacW1gBkFD2Z2LOYNBF3Dx9UXAGs5kxLWwhNxU2qlJHrOhwLfkNZoiaBzIa3dCFJYLXgSboKXmETPeVDQyamR8vX55fe/v37/9vBzCDoH0tqktEpZ+t0IOh4KOBm16euZmETPtVDAiRgRLRF0HRRuEkrFrE1hzR4Lipxj+bD6AqCPz5++/Bgp5tXfdv1CeAdPPmFmSkn0nE+a0drdFm6XiOkdKWEuKRptTXqlLuqqFNaM6Dkb+T5nbb+npo8WjZVinqFantFJk9bWojaRThq7HzKN8wiPJ7aCoJHEZN5zHvJp7RE1DTV6SnZ1fa/PL1MjJtF5HmnT2tJF3GZ/BIj05I8ULUtR6ypER7ogjxpw61rRGxEal4KYjNyORzatbUlHSxr06tFcBTHPiN5NUEJWzlZKG/aKRqYk5tl1IKgPafucZ7w+vxSluLP6olHnL6MQQfYV6bpk/+BRZXm+cXHEiApSipZHlE6tRBDMkxmyysl5VsmtjXiFoJmiZU35ZWK0oNv1OY+omSv0GDDKJCaMI42cHg25dvFCi6QZxVS6ViVSpLUz38A4oiS9ySjlW2althGWKZrN6XNuOVpbwq0ReIzqZhfTrHwE/PZZuEYqcnqO0tZQGxVqRylprLGIEDXNkLOKEakbYsYiiphmiQaEZuD9BghixiKSmGYJIueqBt4TRZEyHtHENCNyNtMaRREzHhHFNBOKnKv7myVcVXKka4WfRBXTjMjpypl8iBmP6MsOmed0Bgk1UHjxXlpORIAWIqeybyGtha1QEdNMRM5s7wLCGpTENBORE6AXNTHNkBM2QFFMM4F5ToX5TYiLqphmRE7YmMhimiEnJEb9XBdJOUlp4Qp1Mc1E5QQ4I/qyvFJCy8n8JnijEjXNAi3fQ0TwIEM6e2OqnAgII8kkptkgOZEQZlN6BquZjqhVFxlBOkZq4Z6WASAFQQ8jZwQJ70FK8CTiaeb3fDSLJyMiwiwiS/q0SkwEBE+85jYjSTpcTiSE2WQRtVlOpAMVemVdtjXmlZxICFlQk/TJjHcmYS96JJ0p6KmcZggKeWmVdPopYwgKuxJVUuQE+EU0Sd99KYICxJH0ry9DUIA/rFy3WyWnGYLCnqyQ9PCXERTgmJmSPvwlBAU4p1bUWklPP1yytA9JYWdGRtLLDyEowDUjomiRwQgKUIZnJC3OgREUoByPSDpkDyEkBfhJj6RNQ7xEUYA6aiS9Cdo8SUoUBaijVtCuFQwICtBGiajdawARFKCNK0HdVtEjKUAd0+Q0q9v/FklhJ1rmP4e8JEoUBejfq2jYNgtEUdgJzwN7u6dSSkBQyMSME7O7FyHUQpoLCqw8rv5o+d6Uw3NvfzjagUkAZvOlLH1lLMyx8wCzWBEhW3ZDmLZ7NTsrwCpmyui5A1+IPidigjcjhZy14/vytBYxwRsPMVcf/2c2QU72wQUVIgj5lqFyIiZEJ5qQb1me1gLMJLKM93wY9cVETYiGkphmg+RETFhJljY2LHICQB/uchI1AXxwlRMxAfwgrYVtUHvxwk1OoiaAL8MjJ2ICtOEip1q6APnJEBS6VwiRzp4vtM5YBvf3m/EeI8DyvUZK33z4+v1bqsZ7dN+3n2W6zwgMO44hY0X1vIqkXh419x7lXh9ds8oyviFyRqmcXrxf2FUtF89ymFkG6nI2p7WZB4FGvUWfLcVt4ahsdy+TR7ifz6lc0F5v0GfalmXldpE3esrr6PrTR84sjNjS4kpQhQhaUi4lD6KR1xK9DHupfoKoR02vSFDy9FWNoKVivv1/lG7OfZkqR043OZUbWgmtFaomaGl51ZTHCnFv5bqNnFGjZvRtEFUEHSHmI1ZHWgVBXZ5+sxvX7ANlPChpjKsknSllKaPlRU4nZo0Yjq6wiIJGFPMML2mj3M8ZRRe4QkzF6FhCJEFbBn4i0iKswn11yenZiLLKeMRqQdWiZSmlkqrcV9d0gPfksAcqBW+2ZqAoq5gZGSrnTtGwlVmCIqUepxWxerj7iIyNZ7SgiKmJhJw7NJpRgiKmLuHl3KnReA4UIaU+y+WkcbzHQ1DEzMGQ9aJH0BDK6RE0y9wlTDp2HuppERQxc0FFBaZGUMTMB5UlQG/fHyk1odJEaBUUMXWh4oSoFRQxtaHyxMi2uBseQwUKciUoYuaAShTlkaCImQcqUph7QREzF/8DSS/2GZ2/N/sAAAAASUVORK5CYII=",ow="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOcAAACDCAYAAAB2kQxsAAAAAXNSR0IArs4c6QAABdRJREFUeJzt3d3N3TYMgGG16ADdoAhyl7UyV9bqXRB0g2zQXgRGDcOWSIoUaX3vAwQBknMk/4gWLcnHrQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACDEb9kb8FH99eeXf6Wf/efn35ynDyj1pEsb6G6NUxOYZ7sdB/QtPdnWRnn29gbKMYDUspPs0SgPb22cHANo/JG9AZF6wWBp3JLgeir36bvff3x9LOvzp2/dbSFA97bk5I4a9VMD7TXOUcP0uJ+d6emu5d6V1QvMs5nj8FZPx37X/b2TFpzShtnafeP0DipJMFnLnN3/w1OQ7tZgP+pA4VVKcHo0TG36KNULKGt5XsHZmi1APS5WM2Vqg0i7vbsG6YcIznN9vRTxXHavgdxtv6Tc3vc1pAHqdaG6ipwKYprpf1sFp6aH0gRTrxxLubPB2avHu+c/l3mICvqnsr//+Cq+qGrK1Xw/wzbBaRkNvSv3yew9cq+cu89L6nu6F/cMzCgzF1ftANlbe+Otp1IkDVxyVfbo6Z481f3507dhvXfbrk3HpdtjKTNqKuio8678c7mzF6ns6arfMyrVNoA75wMfNU2hKSeCx3Fq7dc+SPfDc39H9Vqn2CT//4bsYeT1PecOJyGSJdh6PZOlbElPZz2PHtlD1cUeS4LT4z5IOihwfNaD5ERm9qxH/dZ7Vmt9M999CtCZbdLUP/p3r2zFQ0paG8lr4Eb6+ZWBcSeq/qhyK6bXUfXOSgtO7/tOb9eT1NveqKttpYbiyXu/euV51JV16/T6e86zyF5TUp731V5Sp+Z7M71h9QvFNWWuvr0Sy4LzLfNvrel6zRX1e+hN2VzrnNlfaYD0xhCs++851lDh3vNV95xe6YvHgb8bwbNcuc+f09wbaUj2dzYgjz93//5kh94t0quCM8OKK6glKKuM0EYHfhUZWd8WwenZa0rLsp6s2YY66o0k9WUvS4NManBaGuo1eDIHgUZ1ePdkntsfFaCz5VZJdStsxyt7ziMNXHEAK5yk1mqmhrMPf1fcp57Vqe3SqZTMEduZhqAZyaywFne0DVHngHTZ11bznE88l/1lBZ9meP8851plWkBCO7drmQvWnL/sY/fKtFaqN3iy6iofsQxNktJnTMgfPXJUz3w3VaP5vOQ7Iyszvy2DczSi+aYFET2jINUEqFcAS4+rV480WlwRWXe07dLa0YGvfl9kmbTvPZJ1TXGvn4t4yuRp+2aMgk27wkm63DIztU3vOVfueC8wK4zKWtK0M+nvJXmOdlt65MgFFCva06qsKz044SvjIiN5TjLaaHxhtNyyouXBGZ1WSn66Ivt+M7pRZAWoZsDq+t2emeM1am/WtHxFG9runrO1/n1CxLK7CilxJM/H4bwuTJJBvWtgvm0gcNu01uvpd8la1soLE7xkpYDea4Ot6W3GOSzRc3o/qHw2M9qmXWA+uw+jbd0hyO9Yz0+vJ9QGcO/8ZV2YUqYVPN8dImXp3aJ/w1XTGGYfKZN+P7IXiXqO1uINLzFOm/Pz+BV4C03PNEqpZl//ELXP1ro8nhLyKLPHMyAiXyvh4cMFZ2uyAJXc62gzgJl1nhrSLMEzcLx+5qQnIhgqv6qhTHC2Zmus1tUuowCVDkRU6j0jgiJqhLPSSq2q7wMtMSBkdbcQWjNCq2nMlRrTnajAPP/t+c5Sj3K8VNueQ+pGzaa2MyOb2sZseW2dpL6ZnjMzfeQFt/Fe3XP2WIfGvRY6a569jCJ9TaIlcCS9KQE5p1TP2VrMbwLNDlZEvpE5AkGxh9f2nLO/QOetytIwAnMf6SfS2ns+jaZ6B4i2sWvSvF0HWOAj/aRGNFAaPXbw2rS2Rzr0T/ChshKNM3qd4135BCaqK9VAKy+lAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/4DBC0k0jFtF9wAAAAASUVORK5CYII=",cw=tv.version,v={k:null,globalOpt:null,gfx:null,game:null,app:null,assets:null,fontCacheCanvas:null,fontCacheC2d:null,debug:null,audio:null,pixelDensity:null,canvas:null,gscale:null,kaSprite:null,boomSprite:null},fw=(n={tagsAsComponents:!0})=>{v.k&&(console.warn("KAPLAY already initialized, you are calling kaplay() multiple times, it may lead bugs!"),v.k.quit()),v.globalOpt=n;let a=n.root??document.body;a===document.body&&(document.body.style.width="100%",document.body.style.height="100%",document.body.style.margin="0px",document.documentElement.style.width="100%",document.documentElement.style.height="100%");let u=n.canvas??a.appendChild(document.createElement("canvas"));v.canvas=u;let s=n.scale??1;v.gscale=s;let o=n.width&&n.height&&!n.stretch&&!n.letterbox;o?(u.width=n.width*s,u.height=n.height*s):(u.width=u.parentElement.offsetWidth,u.height=u.parentElement.offsetHeight);let f=["outline: none","cursor: default"];if(o){let ct=u.width,gt=u.height;f.push(`width: ${ct}px`),f.push(`height: ${gt}px`)}else f.push("width: 100%"),f.push("height: 100%");n.crisp&&(f.push("image-rendering: pixelated"),f.push("image-rendering: crisp-edges")),u.style.cssText=f.join(";");let d=n.pixelDensity||1;v.pixelDensity=d,u.width*=d,u.height*=d,u.tabIndex=0;let y=document.createElement("canvas");y.width=256,y.height=256,v.fontCacheCanvas=y;let m=y.getContext("2d",{willReadFrequently:!0});v.fontCacheC2d=m;let h=CA({canvas:u,touchToMouse:n.touchToMouse,gamepads:n.gamepads,pixelDensity:n.pixelDensity,maxFPS:n.maxFPS,buttons:n.buttons});v.app=h;let b=[],S=h.canvas.getContext("webgl",{antialias:!0,depth:!0,stencil:!0,alpha:!0,preserveDrawingBuffer:!0});if(!S)throw new Error("WebGL not supported");let p=S,M=E2(p,{texFilter:n.texFilter}),E=C2(n,M);v.gfx=E;let D=vb();v.audio=D;let x=l2(M,n.spriteAtlasPadding??0);v.assets=x;let w=db();v.game=w,w.root.use(ff());function U(ct,gt){let xt=new fr(M,ct,gt);return{clear:()=>xt.clear(),free:()=>xt.free(),toDataURL:()=>xt.toDataURL(),toImageData:()=>xt.toImageData(),width:xt.width,height:xt.height,draw:Yt=>{xn(),xt.bind(),Yt(),xn(),xt.unbind()},get fb(){return xt}}}function V(){p.clear(p.COLOR_BUFFER_BIT),E.frameBuffer.bind(),p.clear(p.COLOR_BUFFER_BIT),E.bgColor||La(()=>{Uu({width:qe(),height:Ne(),quad:new te(0,0,qe()/64,Ne()/64),tex:E.bgTex,fixed:!0})}),E.renderer.numDraws=0,E.fixed=!1,E.transformStack.length=0,E.transform=new Xn}function P(ct,gt){E.postShader=ct,E.postShaderUniform=gt??null}function G(){xn(),E.lastDrawCalls=E.renderer.numDraws,E.frameBuffer.unbind(),p.viewport(0,0,p.drawingBufferWidth,p.drawingBufferHeight);let ct=E.width,gt=E.height;E.width=p.drawingBufferWidth/d,E.height=p.drawingBufferHeight/d,hr({flipY:!0,tex:E.frameBuffer.tex,pos:new F(E.viewport.x,E.viewport.y),width:E.viewport.width,height:E.viewport.height,shader:E.postShader,uniform:typeof E.postShaderUniform=="function"?E.postShaderUniform():E.postShaderUniform,fixed:!0}),xn(),E.width=ct,E.height=gt}let O=!1,R={inspect:!1,set timeScale(ct){v.app.state.timeScale=ct},get timeScale(){return v.app.state.timeScale},showLog:!0,fps:()=>h.fps(),numFrames:()=>h.numFrames(),stepFrame:it,drawCalls:()=>E.lastDrawCalls,clearLog:()=>w.logs=[],log:(...ct)=>{let gt=n.logMax??8,xt=ct.length>1?ct.concat(" ").join(" "):ct[0];w.logs.unshift({msg:xt,time:h.time()}),w.logs.length>gt&&(w.logs=w.logs.slice(0,gt))},error:ct=>R.log(new Error(ct.toString?ct.toString():ct)),curRecording:null,numObjects:()=>N("*",{recursive:!0}).length,get paused(){return O},set paused(ct){O=ct,ct?D.ctx.suspend():D.ctx.resume()}};v.debug=R;function X(ct,gt){try{return JSON.parse(window.localStorage[ct])}catch{return gt?(K(ct,gt),gt):null}}function K(ct,gt){window.localStorage[ct]=JSON.stringify(gt)}function tt(ct,...gt){let xt=ct(De),Yt;typeof xt=="function"?Yt=xt(...gt)(De):Yt=xt;for(let oe in Yt)De[oe]=Yt[oe],n.global!==!1&&(window[oe]=Yt[oe]);return De}function et(ct){let gt=h.canvas.captureStream(ct),xt=D.ctx.createMediaStreamDestination();D.masterNode.connect(xt);let Yt=new MediaRecorder(gt),oe=[];return Yt.ondataavailable=zt=>{zt.data.size>0&&oe.push(zt.data)},Yt.onerror=()=>{D.masterNode.disconnect(xt),gt.getTracks().forEach(zt=>zt.stop())},Yt.start(),{resume(){Yt.resume()},pause(){Yt.pause()},stop(){return Yt.stop(),D.masterNode.disconnect(xt),gt.getTracks().forEach(zt=>zt.stop()),new Promise(zt=>{Yt.onstop=()=>{zt(new Blob(oe,{type:"video/mp4"}))}})},download(zt="kaboom.mp4"){this.stop().then(ge=>Xm(zt,ge))}}}function ut(){return document.activeElement===h.canvas}let vt=w.root.add.bind(w.root),pt=w.root.readd.bind(w.root),yt=w.root.removeAll.bind(w.root),N=w.root.get.bind(w.root),k=w.root.wait.bind(w.root),lt=w.root.loop.bind(w.root),rt=w.root.query.bind(w.root),ft=w.root.tween.bind(w.root),C=Du(null,ow),j=Du(null,rw);v.kaSprite=C,v.boomSprite=j;function nt(){w.root.fixedUpdate()}function it(){w.root.update()}class mt{source;target;normal;distance;resolved=!1;constructor(gt,xt,Yt,oe,zt=!1){this.source=gt,this.target=xt,this.normal=Yt,this.distance=oe,this.resolved=zt}get displacement(){return this.normal.scale(this.distance)}reverse(){return new mt(this.target,this.source,this.normal.scale(-1),this.distance,this.resolved)}hasOverlap(){return!this.displacement.isZero()}isLeft(){return this.displacement.cross(w.gravity||L(0,1))>0}isRight(){return this.displacement.cross(w.gravity||L(0,1))<0}isTop(){return this.displacement.dot(w.gravity||L(0,1))>0}isBottom(){return this.displacement.dot(w.gravity||L(0,1))<0}preventResolution(){this.resolved=!0}}function bt(){if(!Kb())return;let ct={},gt=n.hashGridSize||64,xt=new Xn,Yt=[];function oe(zt){if(Yt.push(xt.clone()),zt.pos&&xt.translate(zt.pos),zt.scale&&xt.scale(zt.scale),zt.angle&&xt.rotate(zt.angle),zt.transform=xt.clone(),zt.c("area")&&!zt.paused){let ge=zt,on=ge.worldArea().bbox(),Fa=Math.floor(on.pos.x/gt),xi=Math.floor(on.pos.y/gt),Si=Math.ceil((on.pos.x+on.width)/gt),ye=Math.ceil((on.pos.y+on.height)/gt),ql=new Set;for(let Je=Fa;Je<=Si;Je++)for(let Tn=xi;Tn<=ye;Tn++)if(!ct[Je])ct[Je]={},ct[Je][Tn]=[ge];else if(!ct[Je][Tn])ct[Je][Tn]=[ge];else{let Vn=ct[Je][Tn];t:for(let Oe of Vn){if(Oe.paused||!Oe.exists()||ql.has(Oe.id))continue;for(let qn of ge.collisionIgnore)if(Oe.is(qn))continue t;for(let qn of Oe.collisionIgnore)if(ge.is(qn))continue t;let ma=Lv(ge.worldArea(),Oe.worldArea());if(ma){let qn=new mt(ge,Oe,ma.normal,ma.distance);ge.trigger("collideUpdate",Oe,qn);let Dl=qn.reverse();Dl.resolved=qn.resolved,Oe.trigger("collideUpdate",ge,Dl)}ql.add(Oe.id)}Vn.push(ge)}}zt.children.forEach(oe),xt=Yt.pop()}oe(w.root)}function Ot(ct){console.error(ct),D.ctx.suspend();let gt=ct.message??String(ct)??"Unknown error, check console for more info";h.run(()=>{},()=>{V(),La(()=>{let xt=qe(),Yt=Ne(),oe={size:36,width:xt-64,letterSpacing:4,lineSpacing:4,font:or,fixed:!0};Sn({width:xt,height:Yt,color:Gt(0,0,255),fixed:!0});let zt=xl({...oe,text:"Error",pos:L(32),color:Gt(255,128,0),fixed:!0});Sl(zt),Pm({...oe,text:gt,pos:L(32,32+zt.height+16),fixed:!0}),nn(),w.events.trigger("error",ct)}),G()})}function re(ct){b.push(ct)}function Zt(){w.events.onOnce("frameEnd",()=>{h.quit(),p.clear(p.COLOR_BUFFER_BIT|p.DEPTH_BUFFER_BIT|p.STENCIL_BUFFER_BIT);let ct=p.getParameter(p.MAX_TEXTURE_IMAGE_UNITS);for(let gt=0;gt<ct;gt++)p.activeTexture(p.TEXTURE0+gt),p.bindTexture(p.TEXTURE_2D,null),p.bindTexture(p.TEXTURE_CUBE_MAP,null);p.bindBuffer(p.ARRAY_BUFFER,null),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,null),p.bindRenderbuffer(p.RENDERBUFFER,null),p.bindFramebuffer(p.FRAMEBUFFER,null),M.destroy(),b.forEach(gt=>gt())})}let rn=!0;h.run(()=>{try{x.loaded&&(R.paused||nt(),bt())}catch(ct){Ot(ct)}},(ct,gt)=>{try{ct(),x.loaded||wl()===1&&!rn&&(x.loaded=!0,Np().forEach(xt=>w.events.trigger("loadError",...xt)),w.events.trigger("load")),!x.loaded&&n.loadingScreen!==!1||rn?(V(),q2(),G()):(R.paused||it(),bt(),V(),T2(),n.debug!==!1&&M2(),G()),rn&&(rn=!1),w.events.trigger("frameEnd"),gt()}catch(xt){Ot(xt)}}),zp(),d0();let De={_k:v,VERSION:cw,loadRoot:e2,loadProgress:wl,loadSprite:Du,loadSpriteAtlas:Vp,loadSound:y2,loadMusic:v2,loadBitmapFont:c2,loadFont:r2,loadShader:g2,loadShaderURL:m2,loadAseprite:s2,loadPedit:f2,loadBean:u2,loadJSON:n2,load:uf,getSound:Xp,getFont:Gp,getBitmapFont:Yp,getSprite:Hp,getShader:Lp,getAsset:a2,Asset:Mn,SpriteData:Za,SoundData:Bu,width:qe,height:Ne,center:cr,dt:Me,fixedDt:af,restDt:lf,time:h.time,screenshot:h.screenshot,record:et,isFocused:ut,setCursor:h.setCursor,getCursor:h.getCursor,setCursorLocked:h.setCursorLocked,isCursorLocked:h.isCursorLocked,setFullscreen:h.setFullscreen,isFullscreen:h.isFullscreen,isTouchscreen:h.isTouchscreen,onLoad:Cf,onLoadError:ib,onLoading:nb,onResize:ab,onGamepadConnect:h.onGamepadConnect,onGamepadDisconnect:h.onGamepadDisconnect,onError:lb,onCleanup:re,flash:r0,setCamPos:n0,getCamPos:a0,setCamRot:u0,getCamRot:s0,setCamScale:l0,getCamScale:i0,getCamTransform:ub,camPos:ob,camScale:cb,camFlash:hb,camRot:fb,camTransform:sb,shake:rb,toScreen:of,toWorld:o0,setGravity:gb,getGravity:mb,setGravityDirection:pb,getGravityDirection:Ou,setBackground:kA,getBackground:WA,getGamepads:h.getGamepads,getTreeRoot:Tb,add:vt,make:zf,destroy:m0,destroyAll:yt,get:N,query:rt,readd:pt,pos:dr,scale:gr,rotate:uw,color:kp,opacity:Wp,anchor:df,area:Jb,sprite:cf,text:Cb,polygon:G2,rect:Pp,circle:z2,uvquad:zb,outline:H2,particles:j2,body:Fb,platformEffector:tw,surfaceEffector:Wb,areaEffector:Ib,pointEffector:Pb,buoyancyEffector:ew,constantForce:$b,doubleJump:kb,shader:Y2,textInput:Zb,timer:ff,fixed:A0,stay:v0,health:Lb,lifespan:Xb,named:Vb,state:Qb,z:sw,layer:aw,move:lw,offscreen:iw,follow:nw,fadeIn:U2,mask:N2,drawon:B2,raycast:Ip,tile:p0,animate:Yb,serializeAnimation:y0,agent:Bb,sentry:Hb,patrol:Nb,pathfinder:Ub,trigger:X2,on:sn,onFixedUpdate:V2,onUpdate:$p,onDraw:Q2,onAdd:t0,onDestroy:Z2,onTag:e0,onUntag:F2,onUse:K2,onUnuse:J2,onClick:P2,onCollide:k2,onCollideUpdate:W2,onCollideEnd:I2,onHover:$2,onHoverUpdate:tb,onHoverEnd:eb,onKeyDown:h.onKeyDown,onKeyPress:h.onKeyPress,onKeyPressRepeat:h.onKeyPressRepeat,onKeyRelease:h.onKeyRelease,onMouseDown:h.onMouseDown,onMousePress:h.onMousePress,onMouseRelease:h.onMouseRelease,onMouseMove:h.onMouseMove,onCharInput:h.onCharInput,onTouchStart:h.onTouchStart,onTouchMove:h.onTouchMove,onTouchEnd:h.onTouchEnd,onScroll:h.onScroll,onHide:h.onHide,onShow:h.onShow,onGamepadButtonDown:h.onGamepadButtonDown,onGamepadButtonPress:h.onGamepadButtonPress,onGamepadButtonRelease:h.onGamepadButtonRelease,onGamepadStick:h.onGamepadStick,onButtonPress:h.onButtonPress,onButtonDown:h.onButtonDown,onButtonRelease:h.onButtonRelease,mousePos:h.mousePos,mouseDeltaPos:h.mouseDeltaPos,isKeyDown:h.isKeyDown,isKeyPressed:h.isKeyPressed,isKeyPressedRepeat:h.isKeyPressedRepeat,isKeyReleased:h.isKeyReleased,isMouseDown:h.isMouseDown,isMousePressed:h.isMousePressed,isMouseReleased:h.isMouseReleased,isMouseMoved:h.isMouseMoved,isGamepadButtonPressed:h.isGamepadButtonPressed,isGamepadButtonDown:h.isGamepadButtonDown,isGamepadButtonReleased:h.isGamepadButtonReleased,getGamepadStick:h.getGamepadStick,isButtonPressed:h.isButtonPressed,isButtonDown:h.isButtonDown,isButtonReleased:h.isButtonReleased,setButton:h.setButton,getButton:h.getButton,pressButton:h.pressButton,releaseButton:h.releaseButton,getLastInputDeviceType:h.getLastInputDeviceType,charInputted:h.charInputted,loop:lt,wait:k,play:bb,setVolume:f0,getVolume:h0,volume:wb,burp:c0,audioCtx:D.ctx,Line:un,Rect:Wt,Circle:ln,Ellipse:da,Point:Sv,Polygon:Ke,Vec2:F,Color:Dt,Mat4:Xn,Quad:te,RNG:rp,rand:Ee,randi:op,randSeed:iv,vec2:L,rgb:Gt,hsl2rgb:ev,quad:he,choose:rv,chooseMultiple:sv,shuffle:cp,chance:uv,lerp:an,tween:ft,easings:Cu,map:Yn,mapc:nv,wave:sp,deg2rad:de,rad2deg:bl,clamp:Ln,evaluateQuadratic:Mv,evaluateQuadraticFirstDerivative:Tv,evaluateQuadraticSecondDerivative:qv,evaluateBezier:Sf,evaluateBezierFirstDerivative:Dv,evaluateBezierSecondDerivative:Ov,evaluateCatmullRom:Rv,evaluateCatmullRomFirstDerivative:Cv,curveLengthApproximation:bp,normalizedCurve:zv,hermite:_u,cardinal:wp,catmullRom:rr,bezier:Bv,kochanekBartels:Uv,easingSteps:Yv,easingLinear:jv,easingCubicBezier:Gv,testLineLine:yf,testRectRect:fp,testRectLine:vf,testRectPoint:pr,testCirclePolygon:vr,testLinePoint:Af,testLineCircle:Hu,isConvex:Kv,triangulate:Sp,NavMesh:JA,drawSprite:O2,drawText:Pm,formatText:xl,drawRect:Sn,drawLine:Mu,drawLines:Rf,drawTriangle:Jp,drawCircle:wi,drawEllipse:Qp,drawUVQuad:Uu,drawPolygon:Xa,drawCurve:Zp,drawBezier:x2,drawFormattedText:Sl,drawMasked:D2,drawSubtracted:R2,pushTransform:wn,popTransform:nn,pushTranslate:ae,pushScale:zu,pushRotate:vi,pushMatrix:IA,usePostEffect:P,makeCanvas:U,debug:R,scene:qb,getSceneName:Rb,go:Db,onSceneLeave:Ob,layers:Mb,getLayers:Sb,setLayers:g0,getDefaultLayer:Eb,addLevel:L2,getData:X,setData:K,download:Mf,downloadJSON:rA,downloadText:Rp,downloadBlob:Xm,plug:tt,ASCII_CHARS:Ep,canvas:h.canvas,addKaboom:xb,LEFT:F.LEFT,RIGHT:F.RIGHT,UP:F.UP,DOWN:F.DOWN,RED:Dt.RED,GREEN:Dt.GREEN,BLUE:Dt.BLUE,YELLOW:Dt.YELLOW,MAGENTA:Dt.MAGENTA,CYAN:Dt.CYAN,WHITE:Dt.WHITE,BLACK:Dt.BLACK,quit:Zt,KEvent:Qe,KEventHandler:Ru,KEventController:Ml,cancel:()=>Tp};v.k=De;let ga=n.plugins;if(ga&&ga.forEach(tt),n.global!==!1)for(let ct in De)window[ct]=De[ct];return n.focus!==!1&&h.canvas.focus(),De},hw=fw;function dw(){return hw({global:!1,pixelDensity:2,touchToMouse:!0,debug:!0,debugKey:"f1",canvas:document.getElementById("game")})}const Ve={color1:"#272946",color2:"#ace8f9"},gw=1/Math.sqrt(2),ep=2,np=.2,Bn={};let mw=0;function Ja(n,a){const u=`atom${++mw}`,s={toString(){return(Bn?"production":void 0)!=="production"&&this.debugLabel?u+":"+this.debugLabel:u}};return typeof n=="function"?s.read=n:(s.init=n,s.read=pw,s.write=yw),s}function pw(n){return n(this)}function yw(n,a,u){return a(this,typeof u=="function"?u(n(this)):u)}const ap=(n,a)=>n.unstable_is?n.unstable_is(a):a===n,Qc=n=>"init"in n,Zc=n=>!!n.write,mr=new WeakMap,gf=n=>{var a;return mf(n)&&!((a=mr.get(n))!=null&&a[1])},vw=(n,a)=>{const u=mr.get(n);if(u)u[1]=!0,u[0].forEach(s=>s(a));else if((Bn?"production":void 0)!=="production")throw new Error("[Bug] cancelable promise not found")},Aw=n=>{if(mr.has(n))return;const a=[new Set,!1];mr.set(n,a);const u=()=>{a[1]=!0};n.then(u,u),n.onCancel=s=>{a[0].add(s)}},mf=n=>typeof n?.then=="function",lp=n=>"v"in n||"e"in n,$s=n=>{if("e"in n)throw n.e;if((Bn?"production":void 0)!=="production"&&!("v"in n))throw new Error("[Bug] atom state is not initialized");return n.v},b0=(n,a,u)=>{u.p.has(n)||(u.p.add(n),a.then(()=>{u.p.delete(n)},()=>{u.p.delete(n)}))},ip=(n,a,u,s,o)=>{var f;if((Bn?"production":void 0)!=="production"&&s===a)throw new Error("[Bug] atom cannot depend on itself");u.d.set(s,o.n),gf(u.v)&&b0(a,u.v,o),(f=o.m)==null||f.t.add(a),n&&bw(n,s,a)},mi=()=>[new Map,new Map,new Set],Kc=(n,a,u)=>{n[0].has(a)||n[0].set(a,new Set),n[1].set(a,u)},bw=(n,a,u)=>{const s=n[0].get(a);s&&s.add(u)},ww=(n,a)=>n[0].get(a),up=(n,a)=>{n[2].add(a)},yl=n=>{for(;n[1].size||n[2].size;){n[0].clear();const a=new Set(n[1].values());n[1].clear();const u=new Set(n[2]);n[2].clear(),a.forEach(s=>{var o;return(o=s.m)==null?void 0:o.l.forEach(f=>f())}),u.forEach(s=>s())}},w0=n=>{let a;(Bn?"production":void 0)!=="production"&&(a=new Set);const u=(D,x,w)=>{const U="v"in x,V=x.v,P=gf(x.v)?x.v:null;if(mf(w)){Aw(w);for(const G of x.d.keys())b0(D,w,n(G,x));x.v=w,delete x.e}else x.v=w,delete x.e;(!U||!Object.is(V,x.v))&&(++x.n,P&&vw(P,w))},s=(D,x,w,U)=>{var V;if(!U?.(x)&&lp(w)&&(w.m||Array.from(w.d).every(([K,tt])=>s(D,K,n(K,w),U).n===tt)))return w;w.d.clear();let P=!0;const G=K=>{if(ap(x,K)){const et=n(K,w);if(!lp(et))if(Qc(K))u(K,et,K.init);else throw new Error("no atom init");return $s(et)}const tt=s(D,K,n(K,w),U);if(P)ip(D,x,w,K,tt);else{const et=mi();ip(et,x,w,K,tt),h(et,x,w),yl(et)}return $s(tt)};let O,R;const X={get signal(){return O||(O=new AbortController),O.signal},get setSelf(){return(Bn?"production":void 0)!=="production"&&!Zc(x)&&console.warn("setSelf function cannot be used with read-only atom"),!R&&Zc(x)&&(R=(...K)=>{if((Bn?"production":void 0)!=="production"&&P&&console.warn("setSelf function cannot be called in sync"),!P)return m(x,...K)}),R}};try{const K=x.read(G,X);if(u(x,w,K),mf(K)){(V=K.onCancel)==null||V.call(K,()=>O?.abort());const tt=()=>{if(w.m){const et=mi();h(et,x,w),yl(et)}};K.then(tt,tt)}return w}catch(K){return delete w.v,w.e=K,++w.n,w}finally{P=!1}},o=D=>$s(s(void 0,D,n(D))),f=(D,x,w)=>{var U,V;const P=new Map;for(const G of((U=w.m)==null?void 0:U.t)||[])P.set(G,n(G,w));for(const G of w.p)P.set(G,n(G,w));return(V=ww(D,x))==null||V.forEach(G=>{P.set(G,n(G,w))}),P},d=(D,x,w)=>{const U=[],V=new Set,P=(R,X)=>{if(!V.has(R)){V.add(R);for(const[K,tt]of f(D,R,X))R!==K&&P(K,tt);U.push([R,X,X.n])}};P(x,w);const G=new Set([x]),O=R=>V.has(R);for(let R=U.length-1;R>=0;--R){const[X,K,tt]=U[R];let et=!1;for(const ut of K.d.keys())if(ut!==X&&G.has(ut)){et=!0;break}et&&(s(D,X,K,O),h(D,X,K),tt!==K.n&&(Kc(D,X,K),G.add(X))),V.delete(X)}},y=(D,x,w,...U)=>{const V=O=>$s(s(D,O,n(O,w))),P=(O,...R)=>{const X=n(O,w);let K;if(ap(x,O)){if(!Qc(O))throw new Error("atom not writable");const tt="v"in X,et=X.v,ut=R[0];u(O,X,ut),h(D,O,X),(!tt||!Object.is(et,X.v))&&(Kc(D,O,X),d(D,O,X))}else K=y(D,O,X,...R);return yl(D),K};return x.write(V,P,...U)},m=(D,...x)=>{const w=mi(),U=y(w,D,n(D),...x);return yl(w),U},h=(D,x,w)=>{if(w.m&&!gf(w.v)){for(const U of w.d.keys())w.m.d.has(U)||(b(D,U,n(U,w)).t.add(x),w.m.d.add(U));for(const U of w.m.d||[])if(!w.d.has(U)){w.m.d.delete(U);const V=S(D,U,n(U,w));V?.t.delete(x)}}},b=(D,x,w)=>{if(!w.m){s(D,x,w);for(const U of w.d.keys())b(D,U,n(U,w)).t.add(x);if(w.m={l:new Set,d:new Set(w.d.keys()),t:new Set},(Bn?"production":void 0)!=="production"&&a.add(x),Zc(x)&&x.onMount){const U=w.m,{onMount:V}=x;up(D,()=>{const P=V((...G)=>y(D,x,w,...G));P&&(U.u=P)})}}return w.m},S=(D,x,w)=>{if(w.m&&!w.m.l.size&&!Array.from(w.m.t).some(U=>{var V;return(V=n(U,w).m)==null?void 0:V.d.has(x)})){const U=w.m.u;U&&up(D,U),delete w.m,(Bn?"production":void 0)!=="production"&&a.delete(x);for(const V of w.d.keys()){const P=S(D,V,n(V,w));P?.t.delete(x)}return}return w.m},E={get:o,set:m,sub:(D,x)=>{const w=mi(),U=n(D),V=b(w,D,U);yl(w);const P=V.l;return P.add(x),()=>{P.delete(x);const G=mi();S(G,D,U),yl(G)}},unstable_derive:D=>w0(...D(n))};return(Bn?"production":void 0)!=="production"&&Object.assign(E,{dev4_get_internal_weak_map:()=>({get:x=>{const w=n(x);if(w.n!==0)return w}}),dev4_get_mounted_atoms:()=>a,dev4_restore_atoms:x=>{const w=mi();for(const[U,V]of x)if(Qc(U)){const P=n(U),G="v"in P,O=P.v;u(U,P,V),h(w,U,P),(!G||!Object.is(O,P.v))&&(Kc(w,U,P),d(w,U,P))}yl(w)}}),E},Uf=()=>{const n=new WeakMap;return w0(u=>{let s=n.get(u);return s||(s={d:new Map,p:new Set,n:0},n.set(u,s)),s})};let vu;const xw=()=>(vu||(vu=Uf(),(Bn?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=vu),globalThis.__JOTAI_DEFAULT_STORE__!==vu&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),vu),x0={},S0=Un.createContext(void 0),E0=n=>Un.useContext(S0)||xw(),Sw=({children:n,store:a})=>{const u=Un.useRef();return!a&&!u.current&&(u.current=Uf()),Un.createElement(S0.Provider,{value:a||u.current},n)},M0=n=>typeof n?.then=="function",Ew=n=>{n.status="pending",n.then(a=>{n.status="fulfilled",n.value=a},a=>{n.status="rejected",n.reason=a})},Mw=Z1.use||(n=>{if(n.status==="pending")throw n;if(n.status==="fulfilled")return n.value;throw n.status==="rejected"?n.reason:(Ew(n),n)}),Jc=new WeakMap,Tw=n=>{let a=Jc.get(n);return a||(a=new Promise((u,s)=>{let o=n;const f=m=>h=>{o===m&&u(h)},d=m=>h=>{o===m&&s(h)},y=m=>{"onCancel"in m&&typeof m.onCancel=="function"&&m.onCancel(h=>{if((x0?"production":void 0)!=="production"&&h===m)throw new Error("[Bug] p is not updated even after cancelation");M0(h)?(Jc.set(h,a),o=h,h.then(f(h),d(h)),y(h)):u(h)})};n.then(f(n),d(n)),y(n)}),Jc.set(n,a)),a};function Nu(n,a){const u=E0(),[[s,o,f],d]=Un.useReducer(h=>{const b=u.get(n);return Object.is(h[0],b)&&h[1]===u&&h[2]===n?h:[b,u,n]},void 0,()=>[u.get(n),u,n]);let y=s;if((o!==u||f!==n)&&(d(),y=u.get(n)),Un.useEffect(()=>{const h=u.sub(n,()=>{d()});return d(),h},[u,n,void 0]),Un.useDebugValue(y),M0(y)){const h=Tw(y);return Mw(h)}return y}function qw(n,a){const u=E0();return Un.useCallback((...o)=>{if((x0?"production":void 0)!=="production"&&!("write"in n))throw new Error("not writable atom");return u.set(n,...o)},[u,n])}function Sr(n,a){return[Nu(n),qw(n)]}const Nf=Ja(!1),T0=Ja(null),q0=Ja(""),Hf=Ja(!1),D0=Ja(""),_f=Ja(!1),O0=Ja({title:"",links:[{id:0,name:"",link:""}]}),ir=Ja({value:1}),Ze=Uf();function Dw(n,a,u){const s=n.add([n.sprite("player",{anim:"walk-down"}),n.scale(8),n.anchor("center"),n.area({shape:new n.Rect(n.vec2(0),5,10)}),n.body(),n.pos(a),"player",{direction:n.vec2(0,0),directionName:"walk-down"}]);let o=!1;const f=document.getElementById("game");return f.addEventListener("focusout",()=>{o=!1}),f.addEventListener("mousedown",()=>{o=!0}),f.addEventListener("mouseup",()=>{o=!1}),f.addEventListener("touchstart",()=>{o=!0}),f.addEventListener("touchend",()=>{o=!1}),s.onUpdate(()=>{if(n.camPos().eq(s.pos)||n.tween(n.camPos(),s.pos,.2,y=>n.camPos(y),n.easings.linear),Ze.get(Nf)||Ze.get(Hf)||Ze.get(_f))return;s.direction=n.vec2(0,0);const d=n.toWorld(n.mousePos());if(o&&(s.direction=d.sub(s.pos).unit()),s.direction.eq(n.vec2(0,0))&&!s.getCurAnim().name.includes("idle")){s.play(`${s.directionName}-idle`);return}if(s.direction.x>0&&s.direction.y>-.5&&s.direction.y<.5&&(s.directionName="walk-right"),s.direction.x<0&&s.direction.y>-.5&&s.direction.y<.5&&(s.directionName="walk-left"),s.direction.x<0&&s.direction.y<-.8&&(s.directionName="walk-up"),s.direction.x<0&&s.direction.y>.8&&(s.directionName="walk-down"),s.direction.x<0&&s.direction.y>-.8&&s.direction.y<-.5&&(s.directionName="walk-left-up"),s.direction.x<0&&s.direction.y>.5&&s.direction.y<.8&&(s.directionName="walk-left-down"),s.direction.x>0&&s.direction.y<-.5&&s.direction.y>-.8&&(s.directionName="walk-right-up"),s.direction.x>0&&s.direction.y>.5&&s.direction.y<.8&&(s.directionName="walk-right-down"),s.getCurAnim().name!==s.directionName&&s.play(s.directionName),s.direction.x&&s.direction.y){s.move(s.direction.scale(gw*u));return}s.move(s.direction.scale(u))}),s}function tr(n,a,u,s=null){const o=n.add([n.rect(200,200,{radius:10}),n.anchor("center"),n.area(),n.pos(a),n.color(Ve.color1),u]);if(o.add([n.text(u,{font:"ibm-bold",size:64}),n.color(Ve.color1),n.anchor("center"),n.pos(0,-150)]),s){const f=o.onCollide("player",()=>{s(o),f.cancel()})}return o}async function Au(n,a){await n.tween(a.opacity,1,.5,u=>{a.opacity=u;for(const s of a.children)s.opacity=a.opacity},n.easings.linear),a.opacityTrickleDown&&a.opacityTrickleDown.cancel()}function ju(n,a){n.opacityTrickleDown=n.onUpdate(()=>{for(const u of a)u.opacity=n.opacity})}function jf(n,a,u,s,o){const f=a.add([n.sprite(s.name,{width:s.width,height:s.height}),n.anchor("center"),n.pos(u),n.opacity(0),n.offscreen({hide:!0,distance:300})]),d=f.add([n.text(o,{font:"ibm-bold",size:32}),n.color(n.Color.fromHex(Ve.color1)),n.anchor("center"),n.pos(0,100),n.opacity(0)]);return[f,d]}function Ow(n,a,u,s,o,f,d){const[y,m]=jf(n,a,u,s,o),h=y.add([n.circle(30),n.color(n.Color.fromHex(Ve.color1)),n.anchor("center"),n.area(),n.pos(0,150),n.opacity(0)]);return h.onCollide("player",()=>{Ze.set(Nf,!0),Ze.set(T0,f),Ze.set(q0,d)}),ju(a,[m,h]),y}function Rw(n,a,u,s,o){const[f,d]=jf(n,a,u,s,o);return f.use(n.area({shape:new n.Rect(n.vec2(0),f.width+50,f.height+65)})),f.use(n.body({drag:1})),f.use({direction:n.vec2(0,0)}),f.onCollide("player",y=>{f.applyImpulse(y.direction.scale(1e3)),f.direction=y.direction}),ju(a,[d]),f}function Cw(n,a,u,s,o){const f=a.add([n.rect(800,s,{radius:8}),n.area(),n.outline(4,n.Color.fromHex(Ve.color1)),n.pos(u),n.color(n.Color.fromHex(Ve.color2)),n.opacity(0),n.offscreen({hide:!0,distance:300})]),d=f.add([n.text(o.title,{font:"ibm-bold",size:32}),n.color(n.Color.fromHex(Ve.color1)),n.pos(20,20),n.opacity(0)]),y=f.add([n.text("hello world!"),n.text(`${o.company.name} -- ${o.company.startDate}-${o.company.endDate}`,{font:"ibm-regular",size:20}),n.color(n.Color.fromHex(Ve.color1)),n.pos(20,60),n.opacity(0)]),m=f.add([n.text(o.description,{font:"ibm-regular",size:25,width:750}),n.color(n.Color.fromHex(Ve.color1)),n.pos(20,110),n.opacity(0)]);return ju(a,[d,y,m]),f}function zw(n,a,u,s,o,f){const[d,y]=jf(n,a,u,s,o),m=d.add([n.circle(30),n.color(n.Color.fromHex(Ve.color1)),n.anchor("center"),n.area(),n.pos(0,150),n.opacity(0)]);return m.onCollide("player",()=>{Ze.set(Hf,!0),Ze.set(D0,f)}),ju(a,[y,m]),d}function Bw(n,a,u,s,o){const f=a.add([n.anchor("center"),n.pos(u),n.opacity(0),n.offscreen({hide:!0,distance:300})]),d=f.add([n.rect(640,360,{radius:10}),n.anchor("center"),n.mask("intersect"),n.opacity(0)]),y=d.add([n.sprite(o,{width:640,height:360}),n.anchor("center"),n.opacity(0)]),m=f.add([n.text(s.title,{font:"ibm-bold",size:32,width:600,lineSpacing:12}),n.color(n.Color.fromHex(Ve.color1)),n.pos(-310,200),n.opacity(0)]),h=f.add([n.circle(30),n.area(),n.color(n.Color.fromHex(Ve.color1)),n.pos(400,0),n.opacity(0)]);return h.onCollide("player",()=>{Ze.set(_f,!0),Ze.set(O0,s)}),ju(a,[d,y,m,h]),f}async function Uw(){const n=await(await fetch("./configs/generalData.json")).json(),a=await(await fetch("./configs/skillsData.json")).json(),u=await(await fetch("./configs/socialsData.json")).json(),s=await(await fetch("./configs/experiencesData.json")).json(),o=await(await fetch("./configs/projectsData.json")).json(),f=dw();f.loadSprite("player","./sprites/player.png",{sliceX:4,sliceY:8,anims:{"walk-down-idle":0,"walk-down":{from:0,to:3,loop:!0},"walk-left-down":{from:4,to:7,loop:!0},"walk-left-down-idle":4,"walk-left":{from:8,to:11,loop:!0},"walk-left-idle":8,"walk-left-up":{from:12,to:15,loop:!0},"walk-left-up-idle":12,"walk-up":{from:16,to:19,loop:!0},"walk-up-idle":16,"walk-right-up":{from:20,to:23,loop:!0},"walk-right-up-idle":20,"walk-right":{from:24,to:27,loop:!0},"walk-right-idle":24,"walk-right-down":{from:28,to:31,loop:!0},"walk-right-down-idle":28}}),f.loadFont("ibm-regular","./fonts/IBMPlexSans-Regular.ttf"),f.loadFont("ibm-bold","./fonts/IBMPlexSans-Bold.ttf"),f.loadSprite("github-logo","./logos/github-logo.png"),f.loadSprite("linkedin-logo","./logos/linkedin-logo.png"),f.loadSprite("youtube-logo","./logos/youtube-logo.png"),f.loadSprite("javascript-logo","./logos/js-logo.png"),f.loadSprite("postgres-logo","./logos/postgres-logo.png"),f.loadSprite("html-logo","./logos/html-logo.png"),f.loadSprite("css-logo","./logos/css-logo.png"),f.loadSprite("python-logo","./logos/python-logo.png"),f.loadSprite("c-logo","./logos/c-logo.png"),f.loadSprite("csharp-logo","./logos/csharp-logo.png"),f.loadSprite("aseprite-logo","./logos/aseprite-logo.png"),f.loadSprite("unity-logo","./logos/unity-logo.png"),f.loadSprite("unrealengine-logo","./logos/unrealengine-logo.png"),f.loadSprite("java-logo","./logos/java-logo.png"),f.loadSprite("itch-logo","./logos/itch-logo.png"),f.loadSprite("email-logo","./logos/email-logo.png"),f.loadSprite("mixed-signals","./projects/mixed-signals.png"),f.loadSprite("no-matter-the-distance","./projects/no-matter-the-distance.png"),f.loadSprite("shiny-horror","./projects/shiny-horror.png"),f.loadSprite("background-map",n.backgroundImage),f.loadShaderURL("tiledPattern",null,"./shaders/tiledPattern.frag"),(()=>{if(f.width()<1e3){f.setCamScale(.3),Ze.set(ir,.5);return}f.setCamScale(.6),Ze.set(ir,.8)})(),f.onUpdate(()=>{const m=Ze.get(ir),h=f.getCamScale().x;m!==h&&f.setCamScale(m)});const y=f.add([f.sprite("background-map",{tiled:!0,width:f.width(),height:f.height()}),f.pos(0,0),f.fixed()]);y.onUpdate(()=>{y.width=f.width(),y.height=f.height()}),tr(f,f.vec2(f.center().x,f.center().y-400),n.section1Name,m=>{const h=m.add([f.pos(-805,-700),f.opacity(0)]);h.add([f.text(n.header.title,{font:"ibm-bold",size:88}),f.color(f.Color.fromHex(Ve.color1)),f.pos(395,0),f.opacity(0)]),h.add([f.text(n.header.subtitle,{font:"ibm-bold",size:48}),f.color(f.Color.fromHex(Ve.color1)),f.pos(485,100),f.opacity(0)]);const b=h.add([f.pos(130,0),f.opacity(0)]);for(const S of u){if(S.name==="Email"){zw(f,b,f.vec2(S.pos.x,S.pos.y),S.logoData,S.name,S.address);continue}Ow(f,b,f.vec2(S.pos.x,S.pos.y),S.logoData,S.name,S.link,S.description)}Au(f,h),Au(f,b)}),tr(f,f.vec2(f.center().x-400,f.center().y),n.section2Name,m=>{const h=f.add([f.opacity(0),f.pos(m.pos.x-300,m.pos.y)]);for(const b of a)Rw(f,h,f.vec2(b.pos.x,b.pos.y),b.logoData,b.name);Au(f,h)}),tr(f,f.vec2(f.center().x+400,f.center().y),n.section3Name,m=>{const h=m.add([f.opacity(0),f.pos(0)]);for(const b of s)Cw(f,h,f.vec2(b.pos.x,b.pos.y),b.cardHeight,b.roleData);Au(f,h)}),tr(f,f.vec2(f.center().x,f.center().y+400),n.section4Name,m=>{const h=m.add([f.opacity(0),f.pos(0,0)]);for(const b of o)Bw(f,h,f.vec2(b.pos.x,b.pos.y),b.data,b.thumbnail);Au(f,h)}),Dw(f,f.vec2(f.center()),700)}function Nw(){const[n,a]=Sr(ir);return Ct.jsxs("div",{className:"camera-controller",children:[Ct.jsx("button",{className:"camera-controller-btn",onClick:()=>{const u=n+.2;u<=ep&&u>=np&&a(u)},children:"+"}),Ct.jsx("button",{className:"camera-controller-btn",onClick:()=>{const u=n-.2;u<=ep&&u>=np&&a(u)},children:"-"})]})}function Hw(){const[n,a]=Sr(Nf),u=Nu(T0),s=Nu(q0),o=[{id:0,name:"Yes",handler:()=>{window.open(u,"_blank"),a(!1)}},{id:1,name:"No",handler:()=>{a(!1)}}];return n&&Ct.jsx("div",{className:"modal",children:Ct.jsxs("div",{className:"modal-content",children:[Ct.jsx("h1",{children:"Do you want to open this link?"}),Ct.jsx("span",{children:u}),Ct.jsx("p",{children:s}),Ct.jsx("div",{className:"modal-btn-container",children:o.map(f=>Ct.jsx("button",{className:"modal-btn",onClick:f.handler,children:f.name},f.id))})]})})}function _w(){const[n,a]=Sr(Hf),u=Nu(D0),[s,o]=Un.useState(""),f=[{id:0,name:"Yes",handler:()=>{navigator.clipboard.writeText(u),o("Email copied to clipboard!")}},{id:1,name:"No",handler:()=>{a(!1)}}];return n&&Ct.jsx("div",{className:"modal",children:Ct.jsxs("div",{className:"modal-content",children:[Ct.jsx("h1",{children:"Copy my email to your clipboard?"}),Ct.jsx("span",{children:u}),Ct.jsx("p",{children:s}),Ct.jsx("div",{className:"modal-btn-container",children:f.map(d=>Ct.jsx("button",{className:"modal-btn",onClick:d.handler,children:d.name},d.id))})]})})}function jw(){const n=Nu(O0),[a,u]=Sr(_f);return a&&Ct.jsx("div",{className:"modal",children:Ct.jsxs("div",{className:"modal-content",children:[Ct.jsx("h1",{children:n.title}),Ct.jsxs("div",{className:"modal-btn-container",children:[n.links.map(s=>Ct.jsx("button",{className:"modal-btn",onClick:()=>{window.open(s.link,"_blank")},children:s.name},s.id)),Ct.jsx("button",{className:"modal-btn",onClick:()=>{u(!1)},children:"Close"})]})]})})}function Gw(){return Ct.jsxs(Ct.Fragment,{children:[Ct.jsx("p",{className:"controls-message",children:"Tap/Click around to move"}),Ct.jsx(Nw,{}),Ct.jsx(Hw,{}),Ct.jsx(_w,{}),Ct.jsx(jw,{})]})}const Yw=document.getElementById("ui"),Lw=P1.createRoot(Yw);Lw.render(Ct.jsx(Un.StrictMode,{children:Ct.jsx(Sw,{store:Ze,children:Ct.jsx(Gw,{})})}));Uw();
